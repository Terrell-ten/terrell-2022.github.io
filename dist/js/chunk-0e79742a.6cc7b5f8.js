(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0e79742a"],{"2f88":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"","current-page":t.currentPage,"page-sizes":t.pageSizesArr||t.pageSizesArrInit,"page-size":t.pageSize,layout:t.layout,total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},r=[],i=(a("a9e3"),a("ac1f"),a("1276"),{props:{pageSize:{type:Number,default:10},pageSizesArr:{type:Array,default:null},layout:{type:String,default:"total,sizes,prev, pager, next"},total:Number,currentPage:Number},data:function(){return{pageSizesArrInit:[24,100,200,500,1e3]}},mounted:function(){var t=location.href.split("/")[2];"192.168.1.145:8080"===t&&(this.pageSizesArrInit=[2,24,100,200,500,1e3])},methods:{handleSizeChange:function(t){this.$emit("handleSizeChange",t)},handleCurrentChange:function(t){this.$emit("handleCurrentChange",t)}}}),o=i,l=a("2877"),u=Object(l["a"])(o,n,r,!1,null,"79dfe774",null);e["a"]=u.exports},4795:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"a",(function(){return r}));a("a434");function n(t){var e=new Date(t),a=e.getMonth()+1,n=e.getDate();a>=1&&a<=9&&(a="0"+a),n>=0&&n<=9&&(n="0"+n);var r=e.getFullYear()+"-"+a+"-"+n+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds();return r}function r(t,e){for(var a=t.length,n=0;n<a;n++)if(t[n].id===e)return 0===n?(t.shift(),t):n===a-1?(t.pop(),t):(t.splice(n,1),t)}},"6fe4":function(t,e,a){},8317:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-conent main-conent-minheight"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.formQuery}},[a("el-form-item",{staticStyle:{"margin-right":"30px"},attrs:{label:"日期从："}},[a("div",{staticClass:"block"},[a("el-date-picker",{staticStyle:{width:"140px"},attrs:{type:"date",align:"right",placeholder:"开始日期","value-format":"yyyy-MM-dd","picker-options":{disabledDate:t.starDataMax}},model:{value:t.formQuery.startTime,callback:function(e){t.$set(t.formQuery,"startTime",e)},expression:"formQuery.startTime"}}),t._v(" - "),a("el-date-picker",{staticStyle:{width:"140px"},attrs:{type:"date",align:"right",placeholder:"结束时间","value-format":"yyyy-MM-dd","picker-options":{disabledDate:t.endDataMin}},model:{value:t.formQuery.endTime,callback:function(e){t.$set(t.formQuery,"endTime",e)},expression:"formQuery.endTime"}})],1)]),a("el-form-item",{attrs:{label:"商品名称："}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择","filter-method":t.search,clearable:""},on:{change:t.searchCle},model:{value:t.formQuery.productId,callback:function(e){t.$set(t.formQuery,"productId",e)},expression:"formQuery.productId"}},t._l(t.optionsGoods,(function(t){return a("el-option",{key:t.id,attrs:{label:t.namecode,value:t.id}})})),1)],1),a("el-form-item",{attrs:{label:"报溢单号："}},[a("el-input",{model:{value:t.formQuery.outturnPlanCode,callback:function(e){t.$set(t.formQuery,"outturnPlanCode",e)},expression:"formQuery.outturnPlanCode"}})],1),a("el-form-item",{staticClass:"overall",staticStyle:{"margin-right":"30px"}},[a("el-button",{attrs:{type:"primary",loading:t.loadingQuery},on:{click:t.onSubmit}},[t._v("查询")])],1),a("el-form-item",{staticClass:"overall",staticStyle:{"margin-right":"30px"}},[a("el-button",{attrs:{type:"primary",loading:t.loadingQuery},on:{click:t.clickExport}},[t._v("导出查询结果到EXCEL")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingTab,expression:"loadingTab"}],ref:"TableData",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"",stripe:"","highlight-current-row":""}},[a("el-table-column",{attrs:{property:"id",label:"标注",width:"50",align:"center"}}),a("el-table-column",{attrs:{property:"outturnPlanCode",label:" 报溢单号",align:"center","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{property:"namecode",label:"物品名称",align:"center","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{property:"num",label:"数量",align:"center"}}),a("el-table-column",{attrs:{property:"price",label:"金额（元）",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("num_tofixed")(e.row.price)))])]}}])}),a("el-table-column",{attrs:{property:"unit",label:"单位",align:"center"}}),a("el-table-column",{attrs:{property:"specif",label:"单位",align:"center"}}),a("el-table-column",{attrs:{property:"optdate",label:"申请日期",align:"center"}}),a("el-table-column",{attrs:{property:"nodetype",label:"状态类型",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(6==e.row.nodetype?"有效":"无效"))])]}}])})],1),a("div",{staticClass:"margin-t16 text-right"},[a("AppPaging",{attrs:{total:t.allTate,pageSize:t.paramData.pageSize,currentPage:t.paramData.page},on:{handleCurrentChange:t.handleCurrentChange,handleSizeChange:t.handleSizeChange}})],1)],1)},r=[],i=a("5530"),o=(a("d3b7"),a("159b"),a("b64b"),a("a434"),a("2f62")),l=a("4795"),u=a("a80d"),s=a("da87"),c=a("2f88"),d={components:{AppPaging:c["a"]},data:function(){return{scrollTop:0,scrollLeft:0,loadingTab:!1,loadingQuery:!1,svalue1:"",svalue2:"",info:{isTrue:!1,isShow:!0},checked:!1,checked1:!1,checked2:!1,checked3:!1,value1:"",value2:"",allTate:24,currentPage:1,tableData:[],formQuery:{startTime:"",endTime:"",productId:"",outturnPlanCode:""},paramData:{page:1,pageSize:24},optionsGoods:[],max_history:10,historyList:[]}},computed:Object(i["a"])({},Object(o["c"])({userId:"user/userId"})),created:function(){this.onSubmit()},methods:{starDataMax:function(t){if(this.formQuery.endTime)return t.getTime()>=Date.parse(this.formQuery.endTime)},endDataMin:function(t){if(this.formQuery.startTime)return t.getTime()<=Date.parse(this.formQuery.startTime)-864e5},search:function(t){t.length>=2?this.getAllProductInfo(t):this.optionsGoods=[]},searchCle:function(t){t||(this.optionsGoods=[])},onSubmit:function(){var t=this.formQuery,e=Object(i["a"])({page:1,pageSize:this.paramData.pageSize,outturnPlanType:2},t);Object.keys(e).forEach((function(t){var a=e[t];""===a&&delete e[t]})),this.paramData=e,this.getOutturnPlanListList(e)},getOutturnPlanListList:function(t){var e=this;this.loadingTab=!0,Object(u["f"])(t).then((function(t){if(e.loadingTab=!1,200===t.code){var a=t.data.list;e.currentPage=t.data.pageNum,e.allTate=t.data.total,e.tableData=a}else e.$message({message:t.message,type:"warning"})}))},handleSizeChange:function(t){this.paramData.pageSize=t,this.handleCurrentChange(1)},handleCurrentChange:function(t){this.paramData.page=t,this.getOutturnPlanListList(this.paramData)},handleSelectionChange:function(t){this.batchList=t,this.multipleSelection=t},getAllProductInfo:function(t){var e=this,a={nodeType:100303,productName:t};Object(s["f"])(a).then((function(t){200===t.code?e.optionsGoods=t.data:e.$message({message:t.message,type:"warning"})}))},clickTransfers:function(){this.innerVisibleGoods=!0},addGoods:function(){this.innerVisibleGoodsDeailt=!0;for(var t=this.gridDataGoods,e=this.gridData,a=0;a<t.length;a++){t[a].stateNum=0;for(var n=0;n<e.length;n++)e[n].id===t[a].id&&(t[a].stateNum=2)}},putLoss:function(){this.innerVisibleGoods=!0},lossDetail:function(t,e){this.auditBool=2!==e,this.dialogVisibleDetail=!0},deleGoods:function(t){var e=this,a=this.gridData;Object(l["a"])(a,t),this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},clickExport:function(){this.formQuery.paramStr="开始时间："+this.formQuery.startTime+",结束时间："+this.formQuery.endTime,this.operationCausticExcessive2(this.formQuery)},operationCausticExcessive2:function(t){var e=this,a=Object(i["a"])({outturnPlanType:2},t);a.nodeType||delete a.nodeType,a.outturnPlanCode||delete a.outturnPlanCode,delete a.dataTime,Object(u["k"])(a).then((function(t){200===t.code&&(e.dialogVisibleDetail=!1,e.$message({message:"成功导出",type:"success"}))}))},GoodsFocus:function(){var t=localStorage.getItem("data");t&&(this.optionsGoods=JSON.parse(t),this.historydata(JSON.parse(t)))},removalDuplicate:function(t){for(var e=0;e<t.length;e++){var a=t[e];if(""!==a)for(var n=e+1;n<t.length;n++)t[e].id===t[n].id&&t.splice(e,1)}return t},historydata:function(t){this.optionsGoods=[];var e=localStorage.getItem("data");this.optionsGoods=JSON.parse(e),t.length>this.max_history&&this.optionsGoods.splice(this.max_history)},clickDetail:function(){this.innerVisibleGoods=!0},add:function(){this.info.isTrue=!0,this.info.isShow=!0},viewDetail:function(){this.info.isTrue=!0,this.info.isShow=!0}},mounted:function(){},activated:function(){var t=this;setTimeout((function(){t.$refs.TableData.bodyWrapper.scrollTop=t.scrollTop,t.$refs.TableData.bodyWrapper.scrollLeft=t.scrollLeft}),60)},beforeRouteLeave:function(t,e,a){this.scrollTop=this.$refs.TableData.bodyWrapper.scrollTop,this.scrollLeft=this.$refs.TableData.bodyWrapper.scrollLeft,a()}},p=d,f=(a("ef0b"),a("2877")),h=Object(f["a"])(p,n,r,!1,null,"56c1fe2f",null);e["default"]=h.exports},a80d:function(t,e,a){"use strict";a.d(e,"e",(function(){return r})),a.d(e,"m",(function(){return i})),a.d(e,"j",(function(){return o})),a.d(e,"f",(function(){return l})),a.d(e,"n",(function(){return u})),a.d(e,"c",(function(){return s})),a.d(e,"l",(function(){return c})),a.d(e,"a",(function(){return d})),a.d(e,"d",(function(){return p})),a.d(e,"h",(function(){return f})),a.d(e,"i",(function(){return h})),a.d(e,"b",(function(){return m})),a.d(e,"k",(function(){return g})),a.d(e,"g",(function(){return b}));var n=a("83c3");function r(t){return Object(n["a"])({url:"/outturnPlan/selectOutturnPlanList",method:"get",params:t})}function i(t){return Object(n["a"])({url:"/outturnPlan/saveOutturnPlan",method:"post",data:t})}function o(t){return Object(n["a"])({url:"/admin/shopper/warehouse/list",method:"get",params:t})}function l(t){return Object(n["a"])({url:"/outturnPlan/getOutturnPlanListList",method:"get",params:t})}function u(t){return Object(n["a"])({url:"/outturnPlan/updateOutturnPlanList",method:"post",data:t})}function s(t,e){return Object(n["a"])({url:"/outturnPlan/deleteOutturnPlanList?id=".concat(e),method:"post",data:t})}function c(t){return Object(n["a"])({url:"/outturnPlan/auditOutturnPlan",method:"POST",data:t})}function d(t){return Object(n["a"])({url:"/admin/data/deleteById/I_outturn_plan_list?dataId="+t,method:"post",data:[]})}function p(t){return Object(n["a"])({url:"/product/getAllProductInfo",method:"get",params:t})}function f(t){return Object(n["a"])({url:"/product/getProductIdAndName",method:"get",params:t})}function h(t){return Object(n["a"])({url:"/product/getProductIdAndNameTwo",method:"get",params:t})}function m(t,e){return Object(n["a"])({url:"/outturnPlan/deleteOutturnPlan?id="+e,method:"post",data:t})}function g(t){return Object(n["a"])({url:"/admin/excel/operationCausticExcessive2",method:"get",params:t})}function b(t){return Object(n["a"])({url:"/product/getProduct",method:"get",params:t})}},ef0b:function(t,e,a){"use strict";a("6fe4")}}]);