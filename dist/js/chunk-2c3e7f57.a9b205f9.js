(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c3e7f57"],{c733:function(t,e,i){"use strict";var a=i("2b0e");e["a"]=new a["default"]},e51c:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main-conent main-conent-minheight flex-main-conent"},[i("div",{staticClass:"flex-box"},[i("div",{staticClass:"flex-top"},[i("div",{attrs:{slot:"header"},slot:"header"},[i("el-form",{attrs:{"label-width":"100px"}},[i("el-row",{staticClass:"flex-wrap-wrap",attrs:{type:"flex",justify:"end"}},[i("el-col",{attrs:{xs:24,sm:24,md:12,lg:8,xl:8}},[i("el-form-item",{attrs:{label:"接口编号："}},[i("el-input",{model:{value:t.id,callback:function(e){t.id=e},expression:"id"}})],1)],1),i("el-col",{attrs:{xs:24,sm:24,md:12,lg:8,xl:8}},[i("el-form-item",{attrs:{label:"对象别名："}},[i("el-input",{model:{value:t.alice,callback:function(e){t.alice=e},expression:"alice"}})],1)],1),i("el-col",{staticClass:"text-right",attrs:{xs:24,sm:24,md:12,lg:8,xl:8}},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.findList(0)}}},[t._v("查询")]),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.add()}}},[t._v("添加业务对象")]),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.findDetailList()}}},[t._v("查询所有明细")])],1)],1)],1),i("el-row")],1)]),i("div",{staticClass:"flex-cont"},[i("v-list",{staticStyle:{height:"100%"},attrs:{lists:t.lists,info:t.info},on:{edit:t.edit}})],1),i("div",{staticClass:"flex-button"},[i("div",{staticClass:"margin-t16 text-right"},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.findList(0)}}},[t._v("第一页")]),t.pageNo>1?i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.findList(-1)}}},[t._v("上一页")]):t._e(),t.lists.length>=24?i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.findList(1)}}},[t._v("下一页")]):t._e(),t.lists.length<24?i("el-button",{attrs:{type:"primary"}},[t._v("已经是最后一页")]):t._e()],1)])]),i("v-add",{ref:"aaa",attrs:{info:t.info}}),i("v-detail-list",{ref:"detail",attrs:{info:t.info}}),i("v-authlist",{attrs:{info:t.info}})],1)},n=[],l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-dialog",{attrs:{title:t.info.isShow?"添加接口配置对象":"修改接口配置对象",visible:t.info.isTrue,width:"50%"},on:{"update:visible":function(e){return t.$set(t.info,"isTrue",e)},close:function(e){return t.hide()}}},[i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.form,rules:t.rules,"label-width":"150px"}},[i("el-form-item",{attrs:{label:"业务对象名称：",prop:"namecode"}},[i("el-input",{model:{value:t.form.namecode,callback:function(e){t.$set(t.form,"namecode",e)},expression:"form.namecode"}})],1),i("el-form-item",{attrs:{label:"业务对象别名：",prop:"alice"}},[i("el-input",{model:{value:t.form.alice,callback:function(e){t.$set(t.form,"alice",e)},expression:"form.alice"}})],1),i("el-form-item",{attrs:{label:"权限：",prop:"allow"}},[i("el-input",{model:{value:t.form.allow,callback:function(e){t.$set(t.form,"allow",e)},expression:"form.allow"}})],1),i("el-form-item",{attrs:{label:"数据类型：",prop:"nodetype"}},[i("el-input",{model:{value:t.form.nodetype,callback:function(e){t.$set(t.form,"nodetype",e)},expression:"form.nodetype"}})],1),i("el-form-item",{attrs:{label:"描述："}},[i("el-input",{model:{value:t.form.vdata,callback:function(e){t.$set(t.form,"vdata",e)},expression:"form.vdata"}})],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.dbstructEdit("ruleForm")}}},[t._v("保存")]),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.hide()}}},[t._v("取 消")])],1)],1)],1)},o=[],r=i("b418"),s=i("2cd9"),c=i("373f"),d={props:["info"],data:function(){return{uploadUrl:s["b"],form:{namecode:"",alice:"",allow:"",nodetype:"",vdata:""},rules:{namecode:[{required:!0,message:"请输入业务对象名称",trigger:"change"},{min:2,max:2e3,message:"长度在 2 到 2000 个字符",trigger:"blur"}],alice:[{required:!0,message:"请输入业务对象别名",trigger:"change"},{min:2,max:2e3,message:"长度在 2 到 2000 个字符",trigger:"blur"}],allow:[{required:!0,message:"请输入权限名称",trigger:"change"},{min:2,max:2e3,message:"长度在 2 到 2000 个字符",trigger:"blur"}],nodetype:[{required:!0,message:"请输入数据类型",trigger:"change"},{min:2,max:2e3,message:"长度在 2 到 2000 个字符",trigger:"blur"}]}}},computed:{},methods:{reset:function(){this.form={namecode:"",alice:"",allow:"",nodetype:"",vdata:""}},hide:function(){this.info.isTrue=!1,this.reset()},getId:function(t){var e=this,i={id:t};Object(r["e"])(i).then((function(t){if(200===t.code){var i=t.data[0];e.form=i}else Object(c["b"])(t.message)}))},dbstructEdit:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return!1;Object(r["d"])(e.form).then((function(t){200===t.code?(Object(c["a"])(t.message),e.reqChangeList(),e.hide()):Object(c["b"])(t.message)}))}))},userAdd:function(){var t=this;Object(r["d"])(this.form).then((function(e){200===e.code&&(Object(c["a"])(e.message),t.reqChangeList(),t.hide())}))}},mounted:function(){}},u=d,f=i("2877"),m=Object(f["a"])(u,l,o,!1,null,"19a6e17c",null),p=m.exports,h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.lists,border:"",height:"100%"}},[i("el-table-column",{attrs:{prop:"id",label:"标识",width:"100",align:"center"}}),i("el-table-column",{attrs:{prop:"namecode",label:"业务对象名称",width:"180",align:"center"}}),i("el-table-column",{attrs:{prop:"alice",label:"业务对象别名",align:"center"}}),i("el-table-column",{attrs:{prop:"allow",label:"权限",align:"center"}}),i("el-table-column",{attrs:{prop:"nodetype",label:"数据类型",align:"center"}}),i("el-table-column",{attrs:{prop:"vdata",label:"描述",align:"center"}}),i("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",[i("el-button",{attrs:{type:"primary"},on:{click:function(i){return t.config(e.row)}}},[t._v("配置接口")])],1)]}}])})],1)],1)},b=[],g=i("c733"),v={props:["lists","info"],components:{},data:function(){return{}},computed:{},methods:{edit:function(t){this.$emit("edit",t)},config:function(t){this.info.authDis=!0,g["a"].$emit("myFun",t)}},mounted:function(){}},y=v,w=Object(f["a"])(y,h,b,!1,null,"b925d4e0",null),x=w.exports,_=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-dialog",{attrs:{title:"明细列表",visible:t.info.isDetailShow,width:"80%"},on:{"update:visible":function(e){return t.$set(t.info,"isDetailShow",e)}}},[i("el-form",{attrs:{"label-width":"100px"}},[i("el-row",{staticClass:"flex-wrap-wrap",attrs:{type:"flex",justify:"end"}},[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"操作名称："}},[i("el-input",{model:{value:t.pname,callback:function(e){t.pname=e},expression:"pname"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"操作类型："}},[i("el-select",{staticStyle:{width:"100%"},attrs:{clearable:""},model:{value:t.intype,callback:function(e){t.intype=e},expression:"intype"}},[i("el-option",{attrs:{label:"全部",value:""}}),i("el-option",{attrs:{label:"insert",value:"insert"}}),i("el-option",{attrs:{label:"updateById",value:"updateById"}}),i("el-option",{attrs:{label:"updateByMap",value:"updateByMap"}}),i("el-option",{attrs:{label:"deleteById",value:"deleteById"}}),i("el-option",{attrs:{label:"selectById",value:"selectById"}}),i("el-option",{attrs:{label:"selectByRela",value:"selectByRela"}}),i("el-option",{attrs:{label:"selectByCond",value:"selectByCond"}}),i("el-option",{attrs:{label:"getCountBycond",value:"getCountBycond"}}),i("el-option",{attrs:{label:"getViewByMap",value:"getViewByMap"}}),i("el-option",{attrs:{label:"execProcedure",value:"execProcedure"}})],1)],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"描述："}},[i("el-input",{model:{value:t.script,callback:function(e){t.script=e},expression:"script"}})],1)],1),i("el-col",{staticClass:"text-right",attrs:{span:4}},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.findList()}}},[t._v("查询")])],1)],1)],1),i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.lists,border:""}},[i("el-table-column",{attrs:{prop:"id",label:"标识",width:"100",align:"center"}}),i("el-table-column",{attrs:{prop:"pname",label:"操作方法名称",width:"180",align:"center"}}),i("el-table-column",{attrs:{prop:"intype",label:"操作类型",align:"center",width:"180"}}),i("el-table-column",{attrs:{prop:"script",label:"描述",width:"220",align:"center"}}),i("el-table-column",{attrs:{prop:"vdata",label:"vdata(json)",align:"center"}})],1),i("div",{staticClass:"margin-t16 text-right"},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.findList(0)}}},[t._v("第一页")]),t.pageNo>1?i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.findList(-1)}}},[t._v("上一页")]):t._e(),t.lists.length>=24?i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.findList(1)}}},[t._v("下一页")]):t._e()],1)],1),i("v-add",{ref:"aaa",attrs:{info:t.info}})],1)},k=[],C=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-dialog",{attrs:{title:t.info.isConfigEdit?"修改配置项":"添加配置项",visible:t.info.addConfigShow,width:"50%"},on:{"update:visible":function(e){return t.$set(t.info,"addConfigShow",e)},close:function(e){return t.hide()}}},[i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.form,rules:t.rules,"label-width":"150px"}},[i("el-form-item",{attrs:{label:"操作方法名称：",prop:"namecode"}},[i("el-input",{model:{value:t.form.namecode,callback:function(e){t.$set(t.form,"namecode",e)},expression:"form.namecode"}})],1),i("el-form-item",{attrs:{label:"操作类型：",prop:"data"}},[i("el-input",{model:{value:t.form.data,callback:function(e){t.$set(t.form,"data",e)},expression:"form.data"}})],1),i("el-form-item",{attrs:{label:"描述："}},[i("el-input",{model:{value:t.form.script,callback:function(e){t.$set(t.form,"script",e)},expression:"form.script"}})],1),i("el-form-item",{attrs:{label:"vdata(json)："}},[i("el-input",{attrs:{type:"textarea",rows:8},model:{value:t.form.vdata,callback:function(e){t.$set(t.form,"vdata",e)},expression:"form.vdata"}})],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.intfaceEdit("ruleForm")}}},[t._v("保存")]),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.hide()}}},[t._v("取 消")])],1)],1)],1)},$=[],j={props:["info"],data:function(){return{uploadUrl:s["b"],form:{namecode:"",data:"",script:"",vdata:""},rules:{namecode:[{required:!0,message:"请输入操作方法名称",trigger:"change"},{min:2,max:2e3,message:"长度在 2 到 2000 个字符",trigger:"blur"}],data:[{required:!0,message:"请输入操作类型",trigger:"change"},{min:2,max:2e3,message:"长度在 2 到 2000 个字符",trigger:"blur"}]}}},computed:{},methods:{reset:function(){this.form={namecode:"",data:"",script:"",vdata:""}},hide:function(){this.info.addConfigShow=!1,this.reset()},getId:function(t){var e=this,i={id:t};Object(r["m"])(i).then((function(t){if(200===t.code){var i=t.data[0];e.form=i}else Object(c["b"])(t.message)}))},intfaceEdit:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return!1;Object(r["q"])(e.form).then((function(t){200===t.code?(Object(c["a"])(t.message),e.hide()):Object(c["b"])(t.message)}))}))},userAdd:function(){var t=this;Object(r["q"])(this.form).then((function(e){200===e.code&&(Object(c["a"])(e.message),t.reqChangeList(),t.hide())}))}},mounted:function(){}},O=j,S=Object(f["a"])(O,C,$,!1,null,"5af7ccac",null),L=S.exports,B={props:["info"],components:{vAdd:L},data:function(){return{lists:[],pageNo:1,pname:"",intype:"",script:""}},computed:{},methods:{add:function(){this.info.addConfigShow=!0,this.info.isConfigEdit=!1},edit:function(t){this.$refs.aaa.getId(t),this.$emit("edit",t),this.info.addConfigShow=!0,this.info.isConfigEdit=!0},config:function(t){this.$emit("edit",t)},findList:function(t){var e=this;0===t?this.pageNo=1:t>0?this.pageNo++:t<0&&this.pageNo--;var i={id:0};""!==this.pname&&this.$set(i,"pname",this.pname),""!==this.script&&this.$set(i,"script",this.script),""!==this.intype&&this.$set(i,"intype",this.intype),Object(r["i"])(i,this.pageNo).then((function(t){e.lists=t.data}))}},mounted:function(){var t=this,e={id:0};Object(r["i"])(e,this.pageNo).then((function(e){t.lists=e.data}))}},E=B,I=Object(f["a"])(E,_,k,!1,null,"6407b706",null),N=I.exports,D=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-dialog",{attrs:{title:"配置项列表",visible:t.info.authDis,width:"90%"},on:{"update:visible":function(e){return t.$set(t.info,"authDis",e)}}},[i("el-form",{attrs:{"label-width":"100px"}},[i("el-row",{staticClass:"flex-wrap-wrap",attrs:{type:"flex",justify:"end"}},[i("el-col",{attrs:{span:4}},[i("el-form-item",{attrs:{label:"接口编号："}},[t._v(" "+t._s(t.id)+" ")])],1),i("el-col",{attrs:{span:4}},[i("el-form-item",{attrs:{label:"业务对象："}},[t._v(" "+t._s(t.namecode)+" ")])],1),i("el-col",{attrs:{span:4}},[i("el-form-item",{attrs:{label:"对象别名："}},[t._v(" "+t._s(t.alice)+" ")])],1),i("el-col",{attrs:{span:4}},[i("el-form-item",{attrs:{label:"权限："}},[t._v(" "+t._s(t.allow)+" ")])],1),i("el-col",{attrs:{span:4}},[i("el-form-item",{attrs:{label:"数据类型："}},[t._v(" "+t._s(t.nodetype)+" ")])],1),i("el-col",{staticClass:"text-right",attrs:{span:4}},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.add()}}},[t._v("添加接口")])],1)],1)],1),i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.lists,border:""}},[i("el-table-column",{attrs:{prop:"id",label:"标识",width:"100",align:"center"}}),i("el-table-column",{attrs:{prop:"namecode",label:"操作方法名称",width:"180",align:"center"}}),i("el-table-column",{attrs:{prop:"data",label:"操作类型",align:"center",width:"180"}}),i("el-table-column",{attrs:{prop:"script",label:"描述",align:"center"}}),i("el-table-column",{attrs:{prop:"vdata",label:"vdata(json)",align:"center"}}),i("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",[i("el-button",{attrs:{type:"primary"},on:{click:function(i){return t.edit(e.row.id)}}},[t._v("编辑")]),i("el-button",{attrs:{type:"primary"},on:{click:function(i){return t.config(e.row)}}},[t._v("获取URL")])],1)]}}])})],1)],1),i("v-add",{ref:"aaa",attrs:{info:t.info}})],1)},q=[],F={props:["info"],components:{vAdd:L},data:function(){return{id:"",namecode:"",alice:"",allow:"",nodetype:"",lists:[],parentInfo:""}},computed:{},methods:{add:function(){this.info.addConfigShow=!0,this.info.isConfigEdit=!1},edit:function(t){this.$refs.aaa.getId(t),this.$emit("edit",t),this.info.addConfigShow=!0,this.info.isConfigEdit=!0},config:function(t){Object(c["a"])(s["a"]+"/admin/data/"+t.data+"/"+this.parentInfo.alice+"/"+t.namecode)}},mounted:function(){var t=this;g["a"].$on("myFun",(function(e){var i=e;t.parentInfo=e,t.id=i.id,t.namecode=i.namecode,t.alice=i.alice,t.nodetype=i.nodetype,t.allow=i.allow;var a=e.id,n={rela:a};Object(r["m"])(n,t.pageNo).then((function(e){t.lists=e.data}))}))}},A=F,T=Object(f["a"])(A,D,q,!1,null,"29420c74",null),M=T.exports,R={components:{vAdd:p,vList:x,vDetailList:N,vAuthlist:M},data:function(){return{id:"",alice:"",pageNo:1,authDis:!1,lists:[],configList:[],info:{isTrue:!1,isShow:!0,authDis:!1,addConfigShow:!1,isConfigEdit:!1,isDetailShow:!1}}},computed:{},methods:{add:function(){this.info.isTrue=!0,this.info.isShow=!0},edit:function(t){this.info.isShow=!1,this.info.isTrue=!0,this.$refs.aaa.getId(t)},findList:function(t){var e=this;0===t?this.pageNo=1:t>0?this.pageNo++:t<0&&this.pageNo--;var i={rela:301};""!==this.id&&this.$set(i,"idLike","%"+this.id+"%"),""!==this.alice&&this.$set(i,"alice","%"+this.alice+"%"),Object(r["e"])(i,this.pageNo).then((function(t){e.lists=t.data,e.configList=t.data}))},findDetailList:function(){this.info.isDetailShow=!0}},mounted:function(){this.findList(0)}},U=R,J=Object(f["a"])(U,a,n,!1,null,null,null);e["default"]=J.exports}}]);