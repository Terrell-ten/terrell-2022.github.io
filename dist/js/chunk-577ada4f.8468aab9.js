(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-577ada4f"],{"27c4":function(t,e,a){},"3f39":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-select",{style:"width:"+t.liWidth,attrs:{placeholder:"省级",clearable:""},on:{change:t.changePr},model:{value:t.provinceName,callback:function(e){t.provinceName=e},expression:"provinceName"}},t._l(t.provinceList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.namecode,value:t.id}})})),1),a("el-select",{style:"width:"+t.liWidth,attrs:{placeholder:"市级",clearable:""},on:{change:t.changeCi},model:{value:t.cityName,callback:function(e){t.cityName=e},expression:"cityName"}},t._l(t.cityList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.namecode,value:t.id}})})),1),a("el-select",{style:"width:"+t.liWidth,attrs:{placeholder:"区级",clearable:""},on:{change:t.changeRe},model:{value:t.regionName,callback:function(e){t.regionName=e},expression:"regionName"}},t._l(t.regionList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.namecode,value:t.id}})})),1)],1)},i=[],r=(a("a9e3"),a("d81d"),a("7db0"),a("d3b7"),a("da87")),o={props:{liWidth:{type:String,default:"160px"},areaId:{type:String,default:""},state:{type:Number,default:100},cleanAegion:{type:Number,default:100}},data:function(){return{provinceList:[],cityList:[],regionList:[],streetList:[],provinceName:"",cityName:"",regionName:"",id:"",setValueNullNum2:0,regionSelectedName:"",citySelectedName:"",provinceSelectedName:"",provinceId:"",cityId:"",regionId:"",streetId:""}},computed:{},created:function(){this.getRegion(),this.getList()},methods:{getId:function(t){this.provinceName="",this.cityName="",this.regionName="",t.length>=2&&(this.provinceName=1*t.substr(0,2),this.changePr(this.provinceName)),t.length>=4&&(this.cityName=1*t.substr(0,4),this.changeCi(this.cityName)),t.length>=6&&(this.regionName=1*t.substr(0,6))},getList:function(){},setValueNull1:function(){this.provinceName="",this.cityName="",this.regionName="",this.cityList=[],this.regionList=[],this.streetList=[]},setValueNull3:function(){this.regionName=""},setValueNull4:function(){},getRegion:function(){var t=this,e={parentId:1};Object(r["h"])(e).then((function(e){var a=e.data.map((function(t){return Object.assign(t,{index:1})}));t.getId(t.areaId),t.provinceList=a,t.loading=!1}))},changePr:function(t){var e=this;if(t){var a={};a=this.provinceList.find((function(e){return e.id===t})),this.provinceSelectedName=a;var n={parentId:t};this.id=t,this.cityName="",this.regionName="",Object(r["h"])(n).then((function(n){e.cityList=n.data;var i={};if(i=n.data[0].namecode,e.citySelectedName=i,e.provinceId=t,100===e.$props.state){e.cityName=n.data[0].id;var o=n.data[0].id,c={parentId:n.data[0].id};Object(r["h"])(c).then((function(n){e.regionName=n.data[0].id,e.regionList=n.data;var c={},d=n.data[0].id;c=n.data[0].namecode,e.regionSelectedName=c;var u={parentId:n.data[0].id};Object(r["h"])(u).then((function(n){var r={id:n.data[0].id,selectedName:a.namecode+i+c,provinceId:t,cityId:o,countyId:d,streetId:n.data[0].id};e.$emit("valueRegion",r),e.streetList=n.data}))}))}else{var d={id:t,selectedName:a.namecode,provinceId:t};e.$emit("valueRegion",d)}}))}else{this.cityName="",this.regionName="",this.provinceId="",this.cityId="",this.regionId="",this.streetId="";var i={provinceId:"",cityId:"",countyId:"",streetId:""};this.$emit("valueRegion",i)}},changeCi:function(t){var e=this;if(t){var a=this.provinceSelectedName,n={};n=this.cityList.find((function(e){return e.id===t})),this.citySelectedName=n;var i={parentId:t};this.id=t,Object(r["h"])(i).then((function(i){e.regionList=i.data,e.cityId=t;var o={};if(o=i.data[0].namecode,e.regionSelectedName=o,100===e.$props.state){e.regionName=i.data[0].id;var c=i.data[0].id,d={parentId:i.data[0].id};Object(r["h"])(d).then((function(i){e.streetList=i.data;var r={};r=i.data[0].namecode,e.streetSelectedName=r;var d={id:i.data[0].id,selectedName:a.namecode+n.namecode+o,provinceId:e.provinceId,cityId:t,countyId:c};e.$emit("valueRegion",d)}))}else{var u={id:t,selectedName:a.namecode+n.namecode,provinceId:e.provinceId,cityId:t};e.$emit("valueRegion",u)}}))}else{this.cityName="",this.regionName="",this.cityId="",this.regionId="";var o={provinceId:this.provinceId,cityId:"",countyId:""};this.$emit("valueRegion",o)}},changeRe:function(t){var e=this;if(t){var a=this.provinceSelectedName,n=this.citySelectedName,i="string"===typeof n?this.citySelectedName:this.citySelectedName.namecode,o={};this.regionId=t,o=this.regionList.find((function(e){return e.id===t})),this.regionSelectedName=o;var c={parentId:t};this.id=t,Object(r["h"])(c).then((function(n){e.streetList=n.data;var r={};if(r=n.data[0].namecode,e.streetSelectedName=r,100===e.$props.state){var c={id:n.data[0].id,selectedName:a.namecode+i+o.namecode,provinceId:e.provinceId,cityId:e.cityId,countyId:t};e.$emit("valueRegion",c)}else{var d={id:t,selectedName:a.namecode+i+o.namecode,provinceId:e.provinceId,cityId:e.cityId,countyId:t};e.$emit("valueRegion",d)}}))}else{this.regionName="",this.regionId="",this.streetId="";var d={provinceId:this.provinceId,cityId:this.cityId,countyId:""};this.$emit("valueRegion",d)}},changeSt:function(t){if(t){var e=this.provinceSelectedName,a=void 0===this.citySelectedName.namecode?this.citySelectedName:this.citySelectedName.namecode,n=void 0===this.regionSelectedName?this.regionSelectedName:this.regionSelectedName.namecode,i={id:t,selectedName:e.namecode+a+n,provinceId:this.provinceId,cityId:this.cityId,countyId:this.regionId};this.id=t,this.$emit("valueRegion",i)}else{var r={provinceId:this.provinceId,cityId:this.cityId,countyId:this.regionId};this.$emit("valueRegion",r)}},setValueNull2:function(t){this.setValueNullNum2=t}},mounted:function(){}},c=o,d=a("2877"),u=Object(d["a"])(c,n,i,!1,null,"414bbfbd",null);e["a"]=u.exports},"517e":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-conent"},[a("el-form",{staticClass:"demo-form-inline",staticStyle:{"margin-bottom":"15px"},attrs:{inline:!0,model:t.formQuery}},[a("el-form-item",{staticStyle:{"margin-right":"30px"},attrs:{label:"日期："}},[a("div",{staticClass:"block"},[a("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},model:{value:t.searchDate,callback:function(e){t.searchDate=e},expression:"searchDate"}})],1)]),a("el-form-item",{staticStyle:{"margin-right":"30px"},attrs:{label:"生产工厂："}},[a("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.formQuery.factoryId,callback:function(e){t.$set(t.formQuery,"factoryId",e)},expression:"formQuery.factoryId"}},t._l(t.FactoryNameList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.factoryName,value:t.id}})})),1)],1),a("el-form-item",{staticStyle:{"margin-right":"30px"},attrs:{label:"商品名称："}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择","filter-method":t.search,clearable:""},on:{change:t.searchCle,focus:t.GoodsFocus},model:{value:t.formQuery.productId,callback:function(e){t.$set(t.formQuery,"productId",e)},expression:"formQuery.productId"}},t._l(t.optionsGoods,(function(t){return a("el-option",{key:t.id,attrs:{label:t.namecode,value:t.id}})})),1)],1),a("el-form-item",{attrs:{label:"SKU："}},[a("el-input",{model:{value:t.formQuery.sku,callback:function(e){t.$set(t.formQuery,"sku",e)},expression:"formQuery.sku"}})],1),a("el-form-item",{staticStyle:{"margin-right":"30px"},attrs:{label:"收货区域筛选："}},[a("AppRegion",{ref:"child",attrs:{state:101},on:{valueRegion:t.chengRegion}})],1),a("el-form-item",{staticStyle:{"margin-right":"30px"},attrs:{label:"状态："}},[a("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.formQuery.status,callback:function(e){t.$set(t.formQuery,"status",e)},expression:"formQuery.status"}},t._l(t.statusList,(function(t){return a("el-option",{key:t.value,attrs:{label:t.labelName,value:t.value}})})),1)],1),a("el-button",{staticStyle:{"margin-right":"30px"},attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("综合查询")]),a("div",[a("el-form-item",{staticClass:"overall",staticStyle:{"margin-right":"30px"}},[a("el-button",{attrs:{type:"primary",disabled:t.idList.length<=0||1===t.dispatch_button_switch.status},on:{click:function(e){return t.batch_click(1)}}},[t._v("勾选批量派单")])],1),a("el-form-item",{staticClass:"overall",staticStyle:{"margin-right":"30px"}},[a("el-button",{attrs:{type:"primary",disabled:!t.dispatch_button_switch.date||1===t.dispatch_button_switch.status,loading:t.loadingQuery},on:{click:function(e){return t.batch_click(2)}}},[t._v("按日期段派单 ")])],1),a("el-form-item",{staticClass:"overall",staticStyle:{"margin-right":"30px"}},[a("el-button",{attrs:{disabled:!t.dispatch_button_switch.factory||1===t.dispatch_button_switch.status,type:"primary",loading:t.loadingQuery},on:{click:function(e){return t.batch_click(3)}}},[t._v("按工厂派单 ")])],1),a("el-form-item",{staticClass:"overall",staticStyle:{"margin-right":"30px"}},[a("el-button",{attrs:{disabled:!t.dispatch_button_switch.goods||1===t.dispatch_button_switch.status,type:"primary",loading:t.loadingQuery},on:{click:function(e){return t.batch_click(4)}}},[t._v("按商品派单 ")])],1),a("el-form-item",{staticClass:"overall",staticStyle:{"margin-right":"30px"}},[a("el-button",{attrs:{disabled:!t.dispatch_button_switch.condition||1===t.dispatch_button_switch.status,type:"primary",loading:t.loadingQuery},on:{click:function(e){return t.batch_click(5)}}},[t._v("按查询条件一键派单 ")])],1),a("el-form-item",{staticClass:"overall",staticStyle:{"margin-right":"30px"}},[a("el-button",{attrs:{disabled:!t.dispatch_button_switch.whole||1===t.dispatch_button_switch.status,type:"primary",loading:t.loadingQuery},on:{click:function(e){return t.batch_click(6)}}},[t._v("所有未出库的明细一键派单 ")])],1)],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingTab,expression:"loadingTab"}],key:"table1",ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,height:"525",stripe:"",border:"","tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",selectable:t.selectable,width:"40"}}),a("el-table-column",{attrs:{property:"factoryName",label:"生产工厂",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.factoryName?a("a",{staticStyle:{cursor:"pointer",color:"dodgerblue"},on:{click:function(a){return t.clickFactory(e.row,1)}}},[t._v(" "+t._s(e.row.factoryName)),a("i",{staticClass:"el-icon-edit"})]):t._e(),e.row.factoryName?t._e():a("a",{staticStyle:{cursor:"pointer",color:"dodgerblue",margin:"8px 0",display:"inline-block"},on:{click:function(a){return t.clickFactory(e.row,1)}}},[a("el-button",{attrs:{size:"mini",type:"primary"}},[t._v("指派工厂 ")])],1)]}}])}),a("el-table-column",{attrs:{property:"factoryArea",label:"工厂区域",width:"150",align:"center","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{property:"namecode",width:"180",label:"商品名称",align:"center","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{property:"specif",label:"规格",align:"center","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{property:"sku",width:"200",label:"SKU",align:"center"}}),a("el-table-column",{attrs:{property:"inventory",width:"70",label:"当前库存",align:"center"}}),a("el-table-column",{attrs:{property:"minInventory",width:"70",label:"最低库量",align:"center"}}),a("el-table-column",{attrs:{property:"minQuantity",width:"70",label:"起订量",align:"center"}}),a("el-table-column",{attrs:{property:"lossRate",label:"损耗率",align:"center",width:"70"}}),a("el-table-column",{attrs:{property:"productionThresholds",label:"下单阀值",align:"center",width:"80"}}),a("el-table-column",{attrs:{property:"num",label:"生产数量",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[a("div",{staticStyle:{display:"inline-block","margin-right":"5px"}},[t._v(" "+t._s(e.row.num)+" ")])])]}}])}),a("el-table-column",{attrs:{property:"unit",label:"生产单位",align:"center",width:"60"}}),a("el-table-column",{attrs:{property:"scalnum",label:"销售数量",align:"center",width:"60"}}),a("el-table-column",{attrs:{property:"scalUnit",label:"销售单位",align:"center",width:"60"}}),a("el-table-column",{attrs:{property:"productionThresholds",label:"是否可排产",width:"70",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.isProduction?"是":"否"))])]}}])})],1),a("div",{staticClass:"margin-t16 text-right"},[a("pagination",{attrs:{"current-page":t.queryInfo.page,total:t.total,pageSize:t.queryInfo.pageSize},on:{handleSizeChange:t.handleSizeChange,handleCurrentChange:t.handleCurrentChange}})],1),a("el-dialog",{ref:"goodsBindFactoryRef",staticStyle:{"margin-top":"15vh"},attrs:{title:"",visible:t.goodsBindFactory.goodsBindFactoryDialogVisible,center:"",width:"30%"},on:{"update:visible":function(e){return t.$set(t.goodsBindFactory,"goodsBindFactoryDialogVisible",e)}}},[a("div",{staticStyle:{"font-size":"12px",color:"#999","line-height":"1.6","margin-bottom":"10px"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",[t._v("物品名称："+t._s(t.goodsBindFactory.order_data.namecode))])],1),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:10}},[t._v("规格："+t._s(t.goodsBindFactory.order_data.specif))]),a("el-col",{attrs:{span:14}},[t._v("SKU："+t._s(t.goodsBindFactory.order_data.sku))])],1)],1),a("el-table",{ref:"factoryTable",attrs:{data:t.goodsBindFactory.goodsBindFactoryList,border:"","tooltip-effect":"light","highlight-current-row":""},on:{"cell-click":this.cellClickFactory}},[a("el-table-column",{attrs:{property:"factoryName",label:"工厂名称",align:"center"}}),a("el-table-column",{attrs:{property:"factoryArea",label:"所在区域",align:"center"}}),a("el-table-column",{attrs:{property:"minQuantity",label:"起订量",align:"center"}}),a("el-table-column",{attrs:{property:"minInventory",label:"最低库存",align:"center"}}),a("el-table-column",{attrs:{property:"inventory",label:"库存数量",align:"center"}})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.goodsBindFactory.goodsBindFactoryDialogVisible=!1}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:this.bingFactory}},[t._v("确认")])],1)],1),a("el-dialog",{attrs:{visible:t.batch_init.sync,title:t.batch_init.title,width:"20%","destroy-on-close":"",center:""},on:{"update:visible":function(e){return t.$set(t.batch_init,"sync",e)}},scopedSlots:t._u([{key:"footer",fn:function(){return[a("span",{staticClass:"dialog-footer"},[a("el-button",{on:{click:function(e){t.batch_init.sync=!1}}},[t._v(t._s(0===t.batch_init.val?"关闭":"取消"))]),t.batch_init.val>0?a("el-button",{attrs:{type:"primary"},on:{click:t.batch_submit}},[t._v("确定")]):t._e()],1)]},proxy:!0}]),model:{value:t.batch_init.sync,callback:function(e){t.$set(t.batch_init,"sync",e)},expression:"batch_init.sync"}},[a("div",{staticStyle:{"font-size":"16px"}},[t._v(" "+t._s(t.batch_init.content)+" ")])])],1)},i=[],r=a("1da1"),o=a("5530"),c=(a("d3b7"),a("159b"),a("b64b"),a("b0c0"),a("a434"),a("96cf"),a("2f62")),d=a("da87"),u=a("7c58"),s=a("eab5"),l=a("3f39"),h=a("faca"),m={components:{AppRegion:l["a"],pagination:h["a"]},data:function(){return{loadingQuery:!1,loadingTab:!1,FactoryNameList:[],optionsGoods:[],chengRegionObje:{},chengRegionObje2:{},goodsBindFactory:{goodsBindFactoryList:[],goodsBindFactoryDialogVisible:!1,bingRowId:"",bingFactoryId:"",radio:!1,order_data:[]},tableData:[],searchDate:"",batch_init:{sync:!1,title:"提示",content:"",ids:"",optType:0,val:0},planData:[],idList:[],queryInfo:{page:1,pageSize:100},total:0,statusList:[{value:0,labelName:"待派单"},{value:1,labelName:"已派单"}],formQuery:{factoryId:-2,productId:"",status:0,sku:""},dispatch_button_data:{factoryId:"",productId:""},dispatch_button_switch:{whole:!0,condition:!1,goods:!1,factory:!1,date:!1,Select:!1,status:0}}},computed:Object(o["a"])({},Object(c["c"])({userId:"user/userId",name:"user/name"})),created:function(){this.getTables(),this.getFactoryName()},methods:{copyJSON:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=document.createElement("input"),n.value=t,document.body.appendChild(n),n.select(),a.prev=4,a.next=7,document.execCommand("Copy");case 7:e.$notify({title:"商品添加工厂",message:"已复制SKU,请前往-基本数据管理-商品管理，通过SKU查询该商品进行修改"}),a.next=12;break;case 10:a.prev=10,a.t0=a["catch"](4);case 12:case"end":return a.stop()}}),a,null,[[4,10]])})))()},selectable:function(t){if(t.isProduction&&t.factoryName)return!0},batch_click:function(t){var e=this;if(this.batch_init.val=t,1===t)if(this.planData.length>0){var a=[];this.planData.forEach((function(t){a.push(t.ids)})),this.batch_init.ids=a.toString(),this.batch_init.optType=2,this.batch_init.content="你确认要派单吗"}else this.batch_init.ids="",this.batch_init.content="抱歉您选择的订单 无工厂",this.batch_init.val=0;if(2===t&&(this.batch_init.optType=3,this.batch_init.ids=this.formQuery.startDate+","+this.formQuery.endDate),3===t){this.FactoryNameList.forEach((function(t){t.id===e.dispatch_button_data.factoryId&&t.factoryName})),this.batch_init.optType=1,this.batch_init.ids=this.dispatch_button_data.factoryId,this.batch_init.content="你确定要按工厂一键派单？"}if(4===t){this.optionsGoods.forEach((function(t){t.id===e.dispatch_button_data.productId&&t.namecode})),this.batch_init.optType=4,this.batch_init.ids=this.dispatch_button_data.productId,this.batch_init.content="你确定要按商品一键派单？"}if(5===t){var n=[],i=Object(o["a"])({page:this.queryInfo.page,pageSize:5e3},this.formQuery);Object.keys(i).forEach((function(t){var e=i[t];""===e&&delete i[t]})),Object(s["b"])(i).then((function(t){if(200===t.code)if(t.data.list.length>0){if(t.data.list.forEach((function(t){t.factoryId&&n.push(t.ids)})),e.batch_init.ids=n.toString(),""===e.batch_init.ids)return void e.$message({message:"当前满足派单的数量为0",type:"warning"});e.batch_init.optType=2,e.batch_init.content="你确定要按条件一键派单吗"}else e.$message({message:"当前可派单的数量为0",type:"warning"})}))}6===t&&(this.batch_init.optType=0,this.batch_init.ids="",this.batch_init.content="你确定要一键全部派单吗？",this.batch_init.val=6),this.batch_init.sync=!0},batch_submit:function(){var t=this,e={I_optType:this.batch_init.optType,I_ids:this.batch_init.ids,I_optuser:this.name};this.loadingWeb=!0,Object(s["B"])(e).then((function(e){200===e.code&&(t.loadingWeb=!1,t.$message({message:"操作成功",type:"success"}),setTimeout((function(){t.getTables()}))),t.batch_init.sync=!1}))},token_:function(t){t.num_disabled=!t.num_disabled},clickFactory:function(t,e){var a=this;e&&(this.statusIdnam=e);var n=t.factoryId;this.goodsBindFactory.bingFactoryId="",t.factoryId&&(this.goodsBindFactory.bingFactoryId=t.factoryId),Object(s["n"])({skuCode:t.sku,factoryId:n}).then((function(e){if(200===e.code)if(null!==e.data&&e.data.length>0){a.goodsBindFactory.bingRowId=t.ids;var i=[];if(n&&1===e.data.length)return void a.$message({message:"该商品只有当前一个工厂",type:"warning"});e.data.forEach((function(t){n!==t.factoryId&&i.push(t)})),a.goodsBindFactory.goodsBindFactoryDialogVisible=!0,a.goodsBindFactory.goodsBindFactoryList=i,a.goodsBindFactory.order_data=t}else a.$message({message:"该商品没有设置工厂，请先去基本数据管理-工厂设置页面设置工厂哦！",type:"warning"});else a.$message({message:e.message,type:"warning"})}))},cellClickFactory:function(t){this.goodsBindFactory.bingFactoryId=t.factoryId},bingFactory:function(){var t=this;if(""!==this.goodsBindFactory.bingFactoryId){var e={ids:this.goodsBindFactory.bingRowId,factoryId:this.goodsBindFactory.bingFactoryId};Object(s["a"])(e).then((function(e){200===e.code?(t.$message({message:e.message,type:"success"}),t.goodsBindFactory.goodsBindFactoryDialogVisible=!1,t.getTables()):t.$message({message:e.message,type:"warning"})}))}else this.$message({message:"请选择要派单的工厂",type:"warning"})},handleSelectionChange:function(t){var e=[],a=[];t.length>0&&t.forEach((function(t){e.push(t.ids),t.isProduction&&a.push(t)})),this.$refs["multipleTable"].setCurrentRow(a),this.planData=a,this.idList=e},chengRegion:function(t){this.chengRegionObje=t;var e=this.chengRegionObje.provinceId?this.chengRegionObje.provinceId:"",a=this.chengRegionObje.cityId?this.chengRegionObje.cityId:"",n=this.chengRegionObje.countyId?this.chengRegionObje.countyId:"";this.formQuery.customerProvinceId=e,this.formQuery.customerCityId=a,this.formQuery.customerCountyId=n},search:function(t){t.length>=2?this.getAllProductInfo(t):this.optionsGoods=[]},searchCle:function(t){t||(this.optionsGoods=[])},getAllProductInfo:function(t){var e=this,a={nodeType:100303,productName:t};Object(d["f"])(a).then((function(t){200===t.code?e.optionsGoods=t.data:e.$message({message:t.message,type:"warning"})}))},GoodsFocus:function(){var t=localStorage.getItem("data");t&&(this.optionsGoods=JSON.parse(t),this.historydata(JSON.parse(t)))},historydata:function(t){this.optionsGoods=[];var e=localStorage.getItem("data");this.optionsGoods=JSON.parse(e),t.length>this.max_history&&this.optionsGoods.splice(this.max_history)},getFactoryName:function(){var t=this;Object(u["n"])({}).then((function(e){200===e.code&&(t.FactoryNameList=e.data);var a={};a={id:-2,factoryName:"所有多工厂"},t.FactoryNameList.unshift(a),a={id:-1,factoryName:"所有单工厂"},t.FactoryNameList.unshift(a)}))},getTables:function(){var t=this;this.planData=[],this.idList=[];var e=Object(o["a"])({page:this.queryInfo.page,pageSize:this.queryInfo.pageSize},this.formQuery);-1===e.status&&(e.status=""),this.statusId=e.status,Object.keys(e).forEach((function(t){var a=e[t];""===a&&delete e[t]})),this.loadingTab=!0,Object(s["b"])(e).then((function(a){200===a.code&&(t.tableData=a.data.list,t.total=a.data.total,t.change_dispatch_button(e),t.tableData.length>0&&t.tableData.forEach((function(t){t.num_disabled=!1})),t.loadingTab=!1)}))},change_dispatch_button:function(t){t.startDate||t.endDate?this.dispatch_button_switch.date=!0:this.dispatch_button_switch.date=!1,t.factoryId&&this.formQuery.factoryId>0?(this.dispatch_button_switch.factory=!0,this.dispatch_button_data.factoryId=t.factoryId):this.dispatch_button_switch.factory=!1,t.productId?(this.dispatch_button_switch.goods=!0,this.dispatch_button_data.productId=t.productId):this.dispatch_button_switch.goods=!1,t.productId||t.startDate||t.endDate||t.factoryId?this.dispatch_button_switch.condition=!0:this.dispatch_button_switch.condition=!1,this.dispatch_button_switch.status=t.status},onSubmit:function(){this.queryInfo.page=1,this.get_time(),this.getTables()},handleSizeChange:function(t){this.queryInfo.pageSize=t,this.getTables()},handleCurrentChange:function(t){this.queryInfo.page=t,this.getTables()},get_time:function(){if(this.searchDate){if(this.searchDate.length){var t=this.searchDate[0],e=this.searchDate[1];this.formQuery.startDate=t,this.formQuery.endDate=e}}else delete this.formQuery.startDate,delete this.formQuery.endDate}},mounted:function(){}},p=m,f=(a("e2b7"),a("2877")),g=Object(f["a"])(p,n,i,!1,null,null,null);e["default"]=g.exports},"7c58":function(t,e,a){"use strict";a.d(e,"C",(function(){return i})),a.d(e,"y",(function(){return r})),a.d(e,"R",(function(){return o})),a.d(e,"g",(function(){return c})),a.d(e,"gb",(function(){return d})),a.d(e,"D",(function(){return u})),a.d(e,"G",(function(){return s})),a.d(e,"F",(function(){return l})),a.d(e,"s",(function(){return h})),a.d(e,"N",(function(){return m})),a.d(e,"S",(function(){return p})),a.d(e,"m",(function(){return f})),a.d(e,"Z",(function(){return g})),a.d(e,"B",(function(){return b})),a.d(e,"H",(function(){return y})),a.d(e,"A",(function(){return v})),a.d(e,"L",(function(){return _})),a.d(e,"o",(function(){return O})),a.d(e,"u",(function(){return I})),a.d(e,"f",(function(){return j})),a.d(e,"n",(function(){return S})),a.d(e,"h",(function(){return N})),a.d(e,"bb",(function(){return P})),a.d(e,"z",(function(){return T})),a.d(e,"E",(function(){return w})),a.d(e,"k",(function(){return k})),a.d(e,"T",(function(){return L})),a.d(e,"I",(function(){return x})),a.d(e,"J",(function(){return F})),a.d(e,"j",(function(){return C})),a.d(e,"w",(function(){return D})),a.d(e,"v",(function(){return B})),a.d(e,"P",(function(){return R})),a.d(e,"x",(function(){return G})),a.d(e,"M",(function(){return $})),a.d(e,"l",(function(){return E})),a.d(e,"K",(function(){return Q})),a.d(e,"X",(function(){return z})),a.d(e,"e",(function(){return A})),a.d(e,"cb",(function(){return V})),a.d(e,"O",(function(){return W})),a.d(e,"db",(function(){return q})),a.d(e,"ib",(function(){return U})),a.d(e,"r",(function(){return J})),a.d(e,"Q",(function(){return M})),a.d(e,"U",(function(){return K})),a.d(e,"Y",(function(){return H})),a.d(e,"W",(function(){return X})),a.d(e,"V",(function(){return Y})),a.d(e,"eb",(function(){return Z})),a.d(e,"hb",(function(){return tt})),a.d(e,"b",(function(){return et})),a.d(e,"q",(function(){return at})),a.d(e,"fb",(function(){return nt})),a.d(e,"t",(function(){return it})),a.d(e,"c",(function(){return rt})),a.d(e,"d",(function(){return ot})),a.d(e,"i",(function(){return ct})),a.d(e,"a",(function(){return dt})),a.d(e,"p",(function(){return ut})),a.d(e,"ab",(function(){return st}));var n=a("83c3");function i(t){return Object(n["a"])({url:"/admin/purchase/plan/list/page",method:"post",data:t})}function r(t){return Object(n["a"])({url:"/admin/purchase/plan/detail/list/page",method:"post",data:t})}function o(t){return Object(n["a"])({url:"/admin/product/unit/getUnitsToPlan",method:"GET",params:t})}function c(t){return Object(n["a"])({url:"/admin/pack/material/conversionPrice",method:"post",data:t})}function d(t){return Object(n["a"])({url:"/admin/purchase/plan/updatePurchasePlanUnit",method:"POST",data:t})}function u(t){return Object(n["a"])({url:"/admin/purchase/plan/getPurchaseMaterialList",method:"post",data:t})}function s(t){return Object(n["a"])({url:"/admin/purchase/plan/merge",method:"post",data:t})}function l(t){return Object(n["a"])({url:"admin/purchase/plan/merge",method:"post",data:t})}function h(t){return Object(n["a"])({url:"/admin/excel/operationPurchasePlanDetail",method:"GET",params:t})}function m(t){return Object(n["a"])({url:"/admin/purchase/plan/status/list",method:"GET",data:t})}function p(t){return Object(n["a"])({url:"/admin/excel/operationPurchasePlanDetail",method:"GET",params:t})}function f(t){return Object(n["a"])({url:"/admin/factory/getFactoryList",method:"get",params:t})}function g(t){return Object(n["a"])({url:"/admin/purchase/plan/insert",method:"post",data:t})}function b(t){return Object(n["a"])({url:"/admin/purchase/plan/get",method:"GET",params:t})}function y(t){return Object(n["a"])({url:"/admin/purchase/plan/update",method:"POST",data:t})}function v(t){return Object(n["a"])({url:"/admin/purchase/plan/delete",method:"POST",data:t})}function _(t){return Object(n["a"])({url:"/admin/purchase/plan/purchaseGoodsWarehousing",method:"POST",data:t})}function O(t){return Object(n["a"])({url:"/admin/factory/purchase/plan/all/list",method:"POST",data:t})}function I(t){return Object(n["a"])({url:"/admin/factory/purchase/plan/status/list",method:"GET",params:t})}function j(t){return Object(n["a"])({url:"admin/data/execProcedure/cm_list_batchout?pageNo=0",method:"post",data:t})}function S(t){return Object(n["a"])({url:"/admin/factory/getFactoryList",method:"GET",params:t})}function N(t){return Object(n["a"])({url:"/admin/data/execProcedure/create_prodplan?pageNo=0",method:"POST",data:t})}function P(t){return Object(n["a"])({url:"/admin/customer/detail/schedule/selectCustomerOrderList",method:"GET",params:t})}function T(t){return Object(n["a"])({url:"/productionPlan/getProductPlanstockList",method:"GET",params:t})}function w(t){return Object(n["a"])({url:"/admin/factory/purchase/plan/get",method:"GET",params:t})}function k(t){return Object(n["a"])({url:"/admin/factory/purchase/plan/confirmPurchase",method:"POST",data:t})}function L(t){return Object(n["a"])({url:"/admin/excel/prePurchasePlan",method:"GET",params:t})}function x(t){return Object(n["a"])({url:"/admin/pre/purchase/plan/all/list",method:"POST",data:t})}function F(t){return Object(n["a"])({url:"/admin/pre/purchase/plan/get",method:"GET",params:t})}function C(t){return Object(n["a"])({url:"/admin/pre/purchase/plan/confirmPurchase",method:"POST",data:t})}function D(t){return Object(n["a"])({url:"/admin/purchase/plan/getPurchaseArrangementList",method:"POST",data:t})}function B(t){return Object(n["a"])({url:"/admin/purchase/plan/getPlantmpList",method:"POST",data:t})}function R(t){return Object(n["a"])({url:"/admin/material/supplier/list",method:"GET",data:t})}function G(t){return Object(n["a"])({url:"/payment/getProdorderPaymentList",method:"GET",params:t})}function $(t){return Object(n["a"])({url:"/payment/savePurchorderPayment",method:"POST",data:t})}function E(t){return Object(n["a"])({url:"/payment/deletePurchorderPayment",method:"POST",data:t})}function Q(t){return Object(n["a"])({url:"/payment/getPurchorderPayment",method:"POST",params:t})}function z(t){return Object(n["a"])({url:"/admin/data/execProcedure/cm_list_batch?pageNo=1",method:"POST",data:t})}function A(t){return Object(n["a"])({url:"/admin/data/execProcedure/cm_list_batch?pageNo=0",method:"POST",data:t})}function V(t){return Object(n["a"])({url:"/product/selectProductList",method:"GET",params:t})}function W(t){return Object(n["a"])({url:"/admin/purchase/plan/getStatisticsList",method:"POST",data:t})}function q(t){return Object(n["a"])({url:"/admin/material/supplier/supplierList",method:"get",params:t})}function U(t){return Object(n["a"])({url:"/admin/purchase/plan/updateSupplier",method:"post",data:t})}function J(t){return Object(n["a"])({url:"/admin/purchase/plan/getMaterialPurchstockList",method:"post",data:t})}function M(t){return Object(n["a"])({url:"/admin/material/supplier/getSupplierListByProductId",method:"get",params:t})}function K(t){return Object(n["a"])({url:"/admin/data/execProcedure/create_purchplan?pageNo=0",method:"POST",data:t})}function H(t){return Object(n["a"])({url:"/admin/purchase/plan/purchaseGoodsBatchWarehouse",method:"post",data:t})}function X(t){return Object(n["a"])({url:"/admin/purch/detail/materialsAreStoredInBatchesTwo",method:"post",data:t})}function Y(t){return Object(n["a"])({url:"/admin/purch/detail/materialsAreStoredInBatches",method:"post",data:t})}function Z(t){return Object(n["a"])({url:"/admin/purchase/plan/updateDetailRemarks",method:"post",data:t})}function tt(t){return Object(n["a"])({url:"/admin/purchase/plan/updateRemarks",method:"post",data:t})}function et(t){return Object(n["a"])({url:"/admin/purchase/plan/auditPurchPlan",method:"post",data:t})}function at(t){return Object(n["a"])({url:"/admin/purchase/plan/getMaterialPurchstock",method:"get",params:t})}function nt(t){return Object(n["a"])({url:"/admin/purchase/plan/updatePurchPlanDetail",method:"post",data:t})}function it(t){return Object(n["a"])({url:"/admin/factory/getPayeeInformation",method:"get",params:t})}function rt(t){return Object(n["a"])({url:"/admin/purchase/plan/cancelPurchasePlan",method:"post",data:t})}function ot(t){return Object(n["a"])({url:"/admin/purchase/plan/cancelPurchasePlanDetail",method:"post",data:t})}function ct(t){return Object(n["a"])({url:"/admin/purchase/plan/confirmPurchase",method:"POST",data:t})}function dt(t){return Object(n["a"])({url:"/admin/data/execProcedure/采购批量操作?pageNo=0",method:"post",data:t})}function ut(t){return Object(n["a"])({url:"/admin/purch/detail/getMaterialInStockRecordList",method:"get",params:t})}function st(t){return Object(n["a"])({url:"/admin/purch/detail/saveDeliveryVoucher",method:"post",data:t})}},"7db0":function(t,e,a){"use strict";var n=a("23e7"),i=a("b727").find,r=a("44d2"),o="find",c=!0;o in[]&&Array(1)[o]((function(){c=!1})),n({target:"Array",proto:!0,forced:c},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r(o)},e2b7:function(t,e,a){"use strict";a("27c4")},eab5:function(t,e,a){"use strict";a.d(e,"h",(function(){return i})),a.d(e,"i",(function(){return r})),a.d(e,"f",(function(){return o})),a.d(e,"e",(function(){return c})),a.d(e,"m",(function(){return d})),a.d(e,"w",(function(){return u})),a.d(e,"j",(function(){return s})),a.d(e,"r",(function(){return l})),a.d(e,"q",(function(){return h})),a.d(e,"s",(function(){return m})),a.d(e,"o",(function(){return p})),a.d(e,"t",(function(){return f})),a.d(e,"v",(function(){return g})),a.d(e,"u",(function(){return b})),a.d(e,"l",(function(){return y})),a.d(e,"k",(function(){return v})),a.d(e,"g",(function(){return _})),a.d(e,"H",(function(){return O})),a.d(e,"E",(function(){return I})),a.d(e,"G",(function(){return j})),a.d(e,"F",(function(){return S})),a.d(e,"z",(function(){return N})),a.d(e,"C",(function(){return P})),a.d(e,"B",(function(){return T})),a.d(e,"n",(function(){return w})),a.d(e,"p",(function(){return k})),a.d(e,"b",(function(){return L})),a.d(e,"a",(function(){return x})),a.d(e,"c",(function(){return F})),a.d(e,"y",(function(){return C})),a.d(e,"x",(function(){return D})),a.d(e,"D",(function(){return B})),a.d(e,"I",(function(){return R})),a.d(e,"d",(function(){return G})),a.d(e,"A",(function(){return $}));var n=a("83c3");function i(t){return Object(n["a"])({url:"/admin/customer/order/list/page",method:"post",data:t})}function r(t){return Object(n["a"])({url:"/admin/data/selectByCond/I_customer_order_list/find?pageNo=0",method:"post",data:t})}function o(t){return Object(n["a"])({url:"/admin/customer/order/getPurchasePlanListByOrderId",method:"GET",params:t})}function c(t){return Object(n["a"])({url:"/admin/customer/order/getProductionPlanListByOrderId",method:"GET",params:t})}function d(t){return Object(n["a"])({url:"/admin/customer/detail/schedule/list/page",method:"post",data:t})}function u(t){return Object(n["a"])({url:"/admin/factory/getWarehouseListToOutbound",method:"get",params:t})}function s(t){return Object(n["a"])({url:"/admin/customer/detail/schedule/getCustomerOrderDetailStatusList",method:"get",data:t})}function l(t){return Object(n["a"])({url:"/admin/customer/detail/schedule/getProductStockByOrderDetailId",method:"get",params:t})}function h(t){return Object(n["a"])({url:"/admin/customer/detail/schedule/getPurchasePlanListByAssociateId",method:"get",params:t})}function m(t){return Object(n["a"])({url:"/admin/customer/detail/schedule/getProductionPlanListByAssociateId",method:"get",params:t})}function p(t){return Object(n["a"])({url:"/admin/customer/detail/schedule/getGoodsOutboundListByAssociateId",method:"get",params:t})}function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(n["a"])({url:"/admin/data/execProcedure/co_list_batch?pageNo="+e,method:"post",data:t})}function g(t){return Object(n["a"])({url:"/productionPlan/merge",method:"POST",data:t})}function b(t){return Object(n["a"])({url:"/productionPlan/insert",method:"POST",data:t})}function y(t){return Object(n["a"])({url:"/admin/excel/operationCustomerOrders",method:"GET",params:t})}function v(t){return Object(n["a"])({url:"/admin/excel/operationCustomerOrderDetailSchedule",method:"GET",params:t})}function _(t){return Object(n["a"])({url:"/admin/customer/order/getCustomer",method:"get",data:t})}function O(t){return Object(n["a"])({url:"/admin/customer/order/updateRemarks",method:"post",data:t})}function I(t){return Object(n["a"])({url:"/admin/customer/detail/schedule/updateRemarks",method:"post",data:t})}function j(t){return Object(n["a"])({url:"/admin/customer/detail/schedule/updateOrderLastDeliveryDate",method:"post",data:t})}function S(t){return Object(n["a"])({url:"/admin/customer/detail/schedule/updateOrderDetailLastDeliveryDate",method:"post",data:t})}function N(t){return Object(n["a"])({url:"/admin/data/execProcedure/co_list_batchout?pageNo=0",method:"POST",data:t})}function P(t){return Object(n["a"])({url:"/admin/customer/detail/schedule/pendingOrderOutOfWarehouse",method:"POST",data:t})}function T(t){return Object(n["a"])({url:"/admin/data/execProcedure/co_list_batch?pageNo=0",method:"POST",data:t})}function w(t){return Object(n["a"])({url:"/admin/factory/getFactoryAndWarehouseList",method:"GET",params:t})}function k(t){return Object(n["a"])({url:"/admin/customer/detail/schedule/getOrderDetailsList",method:"POST",data:t})}function L(t){return Object(n["a"])({url:"/admin/customer/detail/schedule/dispatchStatistics",method:"POST",data:t})}function x(t){return Object(n["a"])({url:"/admin/customer/detail/schedule/assignedFactory",method:"POST",data:t})}function F(t){return Object(n["a"])({url:"/admin/data/execProcedure/find_prodout?pageNo=0",method:"POST",data:t})}function C(t){return Object(n["a"])({url:"/admin/customer/detail/schedule/orderBendingGoodsById",method:"POST",params:t})}function D(t){return Object(n["a"])({url:"/admin/customer/detail/schedule/orderBendingGoods",method:"POST",data:t})}function B(t){return Object(n["a"])({url:"/product/productBengingFactory",method:"POST",data:t})}function R(t){return Object(n["a"])({url:"/admin/data/execProcedure/waitprod_callin?pageNo=0",method:"POST",data:t})}function G(t){return Object(n["a"])({url:"/admin/factory/getAllFactoryInfo",method:"GET",params:t})}function $(t){return Object(n["a"])({url:"/admin/data/execProcedure/客户订单发货前批量锁单?pageNo=0",method:"POST",data:t})}},faca:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"","current-page":t.currentPage,"page-sizes":[24,100,200,500,1e3],"page-size":t.pageSize,layout:t.layout,total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},i=[],r=(a("a9e3"),{props:{pageSize:{type:Number,default:10},layout:{type:String,default:"sizes, prev, pager, next"},total:Number,currentPage:Number},data:function(){return{}},mounted:function(){},methods:{handleSizeChange:function(t){this.$emit("handleSizeChange",t)},handleCurrentChange:function(t){this.$emit("handleCurrentChange",t)}}}),o=r,c=a("2877"),d=Object(c["a"])(o,n,i,!1,null,"1021ea0e",null);e["a"]=d.exports}}]);