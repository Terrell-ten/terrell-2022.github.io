(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1ecb3b86"],{2582:function(t,e,a){"use strict";a("a995")},"2f88":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"","current-page":t.currentPage,"page-sizes":t.pageSizesArr||t.pageSizesArrInit,"page-size":t.pageSize,layout:t.layout,total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},i=[],r=(a("a9e3"),a("ac1f"),a("1276"),{props:{pageSize:{type:Number,default:10},pageSizesArr:{type:Array,default:null},layout:{type:String,default:"total,sizes,prev, pager, next"},total:Number,currentPage:Number},data:function(){return{pageSizesArrInit:[24,100,200,500,1e3]}},mounted:function(){var t=location.href.split("/")[2];"192.168.1.145:8080"===t&&(this.pageSizesArrInit=[2,24,100,200,500,1e3])},methods:{handleSizeChange:function(t){this.$emit("handleSizeChange",t)},handleCurrentChange:function(t){this.$emit("handleCurrentChange",t)}}}),l=r,s=a("2877"),o=Object(s["a"])(l,n,i,!1,null,"79dfe774",null);e["a"]=o.exports},"4fb0":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"","current-page":t.currentPage,"page-sizes":[1,2,5,10],"page-size":t.pageSize,layout:"prev, pager, next",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},i=[],r=(a("a9e3"),{props:{pageSize:{type:Number,default:10},total:Number,currentPage:Number},data:function(){return{}},methods:{handleSizeChange:function(t){this.$emit("handleSizeChange",t)},handleCurrentChange:function(t){this.$emit("handleCurrentChange",t)}}}),l=r,s=a("2877"),o=Object(s["a"])(l,n,i,!1,null,"03d95dfa",null);e["a"]=o.exports},a8e1:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ManyUploadUrl"},[a("div",{staticClass:"img-ul"},[t._l(t.imageurlArr,(function(e,n){return a("div",{key:n,staticClass:"img_li"},[a("el-image",{staticClass:"image_box",attrs:{src:e,"preview-src-list":t.imageurlArr,fit:"contain",lazy:!0}}),a("el-link",{staticClass:"pzImg_x",attrs:{type:"primary"},on:{click:function(e){return t.imgUrl_init(n)}}},[a("i",{staticClass:"el-icon-circle-close"})])],1)})),t.imageurlArr.length<t.NumMax?a("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.uploadUrl,multiple:!0,"list-type":t.list_type,name:"multipartFiles","file-list":t.fileList,limit:t.NumMax,"on-preview":t.handlePictureCardPreview,"on-remove":t.handleRemove,"on-exceed":t.limitExceed,"on-success":t.handleAvatarSuccess,"show-file-list":!1,"before-upload":t.beforeAvatarUpload}},["text"===t.list_type?a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})],1):t._e()],2),a("el-dialog",{attrs:{"append-to-body":"",visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)},i=[],r=(a("a9e3"),a("d3b7"),a("159b"),a("a434"),a("b0c0"),a("99af"),a("2cd9")),l={props:{imgIndex:{type:Number,default:0},NumMax:{type:Number,default:3},setfileList:{type:Array,default:[]},width_max:{type:String,default:"148"},list_type:{type:String,default:"picture-card"}},data:function(){return{dialogImageUrl:"",dialogVisible:!1,logourl:!1,imageUrl:"",uploadUrl:r["b"],fileList:[],fileList2:[],imageurlArr:[]}},created:function(){this.file_list_init(this.setfileList||[])},methods:{file_list_init:function(t){var e=this;this.fileList=[],this.imageurlArr=[],t&&t.forEach((function(t){e.fileList.push({name:t,url:t,response:{data:t}})}))},limitExceed:function(){this.$message.error("当前最多只能上传"+this.NumMax+"张图片")},imgUrl_init:function(t){this.imageurlArr.splice(t,1)},handleRemove:function(t,e){var a=this;this.imageurlArr=[],e.forEach((function(t){a.imageurlArr.push(t.response.data[0])})),this.$emit("change",this.imageurlArr,1,this.imgIndex)},handlePictureCardPreview:function(t,e){this.dialogImageUrl=t.url,this.dialogVisible=!0},beforeAvatarUpload:function(t){var e="image/jpeg"===t.type||"image/png"===t.type,a=t.size/1024/1024<2,n=t.name.indexOf(",");return n>=0?(this.$message.error("检查到文件名包含了，号"),!1):(e||this.$message.error("上传图片只能是 JPG 或 PNG格式!"),a||this.$message.error("上传图片大小不能超过 2MB!"),e&&a)},getCaption:function(t){var e=t.lastIndexOf(".");return t=t.substring(e+1,t.length),t},getName:function(){for(var t="",e=0;e<4;e++)t+=Math.floor(10*Math.random());return t=(new Date).getTime()+t,t},handleAvatarSuccess:function(t){this.imageurlArr=this.imageurlArr.concat(t.data),this.$emit("change",this.imageurlArr,1,this.imgIndex)}}},s=l,o=(a("b653"),a("2877")),c=Object(o["a"])(s,n,i,!1,null,null,null);e["a"]=c.exports},a995:function(t,e,a){},b653:function(t,e,a){"use strict";a("c163")},ba10:function(t,e,a){"use strict";a.d(e,"h",(function(){return r})),a.d(e,"M",(function(){return l})),a.d(e,"f",(function(){return s})),a.d(e,"g",(function(){return o})),a.d(e,"l",(function(){return c})),a.d(e,"D",(function(){return u})),a.d(e,"p",(function(){return m})),a.d(e,"E",(function(){return d})),a.d(e,"q",(function(){return p})),a.d(e,"z",(function(){return y})),a.d(e,"L",(function(){return h})),a.d(e,"r",(function(){return f})),a.d(e,"C",(function(){return g})),a.d(e,"N",(function(){return b})),a.d(e,"o",(function(){return v})),a.d(e,"y",(function(){return _})),a.d(e,"O",(function(){return P})),a.d(e,"v",(function(){return D})),a.d(e,"w",(function(){return S})),a.d(e,"m",(function(){return x})),a.d(e,"e",(function(){return O})),a.d(e,"H",(function(){return w})),a.d(e,"n",(function(){return C})),a.d(e,"t",(function(){return k})),a.d(e,"I",(function(){return A})),a.d(e,"s",(function(){return j})),a.d(e,"j",(function(){return T})),a.d(e,"k",(function(){return L})),a.d(e,"u",(function(){return I})),a.d(e,"K",(function(){return z})),a.d(e,"G",(function(){return $})),a.d(e,"c",(function(){return N})),a.d(e,"B",(function(){return E})),a.d(e,"J",(function(){return U})),a.d(e,"i",(function(){return B})),a.d(e,"A",(function(){return Q})),a.d(e,"Z",(function(){return G})),a.d(e,"X",(function(){return W})),a.d(e,"P",(function(){return M})),a.d(e,"b",(function(){return F})),a.d(e,"U",(function(){return R})),a.d(e,"S",(function(){return q})),a.d(e,"R",(function(){return V})),a.d(e,"T",(function(){return J})),a.d(e,"F",(function(){return Y})),a.d(e,"d",(function(){return H})),a.d(e,"a",(function(){return K})),a.d(e,"ab",(function(){return X})),a.d(e,"Q",(function(){return Z})),a.d(e,"Y",(function(){return tt})),a.d(e,"W",(function(){return et})),a.d(e,"x",(function(){return at})),a.d(e,"V",(function(){return nt}));var n=a("5530"),i=a("83c3");function r(t){return Object(i["a"])({url:"/admin/customer/detail/schedule/getCustomerOrdersStatisticList",method:"GET",params:t})}function l(t){return Object(i["a"])({url:"/admin/excel/financeCustomerOrdersStatistic",method:"GET",params:t})}function s(t){return Object(i["a"])({url:"/admin/customer/order/getCustomer",method:"GET",params:t})}function o(t){return Object(i["a"])({url:"/admin/customer/detail/schedule/getCustomerOrdersFinanceList",method:"GET",params:t})}function c(t){return Object(i["a"])({url:"/admin/excel/financeCustomerOrdersDetail",method:"GET",params:t})}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(i["a"])({url:"/admin/data/selectByCond/I_purchase_plan_finance/find?pageNo="+e,method:"post",data:t})}function m(t){return Object(i["a"])({url:"/admin/excel/financeNormPurchase",method:"GET",params:t})}function d(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(i["a"])({url:"/admin/data/selectByCond/I_purchase_plan_details_list/find?pageNo="+e,method:"post",data:t})}function p(t){return Object(i["a"])({url:"/admin/excel/financePurchaseDetailTable",method:"GET",params:t})}function y(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(i["a"])({url:"/admin/data/selectByCond/I_purchase_warehouse/find?pageNo="+e,method:"post",data:t})}function h(t){return Object(i["a"])({url:"/admin/material/supplier/list/page",method:"post",data:Object(n["a"])(Object(n["a"])({},t),{},{pageSize:100})})}function f(t){return Object(i["a"])({url:"/admin/excel/financePurchaseWarehouseDetail",method:"GET",params:t})}function g(t){return Object(i["a"])({url:"/product/getAllProductInfo",method:"GET",params:t})}function b(t){return Object(i["a"])({url:"/admin/excel/financeDeliverOutboundDetail",method:"GET",params:t})}function v(t){return Object(i["a"])({url:"/admin/excel/financeProductionStatistical",method:"GET",params:t})}function _(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(i["a"])({url:"/admin/data/selectByCond/I_purchase_warehouse_details/findPurchaseWarehouseDetails?pageNo="+e,method:"post",data:t})}function P(t){return Object(i["a"])({url:"/admin/excel/financePurchaseStorage",method:"GET",params:t})}function D(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(i["a"])({url:"/admin/data/selectByCond/I_deliver_outbound/findDeliverOutboundList?pageNo="+e,method:"post",data:t})}function S(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(i["a"])({url:"/admin/data/selectByCond/I_deliver_outbound_details_list/findDeliverOutboundDetailsList?pageNo="+e,method:"post",data:t})}function x(t){return Object(i["a"])({url:"/admin/excel/financeDeliverOutbound",method:"GET",params:t})}function O(t){return Object(i["a"])({url:"/admin/customer/order/getCustomer",method:"GET",params:t})}function w(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(i["a"])({url:"/admin/data/selectByCond/I_outturn_plan_finance/findOutturnPlanList?pageNo="+e,method:"post",data:t})}function C(t){return Object(i["a"])({url:"/admin/excel/financeOutturnPlan",method:"GET",params:t})}function k(t){return Object(i["a"])({url:"/admin/excel/financeStandardLossOverflow",method:"GET",params:t})}function A(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(i["a"])({url:"/admin/data/selectByCond/I_outturn_plan_list_finance/findOutturnPlanDetailsList?pageNo="+e,method:"post",data:t})}function j(t){return Object(i["a"])({url:"/admin/excel/financeStandardLossOverflowDetail",method:"GET",params:t})}function T(){return Object(i["a"])({url:"/admin/factory/getFactoryList",method:"get"})}function L(t){return Object(i["a"])({url:"/admin/factory/getFactoryList",method:"GET",params:t})}function I(t){return Object(i["a"])({url:"/orderReturn/selectProdorderReturnList",method:"get",params:t})}function z(){return Object(i["a"])({url:"/admin/material/supplier/list",method:"get"})}function $(t){return Object(i["a"])({url:"/orderReturn/selectPurchorderReturnList",method:"get",params:t})}function N(t){return Object(i["a"])({url:"/admin/financial/breakageStatisticsAnalyse",method:"post",data:t})}function E(t){return Object(i["a"])({url:"/payment/getProdorderPaymentList",method:"GET",params:t})}function U(t){return Object(i["a"])({url:"/payment/saveProdorderPayment",method:"POST",data:t})}function B(t){return Object(i["a"])({url:"/payment/deleteProdorderPayment",method:"POST",data:t})}function Q(t){return Object(i["a"])({url:"/payment/getProdorderPayment",method:"POST",data:t})}function G(t){return Object(i["a"])({url:"/payment/selectPlanPaymentList",method:"GET",params:t})}function W(t){return Object(i["a"])({url:"/payment/savePaymentInfo",method:"POST",data:t})}function M(t){return Object(i["a"])({url:"/payment/insertPlanPayment",method:"POST",data:t})}function F(t){return Object(i["a"])({url:"/payment/auditPlanPayment",method:"POST",data:t})}function R(t){return Object(i["a"])({url:"/admin/purch/pay/selectPlanPaymentList",method:"GET",params:t})}function q(t){return Object(i["a"])({url:"/admin/purch/pay/insertPlanPayment",method:"POST",data:t})}function V(t){return Object(i["a"])({url:"/admin/purch/pay/auditPlanPayment",method:"POST",data:t})}function J(t){return Object(i["a"])({url:"/admin/purch/pay/savePaymentInfo",method:"POST",data:t})}function Y(t){return Object(i["a"])({url:"/admin/purch/pay/getPurchorderPaymentList",method:"GET",params:t})}function H(t){return Object(i["a"])({url:"/admin/purch/pay/deletePurchorderPayment",method:"POST",data:t})}function K(t){return Object(i["a"])({url:"/admin/purch/pay/updatePlanPayment",method:"POST",data:t})}function X(t){return Object(i["a"])({url:"/payment/updatePlanPayment",method:"POST",data:t})}function Z(t){return Object(i["a"])({url:"/admin/material/supplier/getPayeeInformation",method:"GET",params:t})}function tt(t){return Object(i["a"])({url:"/payment/savePlanPaymentOne",method:"post",data:t})}function et(t){return Object(i["a"])({url:"/admin/purch/pay/saveOnePlanPayment",method:"post",data:t})}function at(t){return Object(i["a"])({url:"/productionPlan/getPlanDetailPaymentList",method:"GET",params:t})}function nt(t){return Object(i["a"])({url:"/payment/rejectPlanPayment",method:"post",data:t})}},c163:function(t,e,a){},e901:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingWeb,expression:"loadingWeb"}],staticClass:"main-conent main-conent-minheight flex-main-conent",attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading"}},[a("div",{staticClass:"flex-box"},[a("div",{staticClass:"flex-top"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0},model:{value:t.formQuery,callback:function(e){t.formQuery=e},expression:"formQuery"}},[a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("div",[a("el-form-item",{staticStyle:{"margin-right":"30px"},attrs:{label:"日期从："}},[a("div",{staticClass:"block"},[a("el-date-picker",{staticStyle:{width:"140px"},attrs:{type:"date",align:"right",placeholder:"开始日期","value-format":"yyyy-MM-dd","picker-options":{disabledDate:t.starDataMax}},model:{value:t.formQuery.startDate,callback:function(e){t.$set(t.formQuery,"startDate",e)},expression:"formQuery.startDate"}}),t._v(" - "),a("el-date-picker",{staticStyle:{width:"140px"},attrs:{type:"date",align:"right",placeholder:"结束时间","value-format":"yyyy-MM-dd","picker-options":{disabledDate:t.endDataMin}},model:{value:t.formQuery.endDate,callback:function(e){t.$set(t.formQuery,"endDate",e)},expression:"formQuery.endDate"}})],1)]),a("el-form-item",{staticStyle:{"margin-right":"30px"},attrs:{label:"状态类型："}},[a("el-select",{attrs:{placeholder:"状态类型"},on:{change:t.onSubmit},model:{value:t.formQuery.status,callback:function(e){t.$set(t.formQuery,"status",e)},expression:"formQuery.status"}},t._l(t.stateList,(function(t,e){return a("el-option",{key:e,attrs:{label:t.title,value:t.typeId}})})),1)],1),a("el-form-item",{staticStyle:{"margin-right":"30px"},attrs:{label:"包材供应商："}},[a("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.formQuery.supplierId,callback:function(e){t.$set(t.formQuery,"supplierId",e)},expression:"formQuery.supplierId"}},t._l(t.FactoryNameList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.namecode,value:t.id}})})),1)],1),a("el-form-item",{staticStyle:{"margin-right":"30px"},attrs:{label:"生产单号："}},[a("el-input",{attrs:{clearable:""},model:{value:t.formQuery.planCode,callback:function(e){t.$set(t.formQuery,"planCode",e)},expression:"formQuery.planCode"}})],1),a("el-form-item",{staticClass:"overall",staticStyle:{"margin-right":"30px"}},[a("el-button",{attrs:{type:"primary",loading:t.loadingQuery},on:{click:t.onSubmit}},[t._v("查询")])],1)],1),a("div",[t.buttonPermissions.indexOf(10072)>=0?[102101==Number(t.paramData.status)?a("el-form-item",{staticClass:"overall"},[a("el-button",{attrs:{type:"primary",loading:t.loadingQuery},on:{click:function(e){return t.onBatchApply(1)}}},[t._v("批量审批")])],1):t._e()]:t._e()],2)])])],1),a("div",{staticClass:"flex-cont"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingTab,expression:"loadingTab"}],key:t.paramData.status,ref:"TableData",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"",height:"100%",stripe:"","tooltip-effect":"dark","highlight-current-row":""},on:{"selection-change":t.handleSelectionChange}},[[102100,102101].indexOf(Number(t.paramData.status))>=0?a("el-table-column",{attrs:{type:"selection",selectable:t.selectable,width:"40",align:"center"}}):t._e(),a("el-table-column",{attrs:{prop:"id",label:"标识",width:"50",align:"center"}}),a("el-table-column",{attrs:{property:"planCode",label:"生产单号",align:"center","min-width":"130"}}),a("el-table-column",{attrs:{property:"planTime",label:"订单时间",align:"center",width:102100===t.paramData.status?180:95}}),a("el-table-column",{attrs:{property:"factoryName",label:"工厂名称",align:"center","min-width":"120"}}),a("el-table-column",{attrs:{property:"supplierName",label:"包材供应商",align:"center","min-width":"100"}}),a("el-table-column",{attrs:{property:"namecode",label:"包材名称",align:"center","min-width":"150"}}),a("el-table-column",{attrs:{property:"specif",label:"规格",align:"center"}}),a("el-table-column",{attrs:{property:"unit",label:"单位",align:"center"}}),a("el-table-column",{attrs:{property:"totalNum",label:"采购数量",align:"center"}}),a("el-table-column",{attrs:{property:"num",label:"入库数",align:"center"}}),a("el-table-column",{attrs:{property:"amount",label:"订单总金额",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{color:"orangered"}},[t._v(t._s(e.row.amount))])]}}])},[t._v("> ")]),a("el-table-column",{attrs:{property:"paidAmount",label:"已支付",align:"center"}}),[102101].indexOf(t.paramData.status)>=0?a("el-table-column",{attrs:{property:"preApplyAmount",label:"申请支付",align:"center"}}):t._e(),[102102,102103].indexOf(t.paramData.status)>=0?a("el-table-column",{attrs:{property:"unPaidAmount",label:"待支付",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{key:e.row.id},[a("span",{staticStyle:{display:"inline-block","margin-right":"5px"}},[t._v(t._s(e.row.unPaidAmount))]),t.buttonPermissions.indexOf(10098)>=0?[e.row.unPaidAmount>0&&[102102].indexOf(t.paramData.status)>=0?a("el-link",{attrs:{type:"primary"},on:{click:function(a){return t.butPayment(e.row,1)}}},[t._v("支付")]):t._e()]:t._e()],2)]}}],null,!1,854999574)}):t._e(),a("el-table-column",{attrs:{property:"unPaidAmount",label:"采购交付凭证",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.deliveryVoucher?a("div",{staticStyle:{height:"60px",overflow:"auto"}},t._l(e.row.deliveryVoucher,(function(t,n){return a("el-image",{key:n,staticClass:"image_box",staticStyle:{width:"50px",height:"50px"},attrs:{src:t,"preview-src-list":e.row.deliveryVoucher,fit:"contain"}})})),1):a("div",[t._v("--")])]}}])}),a("el-table-column",{attrs:{property:"setType",label:"付款类型",align:"center"}}),a("el-table-column",{attrs:{property:"--",label:"操作",align:"center",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[102100==Number(t.paramData.status)&&t.buttonPermissions.indexOf(10071)>=0?a("el-button",{attrs:{size:"mini",type:"primary"},nativeOn:{click:function(a){return t.apy_payment(1,e.row)}}},[t._v("分批申请付款")]):t._e(),102101==Number(t.paramData.status)&&t.buttonPermissions.indexOf(10072)>=0?a("el-button",{attrs:{size:"mini",type:"primary"},nativeOn:{click:function(a){return t.butBatchApply(e.row.id,1)}}},[t._v("审批")]):t._e(),[102102,102103].indexOf(Number(t.paramData.status))>=0?a("el-button",{staticStyle:{"margin-top":"0px"},attrs:{size:"mini",type:"primary"},nativeOn:{click:function(a){return t.seePayment(e.row)}}},[t._v("支付记录")]):t._e()]}}])})],1)],1),a("div",{staticClass:"flex-button"},[a("div",{staticClass:"margin-t16 text-right footer_Paging"},[a("AppPaging",{attrs:{total:t.allTate,pageSize:t.paramData.pageSize,currentPage:t.paramData.page,layout:"total,sizes,prev, pager, next"},on:{handleCurrentChange:t.handleCurrentChange,handleSizeChange:t.handleSizeChange}})],1)])]),a("el-dialog",{attrs:{title:"订单明细",visible:t.SeeDetailed_Visible,width:"75%"},on:{"update:visible":function(e){t.SeeDetailed_Visible=e}}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.SeeDetailed}},[102101==t.paramData.status?a("div",[a("el-form-item",{staticStyle:{"margin-right":"30px"},attrs:{label:"生产工厂:"}},[a("span",[t._v(t._s(t.SeeDetailed.factoryName))])]),a("el-form-item",{staticStyle:{"margin-right":"30px"},attrs:{label:"需付总金额:"}},[a("span",[t._v(t._s(t.SeeDetailed.amount))])])],1):t._e(),102102==Number(t.paramData.status)?a("el-form-item"):t._e()],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.SeeDetailedList,stripe:"",border:""}},[a("el-table-column",{attrs:{prop:"id",label:"标识",align:"center"}}),a("el-table-column",{attrs:{prop:"namecode",label:"包材名称",align:"center","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"specif",label:"规格",align:"center"}}),a("el-table-column",{attrs:{prop:"unit",label:"单位",align:"center"}}),a("el-table-column",{attrs:{prop:"num",label:"采购数量",align:"center"}}),a("el-table-column",{attrs:{prop:"amount",label:"金额",align:"center"}}),a("el-table-column",{attrs:{prop:"nodetype",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.nodetype))])]}}])})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.SeeDetailed_Visible=!1}}},[t._v("关闭")]),102101==t.paramData.status?a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.butBatchApply(t.SeeDetailed.id,1)}}},[t._v("审批")]):t._e()],1)],1),a("el-dialog",{staticClass:"seePayment_sync",attrs:{title:"汇款支付记录",visible:t.SeePayment.sync,width:"75%"},on:{"update:visible":function(e){return t.$set(t.SeePayment,"sync",e)}}},[a("el-form",{staticClass:"seepayment_css",staticStyle:{"margin-bottom":"00px"}},[a("el-row",{attrs:{gutter:40}},[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"包材名称："}},[a("div",{staticClass:"goodName",attrs:{title:t.SeeDetailed.namecode}},[a("span",[t._v(t._s(t.SeeDetailed.namecode))])])])],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"单位："}},[a("span",[t._v(t._s(t.SeeDetailed.unit))])])],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"生产数量："}},[a("span",[t._v(t._s(t.SeeDetailed.totalNum))])])],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"入库数："}},[a("span",[t._v(t._s(t.SeeDetailed.num||0))])])],1)],1),a("el-row",{attrs:{gutter:40}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"总金额："}},[a("span",[t._v(t._s(t.SeeDetailed.amount))])])],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"已支付："}},[a("span",[t._v(t._s(t.SeeDetailed.paidAmount))])])],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"待支付："}},[a("span",[t._v(t._s(t.SeeDetailed.unPaidAmount))])])],1)],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.SeePaymentList,stripe:"",border:""}},[a("el-table-column",{attrs:{prop:"id",label:"标识",align:"center",width:"60"}}),a("el-table-column",{attrs:{prop:"applyUser",label:"申请人",align:"center",width:"60"}}),a("el-table-column",{attrs:{prop:"requdate",label:"申请日期",align:"center",width:"98"}}),a("el-table-column",{attrs:{prop:"payableAmount",label:"应付金额",align:"center"}}),a("el-table-column",{attrs:{prop:"amount",label:"实付金额",align:"center"}}),a("el-table-column",{attrs:{prop:"inman",label:"付款人",align:"center",width:"100"}}),a("el-table-column",{attrs:{prop:"setType",label:"状态类型",align:"center",width:"100"}}),a("el-table-column",{attrs:{prop:"optdate",label:"付款时间",align:"center"}}),a("el-table-column",{attrs:{prop:"getname",label:"收款账号",align:"center"}}),a("el-table-column",{attrs:{prop:"payDocumentUrl",label:"付款凭证",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.payDocumentUrl?a("div",t._l(e.row.payDocumentUrl,(function(t,n){return a("el-image",{key:n,staticStyle:{width:"40px",height:"40px"},attrs:{src:t,"preview-src-list":e.row.payDocumentUrl,fit:"contain"}})})),1):a("p",[t._v("-")])]}}])}),a("el-table-column",{attrs:{prop:"remarks",label:"备注",align:"center",width:"60"}})],1),a("div",{staticClass:"margin-t16 text-right"},[a("pagination",{attrs:{"current-page":t.SeePayment.paramData.page,total:t.SeePayment.total,"page-size":t.SeePayment.paramData.pageSize},on:{handleSizeChange:t.PayhandleSizeChange,handleCurrentChange:t.PayhandleCurrentChange}})],1)],1),a("el-dialog",{attrs:{visible:t.batch_init.sync,title:t.batch_init.title,width:"20%","destroy-on-close":"",center:""},on:{"update:visible":function(e){return t.$set(t.batch_init,"sync",e)}},scopedSlots:t._u([{key:"footer",fn:function(){return[a("span",{staticClass:"dialog-footer"},[a("el-button",{on:{click:function(e){t.batch_init.sync=!1}}},[t._v(t._s(0===t.batch_init.val?"关闭":"取消"))]),t.batch_init.val>0?a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.batch_init.loading,expression:"batch_init.loading"}],attrs:{type:"primary"},on:{click:t.batch_submit}},[t._v("确定")]):t._e()],1)]},proxy:!0}]),model:{value:t.batch_init.sync,callback:function(e){t.$set(t.batch_init,"sync",e)},expression:"batch_init.sync"}},[a("div",{staticStyle:{"font-size":"16px"}},[t._v(" "+t._s(t.batch_init.content)+" ")])]),a("el-dialog",{attrs:{visible:t.batch_init2.sync,title:"分批申请付款",width:"34%","destroy-on-close":"",center:""},on:{"update:visible":function(e){return t.$set(t.batch_init2,"sync",e)}},scopedSlots:t._u([{key:"footer",fn:function(){return[a("span",{staticClass:"dialog-footer"},[a("el-button",{on:{click:function(e){t.batch_init2.sync=!1}}},[t._v(t._s(0===t.batch_init2.val?"关闭":"取消"))]),t.batch_init2.val>0?a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.batch_init2.loading,expression:"batch_init2.loading"}],attrs:{type:"primary"},on:{click:function(e){return t.apy_payment(3)}}},[t._v("确定")]):t._e()],1)]},proxy:!0}])},[a("div",{staticStyle:{"font-size":"16px"}},[a("div",{staticClass:"number",staticStyle:{color:"#999","font-size":"14px"}},[a("div",{staticStyle:{"margin-bottom":"15px"}},[t._v("包材供应商："+t._s(t.batch_init2.row.factoryName))]),a("div",{staticClass:"number-txt",staticStyle:{"margin-bottom":"15px"}},[a("span",[t._v("订单总金额："+t._s(t.batch_init2.row.amount))]),a("span",[t._v("已申请金额："+t._s(t.batch_init2.row.preApplyAmount||0))]),a("span",[t._v("可申请金额："+t._s(t.batch_init2.row.noApplyAmount||0))])]),a("div",{staticClass:"number-txt",staticStyle:{"margin-bottom":"15px"}},[a("span",[t._v("已支付金额："+t._s(t.batch_init2.row.paidAmount))]),a("span",[t._v("申请未付金额："+t._s((1e4*t.batch_init2.row.preApplyAmount-1e4*t.batch_init2.row.paidAmount)/1e4))])])]),a("div",{staticClass:"input-box",staticStyle:{"margin-top":"20px"}},[a("el-form",{attrs:{"label-position":"left","label-width":"80px"}},[a("el-form-item",{attrs:{label:"申请金额"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{type:"number",min:0},model:{value:t.batch_init2.param.val,callback:function(e){t.$set(t.batch_init2.param,"val",e)},expression:"batch_init2.param.val"}},[a("template",{slot:"append"},[a("el-link",{on:{click:function(e){t.batch_init2.param.val=t.batch_init2.row.noApplyAmount}}},[t._v("金额")])],1)],2)],1),a("span",{staticStyle:{color:"red","font-size":"12px"}},[t._v(t._s(t.batch_init2.param.val>t.batch_init2.row.noApplyAmount?"( 当前申请总金额已超过订单总金额 )":""))])],1)],1)])]),a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.savePayment.loading,expression:"savePayment.loading"}],attrs:{visible:t.savePayment.sync,title:t.savePayment.paramData.id?"修改支付记录":"添加支付",width:"850px","destroy-on-close":"",center:""},on:{"update:visible":function(e){return t.$set(t.savePayment,"sync",e)}},scopedSlots:t._u([{key:"footer",fn:function(){return[a("span",{staticClass:"dialog-footer"},[a("el-button",{on:{click:function(e){t.savePayment.sync=!1}}},[t._v(t._s("取消"))]),a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.savePayment.loading,expression:"savePayment.loading"}],attrs:{type:"primary"},on:{click:t.butPayment_submit}},[t._v(t._s(3===t.savePayment.type?"修改":"提交"))])],1)]},proxy:!0}]),model:{value:t.savePayment.sync,callback:function(e){t.$set(t.savePayment,"sync",e)},expression:"savePayment.sync"}},[a("div",{staticStyle:{"font-size":"16px"}},[a("el-form",{ref:"savePayment",staticClass:"demo-ruleForm",attrs:{model:t.savePayment.paramData,rules:t.savePayment.rules,"label-position":"left"}},[a("div",{staticStyle:{display:"flex"}},[a("el-form-item",{staticStyle:{"padding-right":"50px"},attrs:{label:"订单总额:","label-width":"80px"}},[a("span",[t._v(t._s(t.SeeDetailed.amount))])]),a("el-form-item",{staticStyle:{"padding-right":"50px"},attrs:{label:"待支付金额:","label-width":"100px"}},[a("span",[t._v(t._s(t.SeeDetailed.unPaidAmount_max))])]),a("el-form-item",{attrs:{label:"已支付百分比:","label-width":t.labelWidth}},[a("span",[t._v(t._s(t._f("proportion")(t.SeeDetailed.paidAmount/t.SeeDetailed.preApplyAmount))+"%")])])],1),a("div",{staticStyle:{display:"flex"}},[a("el-form-item",{staticStyle:{"margin-bottom":"5px"},attrs:{label:"本次支付金额:",prop:"amount","label-width":t.labelWidth}},[a("el-input",{staticStyle:{width:"220px"},attrs:{type:"number",autocomplete:"off"},model:{value:t.savePayment.paramData.amount,callback:function(e){t.$set(t.savePayment.paramData,"amount",e)},expression:"savePayment.paramData.amount"}},[a("template",{slot:"append"},[a("el-link",{on:{click:function(e){t.savePayment.paramData.amount=t.SeeDetailed.unPaidAmount_max}}},[t._v("全部")])],1)],2),t.savePayment.paramData.amount>0?a("span",{staticStyle:{"margin-left":"20px"}},[t._v("本次支付占总金额的 "+t._s(t._f("proportion")(t.savePayment.paramData.amount/t.SeeDetailed.amount))+"%")]):t._e()],1)],1),t.savePayment.paramData.amount>t.SeeDetailed.unPaidAmount_max?a("div",{staticStyle:{color:"red","font-size":"12px"}},[t._v("(当前支付的金额，已经超出了此次申请支付的金额)")]):t._e(),a("div",{staticStyle:{"margin-top":"10px"}}),a("el-form-item",{attrs:{label:"收款人:","label-width":t.labelWidth}},[t._v(" "+t._s(t.formBrand_extraInfo.payee||"")+" ")]),a("el-form-item",{attrs:{label:"收款账号","label-width":t.labelWidth}},[t._v(" "+t._s(t.formBrand_extraInfo.paymentAccount||"")+" ")]),a("el-form-item",{attrs:{label:"开户银行:","label-width":t.labelWidth}},[t._v(" "+t._s(t.formBrand_extraInfo.openingBank||"")+" ")]),a("el-form-item",{attrs:{label:"上传凭证:",prop:"payDocumentUrl","label-width":t.labelWidth}},[a("ImgUpload",{attrs:{NumMax:1,setfileList:t.savePayment.paramData.payDocumentUrl||[]},on:{change:t.clickUploadUrl}})],1),a("el-form-item",{attrs:{label:"备注信息:","label-width":t.labelWidth}},[a("el-input",{staticStyle:{width:"400px"},attrs:{type:"textarea",autocomplete:"off"},model:{value:t.savePayment.paramData.remarks,callback:function(e){t.$set(t.savePayment.paramData,"remarks",e)},expression:"savePayment.paramData.remarks"}})],1)],1)],1)])],1)},i=[],r=a("5530"),l=(a("b0c0"),a("d3b7"),a("159b"),a("e9c4"),a("b64b"),a("a434"),a("ba10")),s=a("a8e1"),o=a("2f62"),c=a("4fb0"),u=a("2f88"),m={components:{AppPaging:u["a"],pagination:c["a"],ImgUpload:s["a"]},filters:{proportion:function(t){var e=Math.round(1e4*t)/100;return e}},data:function(){return{scrollTop:0,scrollLeft:0,loadingWeb:!0,loadingTab:!1,loadingQuery:!1,tableData:[],SeeDetailed:{},SeeDetailedList:[],SeeDetailed_Visible:!1,stateList:[{title:"申请待审",typeId:102101,id:1},{title:"审核待付",typeId:102102,id:2},{title:"完成付款",typeId:102103,id:3}],stateId:102100,productList:[],formQuery:{status:102101,payType:"",timeData:"",supplierId:"",productId:""},FactoryNameList:[],factoryList:[],paramData:{page:1,pageSize:24},allTate:0,total:0,factoryId:"",queryInfo:{page:1,pageSize:24},table_id_arr:[],batch_init:{sync:!1,title:"提示",content:"操作说明",ids:"",val:1,optType:0,loading:!1},batch_init2:{param:{val:0},sync:!1,title:"提示",content:"操作说明",row:{},ids:"",val:1,optType:0,loading:!1},SeePayment:{isAddBut:!1,sync:!1,title:"提示",content:"操作说明",ids:"",val:1,optType:0,loading:!1,allTate:0,total:0,paramData:{page:1,pageSize:24}},SeePaymentList:[],savePayment:{sync:!1,loading:!1,type:0,rules:{amount:[{required:!0,message:"请输入本次支付金额",trigger:"blur"}],payDocumentUrl:[{required:!1,message:"请上传支付凭证",trigger:"blur"}],payUser:[{required:!0,message:"请输入操作人",trigger:"blur"}],payee:[{required:!0,message:"请输入收款信息",trigger:"blur"}]},paramData:{amount:0,payDocumentUrl:"",payUser:"",payee:"",paymentId:0,remarks:""}},labelWidth:"110px",options:[],dialogExport:!1,dialogPaymentRecords:!1,PaymentRecordsList:[],formQueryInfo:{supplierId:"",timeData:""},AddPayFormRules:{namecode:[{required:!0,message:"请输入收付款方账号信息",trigger:"blur"}],amount:[{required:!0,message:"请输入付款金额",trigger:"blur"}],nodetype:[{required:!0,message:"请选择类型",trigger:"blur"}]},dialogPayAdd:!1,AddRelaId:"",manufacturerId:"",formPayAdd:{namecode:"",amount:"",nodetype:""},dialogPayEdit:!1,PayEditForm:{},PayEditSupplierName:"",editPayFormRules:{namecode:[{required:!0,message:"请输入收付款方账号信息",trigger:"blur"}],amount:[{required:!0,message:"请输入付款金额",trigger:"blur"}],nodetype:[{required:!0,message:"请选择类型",trigger:"blur"}]},formBrand_extraInfo:{payee:"",paymentAccount:"",openingBank:""},buttonPermissions:[],EditPayId:"",max_history:10,historyList:[]}},computed:Object(r["a"])({},Object(o["c"])({roles:"roles",userId:"user/userId",name:"user/name"})),created:function(){this.buttonPermissions=this.roles[0].buttonPermissions,this.provinceList=this.data,this.provinceList=this.data,this.onSubmit(),this.getUpplierList()},methods:{go_pay:function(t){this.butPayment(t,1)},go_pay2:function(t){this.$refs.productionDetailPay.init(t)},apy_payment:function(t,e){if(1===t)return this.batch_init2.param.val=0,this.batch_init2.row=e,void(this.batch_init2.sync=!0);if(3===t){if(0===this.batch_init2.param.val)return void this.$message.warning("申请金额不能为0");var a={optName:this.name,planId:this.batch_init2.row.id,amount:this.batch_init2.param.val};this.set_saveOnePlanPayment(a)}},set_saveOnePlanPayment:function(t){var e=this;this.batch_init2.loading=!0,Object(l["W"])(t).then((function(t){e.batch_init2.loading=!1,200===t.code&&(e.$message.success("操作成功"),e.batch_init2.sync=!1,e.paramData.page=1,e.selectPlanPaymentList(e.paramData))}))},starDataMax:function(t){if(this.formQuery.endDate)return t.getTime()>=Date.parse(this.formQuery.endDate)},endDataMin:function(t){if(this.formQuery.startDate)return t.getTime()<=Date.parse(this.formQuery.startDate)-864e5},deletePayment:function(t){this.batch_init.content="你确定要该支付记录吗",this.batch_init.ids=t.id,this.batch_init.optType=3,this.batch_init.sync=!0},deletePurchorderPayment:function(){var t=this,e={id:this.batch_init.ids};this.savePayment.loading=!0,Object(l["d"])(e).then((function(e){t.savePayment.loading=!1,t.savePayment.sync=!1,200===e.code?(t.$message({type:"success",message:"删除成功"}),t.batch_init.sync=!1,t.selectPlanPaymentList(t.paramData)):t.$message({type:"error",message:e.message})}))},amount_blur:function(){this.savePayment.paramData.amount>this.SeeDetailed.unPaidAmount_max&&(this.savePayment.paramData.amount=this.SeeDetailed.unPaidAmount_max,this.$message({message:"输入的金额大于待支付金额",type:"warning"}))},seePayment:function(t){this.SeePayment.sync=!0,this.SeeDetailed=t,this.SeeDetailed.unPaidAmount=this.SeeDetailed.unPaidAmount||0;var e={page:1,pageSize:24,rela:t.planId};this.SeePayment.paramData=e,this.getProdorderPaymentList(this.SeePayment.paramData)},getProdorderPaymentList:function(t){var e=this;this.SeePayment.loading=!0,Object(l["F"])(t).then((function(t){e.SeePayment.loading=!1,200===t.code?(e.SeePaymentList=t.data.list,e.SeePayment.allTate=t.data.total,e.SeePayment.total=t.data.total,e.SeePaymentList.forEach((function(t){var e=t.vdata||{};t.payDocumentUrl=e.payDocumentUrl||"",t.remarks=e.remarks||""}))):e.$message({message:t.message,type:"warning"})}))},PayhandleSizeChange:function(t){this.SeePayment.paramData.pageSize=t,this.SeePayment.paramData.page=1,this.getProdorderPaymentList(this.SeePayment.paramData)},PayhandleCurrentChange:function(t){this.SeePayment.paramData.page=t,this.getProdorderPaymentList(this.SeePayment.paramData)},butPayment:function(t,e){var a=this;if(this.SeeDetailed=t,Object(l["Q"])({id:t.factoryId}).then((function(t){if(200===t.code){var e={};t.data&&(e={openingBank:t.data.openingBank||"",payee:t.data.payee||"",paymentAccount:t.data.paymentAccount||""}),"null"===e.openingBank&&(e.openingBank=""),"null"===e.payee&&(e.payee=""),"null"===e.paymentAccount&&(e.paymentAccount=""),a.formBrand_extraInfo=e}})),this.savePayment.type=e,this.savePayment.sync=!0,this.SeeDetailed.unPaidAmount_max=this.SeeDetailed.unPaidAmount,3===e)return this.SeeDetailed.unPaidAmount_max+=t.amount,void(this.savePayment.paramData={amount:t.amount,payDocumentUrl:t.payDocumentUrl,payUser:t.inman,inman:t.inman,payeeInfo:t.serviceinfo,payerInfo:t.namecode,id:t.id,remarks:t.remarks});this.savePayment.paramData={amount:0,payUser:this.name,openingBank:"",payee:"",paymentAccount:"",paymentId:t.id,planId:t.planId},this.savePayment.sync=!0},butPayment_submit:function(){var t=this;this.savePayment.paramData.amount<=0?this.option=this.$message.warning("输入的付款金额不能为0"):this.$refs["savePayment"].validate((function(e){if(!e)return!1;if(t.savePayment.paramData.openingBank=t.formBrand_extraInfo.openingBank,t.savePayment.paramData.paymentAccount=t.formBrand_extraInfo.paymentAccount,t.savePayment.paramData.payee=t.formBrand_extraInfo.payee,1===t.savePayment.type)t.savePayment.paramData.vdata=JSON.stringify({payDocumentUrl:t.savePayment.paramData.payDocumentUrl,remarks:t.savePayment.paramData.remarks}),delete t.savePayment.paramData["payDocumentUrl"],delete t.savePayment.paramData["remarks"],t.savePaymentInfo(t.savePayment.paramData);else if(3===t.savePayment.type){var a={amount:t.savePayment.paramData.amount,id:t.savePayment.paramData.id,vdata:{payDocumentUrl:t.savePayment.paramData.payDocumentUrl,remarks:t.savePayment.paramData.remarks}};t.savePurchorderPayment(a)}}))},savePurchorderPayment:function(t){var e=this;this.savePayment.loading=!0,Object(l["a"])(t).then((function(t){e.savePayment.loading=!1,200===t.code&&(e.savePayment.sync=!1,e.option=e.$message({type:"success",message:"修改成功"}),e.selectPlanPaymentList(e.paramData))}))},savePaymentInfo:function(t){var e=this;this.savePayment.loading=!0,Object(l["T"])(t).then((function(t){e.savePayment.loading=!1,200===t.code&&(e.$message({type:"success",message:"操作成功"}),e.savePayment.sync=!1,e.selectPlanPaymentList(e.paramData))}))},clickUploadUrl:function(t){this.savePayment.paramData.payDocumentUrl=t},getUpplierList:function(){var t=this;Object(l["L"])({}).then((function(e){200===e.code&&(t.FactoryNameList=e.data.list)}))},onSeeDetailed:function(t){this.SeeDetailed=t,t.planDetailList&&t.planDetailList.length>0?(this.SeeDetailedList=t.planDetailList,this.SeeDetailed_Visible=!0):this.$message({message:"该订单暂无明细！",type:"warning"})},onBatchApply:function(t){0!==this.table_id_arr.length?(this.batch_init.ids=this.table_id_arr,this.batch_init.content="你确认要对已选的"+this.table_id_arr.length+"条的数据进行申请付款吗？",1===t&&(this.batch_init.content="你确认要对已选的"+this.table_id_arr.length+"条的数据进行审批吗？"),this.batch_init.optType=t,this.batch_init.sync=!0):this.$message({message:"请选择要操作的数据！",type:"warning"})},butBatchApply:function(t,e){this.batch_init.ids=[t],this.batch_init.content="你确认要对当前数据进行申请付款吗？",1===e&&(this.batch_init.content="你确认要对当前数据进行审批吗？"),this.batch_init.optType=e,this.batch_init.sync=!0},batch_submit:function(){0===this.batch_init.optType?this.insertPlanPayment():1===this.batch_init.optType?this.auditPlanPayment():3===this.batch_init.optType?this.deletePurchorderPayment():this.$message({message:"功能开发中！",type:"warning"})},insertPlanPayment:function(){var t=this,e={optName:this.name,planIds:this.batch_init.ids};Object(l["S"])(e).then((function(e){200===e.code?(t.$message({type:"success",message:"操作成功"}),t.batch_init.sync=!1,t.paramData.page=1,t.selectPlanPaymentList(t.paramData)):t.$message({type:"error",message:e.message})}))},auditPlanPayment:function(){var t=this,e={optName:this.name,nodeType:102102,paymentIds:this.batch_init.ids};Object(l["R"])(e).then((function(e){200===e.code?(t.$message({type:"success",message:"操作成功"}),t.batch_init.sync=!1,t.paramData.page=1,t.selectPlanPaymentList(t.paramData)):t.$message({type:"error",message:e.message})}))},handleSelectionChange:function(t){var e=this;this.table_id_arr=[];var a=[];t.length>0&&t.forEach((function(t){e.table_id_arr.push(t.id),t.isProduction&&a.push(t)}))},selectable:function(t){if(t)return!0},onSubmit:function(){var t=this.formQuery;this.paramData.page=1;var e=Object(r["a"])({page:1,pageSize:this.paramData.pageSize},t);delete e.timeData,Object.keys(e).forEach((function(t){var a=e[t];""===a&&delete e[t]})),this.paramData=e,this.selectPlanPaymentList(e)},getTimeData:function(t){var e=new Date(t),a=e.getFullYear()+"-"+this.p(e.getMonth()+1)+"-"+this.p(e.getDate());return a},p:function(t){return t<10?"0"+t:t},dialogExportClick:function(){this.dialogExport=!1,this.$message({type:"success",message:"操作成功"})},selectPlanPaymentList:function(t){var e=this;this.loadingWeb=!0,this.loadingQuery=!0,Object(l["U"])(t).then((function(t){if(e.loadingWeb=!1,e.loadingQuery=!1,e.loadingTab=!1,200===t.code){var a=t.data.list;if(e.tableData=a,e.allTate=t.data.total,e.total=t.data.total,e.SeePayment.sync){var n=!0;e.tableData.forEach((function(t){t.id===e.SeeDetailed.id&&(n=!1)})),n?(e.seePayment(e.SeeDetailed,!0),e.option&&e.option.close(),e.option=e.$message.success("订单支付已全部支付完成，请前往完成付款查看")):e.seePayment(e.SeeDetailed)}}else e.$message({message:t.message,type:"warning"})}))},handleSizeChange:function(t){this.paramData.pageSize=t,this.handleCurrentChange(1)},handleCurrentChange:function(t){this.paramData.page=t,this.selectPlanPaymentList(this.paramData)},PayhandleEdit:function(t){var e=this,a={id:t};Object(l["A"])(a).then((function(t){200===t.code?e.PayEditForm=t.data:e.$message({type:"warning",message:t.message})})),this.dialogPayEdit=!0,this.EditPayId=t},removalDuplicate:function(t){for(var e=0;e<t.length;e++){var a=t[e];if(""!==a)for(var n=e+1;n<t.length;n++)t[e].id===t[n].id&&t.splice(e,1)}return t}},mounted:function(){},activated:function(){var t=this;setTimeout((function(){t.$refs.TableData.bodyWrapper.scrollTop=t.scrollTop,t.$refs.TableData.bodyWrapper.scrollLeft=t.scrollLeft}),60)},beforeRouteLeave:function(t,e,a){this.scrollTop=this.$refs.TableData.bodyWrapper.scrollTop,this.scrollLeft=this.$refs.TableData.bodyWrapper.scrollLeft,a()}},d=m,p=(a("2582"),a("2877")),y=Object(p["a"])(d,n,i,!1,null,"3a44092d",null);e["default"]=y.exports}}]);