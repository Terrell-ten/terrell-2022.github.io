(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c1d97bba"],{"2f88":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":e.pageSizesArr||e.pageSizesArrInit,"page-size":e.pageSize,layout:e.layout,total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},r=[],i=(a("a9e3"),a("ac1f"),a("1276"),{props:{pageSize:{type:Number,default:10},pageSizesArr:{type:Array,default:null},layout:{type:String,default:"total,sizes,prev, pager, next"},total:Number,currentPage:Number},data:function(){return{pageSizesArrInit:[24,100,200,500,1e3]}},mounted:function(){var e=location.href.split("/")[2];"192.168.1.145:8080"===e&&(this.pageSizesArrInit=[2,24,100,200,500,1e3])},methods:{handleSizeChange:function(e){this.$emit("handleSizeChange",e)},handleCurrentChange:function(e){this.$emit("handleCurrentChange",e)}}}),o=i,s=a("2877"),l=Object(s["a"])(o,n,r,!1,null,"79dfe774",null);t["a"]=l.exports},"768e":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main-conent main-conent-minheight flex-main-conent"},[a("div",{staticClass:"flex-box"},[a("div",{staticClass:"flex-top"},[a("div",{attrs:{slot:"header"},slot:"header"},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-row",{staticClass:"flex-wrap-wrap",attrs:{type:"flex"}},[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"品牌名称："}},[a("el-input",{staticStyle:{width:"100%"},attrs:{clearable:""},model:{value:e.brandName,callback:function(t){e.brandName=t},expression:"brandName"}})],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"类型："}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"注册商标"},on:{change:function(t){return e.findList()}},model:{value:e.nodeType,callback:function(t){e.nodeType=t},expression:"nodeType"}},[a("el-option",{attrs:{label:"注册商标",value:"100001"}})],1)],1)],1),a("el-col",{staticClass:"text-right",attrs:{span:4}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.findList()}}},[e._v("查询")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.add()}}},[e._v("添加品牌")])],1)],1)],1),a("el-row")],1)]),a("div",{staticClass:"flex-cont"},[a("v-list",{attrs:{lists:e.lists,info:e.info},on:{edit:e.edit}})],1),a("div",{staticClass:"flex-button"},[a("div",{staticClass:"margin-t16 text-right"},[a("AppPaging",{attrs:{total:e.allTate,pageSize:e.paramData.pageSize,currentPage:e.paramData.page},on:{handleCurrentChange:e.handleCurrentChange,handleSizeChange:e.handleSizeChange}})],1)])]),a("v-add",{ref:"aaa",attrs:{info:e.info}})],1)},r=[],i=a("5530"),o=(a("d3b7"),a("159b"),a("b64b"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:e.info.isShow?"添加品牌":"修改品牌",visible:e.info.isTrue,width:"40%"},on:{"update:visible":function(t){return e.$set(e.info,"isTrue",t)},close:function(t){return e.hide()}}},[a("el-form",{ref:"form",staticClass:"demo-ruleForm",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"品牌名称",prop:"namecode"}},[a("el-input",{staticStyle:{width:"50%"},model:{value:e.form.namecode,callback:function(t){e.$set(e.form,"namecode",t)},expression:"form.namecode"}})],1),1==e.info.isShow?a("el-form-item",{attrs:{label:"品牌类型"}},[a("el-select",{staticStyle:{width:"50%"},attrs:{clearable:"",placeholder:"注册商标"},model:{value:e.form.nodetype,callback:function(t){e.$set(e.form,"nodetype",t)},expression:"form.nodetype"}},[a("el-option",{attrs:{label:"注册商标",value:"100001"}})],1)],1):e._e(),a("el-form-item",{attrs:{label:"企业注册名称",prop:"registername"}},[a("el-input",{staticStyle:{width:"50%"},model:{value:e.form.registername,callback:function(t){e.$set(e.form,"registername",t)},expression:"form.registername"}})],1),a("el-form-item",{attrs:{label:"LOGO(JPG或PNG格式 不能大于300k):",prop:"logourl"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.uploadUrl,"show-file-list":!1,name:"multipartFiles","on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[1==e.info.isShow?a("el-button",{attrs:{type:"primary"},on:{click:e.brandAdd}},[e._v("添 加")]):a("el-button",{attrs:{type:"primary"},on:{click:e.preservation}},[e._v("编 辑")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.hide()}}},[e._v("取 消")])],1)],1)],1)}),s=[],l=(a("7db0"),a("2f62")),c=a("8afb"),d=a("2cd9"),u=a("373f"),f=a("5a27"),p={props:["info"],data:function(){return{uploadUrl:d["b"],form:{logourl:"",namecode:"",registername:"",nodetype:"100001"},imageUrl:"",rules:{sort:f["c"],namecode:f["c"],registername:f["c"],logourl:f["b"]}}},computed:Object(i["a"])({},Object(l["c"])({list:"brandList/list"})),methods:Object(i["a"])(Object(i["a"])({},Object(l["b"])({reqChangeList:"brandList/reqChangeList"})),{},{handleAvatarSuccess:function(e){this.imageUrl=e.data[0],this.form.logourl=this.imageUrl},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type,a=e.size/1024/1024<.3;return t||this.$message.error("上传头像图片只能是 JPG 或 PNG格式!"),a||this.$message.error("上传头像图片大小不能超过 300k!"),t&&a},hide:function(){this.info.isTrue=!1,this.reset()},reset:function(){this.form={id:"",logourl:"",namecode:"",registername:"",nodetype:"100001"},this.imageUrl=""},getId:function(e){var t=this;Object(c["d"])(e).then((function(a){if(200===a.code){var n=a.data.records,r=n.find((function(t){return t.id===e}));delete r.nodetype,delete r.optdate,delete r.vdata,t.form.id=r.id,t.form=r,t.imageUrl=r.logourl}else Object(u["b"])(a.message)}))},preservation:function(){var e=this;Object(c["c"])(this.form).then((function(t){200===t.code&&(Object(u["a"])(t.message),e.$parent.findList(),e.$parent.getTotal(),e.reqChangeList(),e.hide())}))},brandAdd:function(){var e=this;this.$refs.form.validate((function(t){if(!t)return e.$message.error("请完善表单相关信息！"),!1;Object(c["a"])(e.form).then((function(t){200===t.code&&(Object(u["a"])(t.message),e.$parent.getTotal(),e.reqChangeList(),e.hide())}))}))}})},h=p,m=a("2877"),g=Object(m["a"])(h,o,s,!1,null,"6b768327",null),b=g.exports,v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{height:"100%"}},[n("el-table",{staticStyle:{width:"100%"},attrs:{stripe:"",data:e.lists,height:"100%",border:""}},[n("el-table-column",{attrs:{prop:"id",label:"标识",width:"80",align:"center"}}),n("el-table-column",{attrs:{prop:"namecode",label:"品牌名称","min-width":"100",align:"center"}}),n("el-table-column",{attrs:{prop:"registername",label:"注册企业名称","min-width":"100",align:"center"}}),n("el-table-column",{attrs:{label:"logo",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[n("el-popover",{attrs:{placement:"top-start",trigger:"click"}},[n("a",{attrs:{href:e.row.img,target:"_blank",title:"查看最大化图片"}},[n("img",{staticStyle:{"max-width":"600px","max-height":"600px"},attrs:{src:e.row.logourl||a("8126")}})]),n("img",{staticStyle:{width:"50px",height:"50px",cursor:"pointer"},attrs:{slot:"reference",src:e.row.logourl||a("8126")},slot:"reference"})])]}}])}),n("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"primary"},on:{click:function(a){return e.edit(t.row.id)}}},[e._v("修改")]),n("el-button",{attrs:{type:"danger"},on:{click:function(a){return e.tableDel(t.row.id)}}},[e._v("删除")])]}}])})],1)],1)},y=[],C={props:["lists","info"],data:function(){return{}},computed:{},methods:Object(i["a"])(Object(i["a"])({},Object(l["b"])({reqChangeList:"brandList/reqChangeList"})),{},{edit:function(e){this.$emit("edit",e)},tableDel:function(e){var t=this,a=[e];this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(c["b"])({idList:a}).then((function(e){200===e.code&&(Object(u["a"])(e.message),t.$parent.findList(),t.$parent.getTotal(),t.reqChangeList())}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}}),created:function(){},mounted:function(){this.reqChangeList()}},S=C,w=Object(m["a"])(S,v,y,!1,null,"379475c8",null),x=w.exports,j=a("2f88"),O={components:{AppPaging:j["a"],vAdd:b,vList:x},data:function(){return{scrollTop:0,scrollLeft:0,brandName:"",nodeType:"",lists:[],allTate:0,size:24,current:1,pages:1,info:{isTrue:!1,isShow:!0,isDis:!1,sort:""},paramData:{pageSize:24,page:1}}},computed:Object(i["a"])({},Object(l["c"])({list:"brandList/list"})),created:function(){this.findList()},mounted:function(){},methods:Object(i["a"])(Object(i["a"])({},Object(l["b"])({})),{},{getTable:function(e){var t=this;this.paramData=e,Object(c["d"])(e).then((function(e){t.lists=[],setTimeout((function(){t.lists=e.data.records}),10),t.allTate=e.data.total,t.size=e.data.size,t.current=e.data.current}))},ToUpDate:function(){this.getTable(this.paramData)},handleSizeChange:function(e){this.paramData.pageSize=e,this.handleCurrentChange(1)},handleCurrentChange:function(e){this.paramData.page=e,this.ToUpDate()},getSort:function(){},add:function(){this.info.isTrue=!0,this.info.isShow=!0,this.getSort()},edit:function(e){this.info.isShow=!1,this.info.isTrue=!0,this.$refs.aaa.getId(e)},findList:function(){var e={listByAsc:0,brandName:this.brandName,nodeType:this.nodeType};e.pageSize=this.paramData.pageSize,e.page=1,Object.keys(e).forEach((function(t){var a=e[t];""===a&&delete e[t]})),this.getTable(e)}})},z=O,T=Object(m["a"])(z,n,r,!1,null,null,null);t["default"]=T.exports},"7db0":function(e,t,a){"use strict";var n=a("23e7"),r=a("b727").find,i=a("44d2"),o="find",s=!0;o in[]&&Array(1)[o]((function(){s=!1})),n({target:"Array",proto:!0,forced:s},{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),i(o)},8126:function(e,t,a){e.exports=a.p+"img/demo_logo.dba28ff5.jpg"}}]);