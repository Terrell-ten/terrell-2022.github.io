(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0722c5fe"],{"098f":function(t,e,n){"use strict";(function(t){var a=n("1da1"),i=(n("96cf"),n("a9e3"),n("a15b"),n("99af"),n("1d9a")),o=(n("e562"),n("bc3a")),c=n.n(o),r=n("9917"),l=(n("0d68"),n("fc39"),n("4ea8"),n("3aea"),n("07d1"),n("84ec"),n("2cd9")),s=n("df7c"),u=n.n(s);n("46c3");e["a"]={name:"TinymceEditor",props:{defaultContent:{type:String,default:""},height:{type:Number,default:500},width:{type:Number,default:void 0},upload_url:{type:String,default:""},showMenubar:{type:Boolean,default:!0},toolbar:{type:String,default:" undo redo |formatselect |fullscreen  bold italic strikethrough forecolor backcolor formatpainter  link image media code | fontsizeselect |fontselect| alignleft aligncenter alignright alignjustify  |numlist bullist |  outdent indent  | removeformat preview"},baseUrl:{type:String,default:""}},components:{Editor:r["a"]},data:function(){return{tinymceFlag:1,tinymceInit:{},content:"",resimg:"",resVideo:"",uploaded:!1,qiniuToken:"",domain:null,loading:!1}},created:function(){var e=this,n=(u.a.join(t,"./front"),window.location.host);this.tinymceInit={selector:"#tinymce",file_picker_types:"image media",language_url:"192.168.1.24:9081"===n?"/invoicing/tinymce/langs/zh_CN.js":"/tinymce/langs/zh_CN.js",skin_url:"192.168.1.24:9081"===n?"/invoicing/tinymce/skins/ui/oxide":"/tinymce/skins/ui/oxide",content_css:"192.168.1.24:9081"===n?"/invoicing/tinymce/skins/content/default/content.css":"/tinymce/skins/content/default/content.css",language:"zh_CN",min_height:350,width:800,browser_spellcheck:!0,branding:!1,elementpath:!1,statusbar:!1,paste_data_images:!0,menubar:!1,contextmenu:!1,plugins:"fontselect fullpage searchreplace directionality visualblocks visualchars template codesample charmap pagebreak nonbreaking anchor toc insertdatetime fullscreen wordcount textpattern help advlist table lists paste preview  image media imagetools code link ",toolbar:this.toolbar,convert_urls:!1,images_upload_handler:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(n,a){var i,o,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=new File([n.blob()],n.filename(),{type:"image/png"}),i.uid=(new Date).getTime(),o=new FormData,o.append("multipartFiles",i),r=i.size/1024/1024<2,r){t.next=8;break}return e.$message.error("上传头像图片大小不能超过 2MB!,点击ESC退出，重新上传"),t.abrupt("return");case 8:c.a.post(l["b"],o).then((function(t){var e=t.data.data[0];a(e)})).catch((function(t){}));case 9:case"end":return t.stop()}}),t)})));function n(e,n){return t.apply(this,arguments)}return n}(),file_picker_callback:function(t,n,o){if("media"===o.filetype){var r=document.createElement("input");r.setAttribute("type","file"),r.onchange=function(){var n=this;e.loading=!0;var o=document.querySelector(".tox-dialog");o.style.display="none";var r=this.files[0];Object(i["k"])().then((function(i){if(200===i.code){n.qiniuToken=i.data.token,n.domain=i.data.domain;var l=new FormData,s="token",u=n.qiniuToken;l[s]=u,l.append("token",n.qiniuToken),l.append("file",r),c.a.post("https://upload.qiniup.com",l).then(function(){var n=Object(a["a"])(regeneratorRuntime.mark((function n(a){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.loading=!1,o.style.display="block",n.next=4,t("http://filets.520shq.com/".concat(a.data.key));case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()).catch((function(t){}))}else n.$message({type:"warning",message:i.message})}))},r.click(),e.loading=!0}},media_url_resolver:function(t,e){try{var n=encodeURI(t.url),a='<p>\n            <span\n                class="mce-object mce-object-video"\n                data-mce-selected="1"\n                data-mce-object="video"\n                data-mce-p-width="100%"\n                data-mce-p-height="auto"\n                data-mce-p-controls="controls"\n                data-mce-p-controlslist="nodownload"\n                data-mce-p-allowfullscreen="true"\n                data-mce-p-src='.concat(n," >\n                <video src=").concat(t.url,' width="100%" height="auto" controls="controls" controlslist="nodownload">\n                </video>\n            </span>\n            </p>\n            <p style="text-align: left;"></p>');e({html:a})}catch(i){e({html:""})}}}},methods:{},mounted:function(){this.defaultContent&&(this.content=this.defaultContent)},watch:{content:{handler:function(){this.$emit("change",this.content)}},defaultContent:{handler:function(){this.content=this.defaultContent},immediate:!0}},activated:function(){this.tinymceFlag++}}}).call(this,"/")},"39e7":function(t,e,n){"use strict";n("e8fb")},"46c3":function(t,e,n){n("d3b7"),n("159b"),n("ddb0");var a=function(t){return t.keys().forEach(t)};try{a(!function(){var t=new Error("Cannot find module 'undefined'");throw t.code="MODULE_NOT_FOUND",t}())}catch(i){}},da0a:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return c}));var a=n("83c3");function i(t){return Object(a["a"])({url:"/troubleShooting/saveTrouble",method:"post",data:t})}function o(t){return Object(a["a"])({url:"/troubleShooting/selectTroubleShootingList",method:"get",params:t})}function c(t){return Object(a["a"])({url:"/troubleShooting/selectTeachingVideoList",method:"get",params:t})}},e8fb:function(t,e,n){},f3e2:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main-conent main-conent-minheight"},[n("el-form",{attrs:{"label-width":"90px"}},[n("el-row",{staticStyle:{"margin-bottom":"0"},attrs:{gutter:40}},[n("el-col",{attrs:{span:10}},[n("el-form-item",{attrs:{label:"问题标题："}},[n("el-input",{model:{value:t.problem,callback:function(e){t.problem=e},expression:"problem"}})],1)],1),n("el-col",{attrs:{span:3}},[n("el-form-item",{attrs:{"label-width":"0"}},[n("el-select",{model:{value:t.nodetype,callback:function(e){t.nodetype=e},expression:"nodetype"}},[n("el-option",{attrs:{value:"8",label:"已回答"}}),n("el-option",{attrs:{value:"6",label:"未回答"}})],1)],1)],1),n("el-col",{attrs:{span:2}},[n("el-button",{attrs:{type:"primary"},on:{click:t.inquiry}},[t._v("查询")])],1),n("el-col",{attrs:{span:2}},[n("el-button",{attrs:{type:"primary"},on:{click:t.quiz}},[t._v("我要提问")])],1)],1)],1),n("el-dialog",{attrs:{title:"我要提问",visible:t.isShow,width:"50%"},on:{"update:visible":function(e){t.isShow=e},close:t.cancel}},[n("el-form",{attrs:{"label-width":"100px",model:t.form}},[n("el-form-item",{attrs:{label:"问题标题："}},[n("el-input",{staticStyle:{width:"80%"},model:{value:t.form.namecode,callback:function(e){t.$set(t.form,"namecode",e)},expression:"form.namecode"}})],1),t.isShow?n("el-form-item",{attrs:{label:"问题内容："}},[n("tin-ymce",{on:{change:t.changeData}})],1):t._e()],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:t.preservation}},[t._v("保 存")]),n("el-button",{attrs:{type:"primary"},on:{click:t.cancel}},[t._v("取 消")])],1)],1),n("el-collapse",{model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},t._l(t.problemData,(function(e,a){return n("el-collapse-item",{key:e.id},[n("template",{slot:"title"},[n("div",{staticClass:"titel"},[n("h3",[t._v(t._s(a+1)+"、"+t._s(e.namecode)+"？")]),n("p",[t._v("提问人："+t._s(e.quizzerName)+"   提问时间："+t._s(e.optdate)+"   解答时间："+t._s(e.answertime)+" ")])])]),n("div",{staticClass:"box",domProps:{innerHTML:t._s(e.vdata)}})],2)})),1),n("div",{staticClass:"margin-t16 text-right"},[n("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"current-page":t.page,"page-size":t.size},on:{"current-change":t.changePage}})],1)],1)},i=[],o=n("5530"),c=n("2f62"),r=n("da0a"),l=n("373f"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[n("editor",{key:t.tinymceFlag,attrs:{id:"tinymce",init:t.tinymceInit},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1)},u=[],d=n("098f"),m=d["a"],p=n("2877"),f=Object(p["a"])(m,s,u,!1,null,null,null),h=f.exports,g={components:{tinYmce:h},data:function(){return{problem:"",isShow:!1,form:{namecode:"",conscript:"",nodetype:"6",rela:""},nodetype:"8",activeNames:[1],problemData:[],total:0,size:20,page:1}},computed:Object(o["a"])({},Object(c["c"])({userId:"user/userId"})),mounted:function(){this.getData()},methods:Object(o["a"])(Object(o["a"])({},Object(c["b"])({})),{},{quiz:function(){this.isShow=!0},changeData:function(t){this.form.conscript=t},inquiry:function(){var t=this;Object(r["b"])({namecode:this.problem,nodetype:this.nodetype}).then((function(e){t.problemData=e.data.list,t.total=e.data.total,t.size=e.data.pageSize,t.page=e.data.pageNum}))},getData:function(){var t=this;Object(r["b"])({nodetype:this.nodetype}).then((function(e){t.problemData=e.data.list,t.total=e.data.total,t.size=e.data.pageSize,t.page=e.data.pageNum}))},changePage:function(t){var e=this;Object(r["b"])({namecode:this.problem,nodetype:this.nodetype,page:t}).then((function(t){e.problemData=t.data.list,e.total=t.data.total,e.size=t.data.pageSize,e.page=t.data.pageNum}))},preservation:function(){var t=this;this.form.rela=this.userId,Object(r["a"])(this.form).then((function(e){200===e.code?(Object(l["a"])(e.message),t.cancel(),t.getData()):Object(l["b"])(e.message)}))},cancel:function(){this.isShow=!1,this.form={namecode:"",conscript:"",nodetype:"6",rela:""}}})},b=g,v=(n("39e7"),Object(p["a"])(b,a,i,!1,null,"5ec9c380",null));e["default"]=v.exports}}]);