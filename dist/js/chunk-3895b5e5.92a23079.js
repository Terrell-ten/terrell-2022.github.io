(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3895b5e5"],{"0b42a":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"d",(function(){return r})),a.d(t,"e",(function(){return o})),a.d(t,"f",(function(){return l})),a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return c}));var i=a("83c3");function n(e){return Object(i["a"])({url:"/admin/guestinfo/addressList",method:"GET",params:e})}function r(e){return Object(i["a"])({url:"/admin/service/user/getServiceUserList",method:"get",params:e})}function o(e){return Object(i["a"])({url:"/admin/service/user/insertServiceUser",method:"post",data:e})}function l(e){return Object(i["a"])({url:"/admin/service/user/updateServiceUserArea",method:"post",data:e})}function s(e){return Object(i["a"])({url:"/admin/service/user/getServiceUserAreaList",method:"get",params:e})}function c(e){return Object(i["a"])({url:"/admin/service/user/deleteServiceUserArea",method:"post",params:e})}},"2f88":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":e.pageSizesArr||e.pageSizesArrInit,"page-size":e.pageSize,layout:e.layout,total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},n=[],r=(a("a9e3"),a("ac1f"),a("1276"),{props:{pageSize:{type:Number,default:10},pageSizesArr:{type:Array,default:null},layout:{type:String,default:"total,sizes,prev, pager, next"},total:Number,currentPage:Number},data:function(){return{pageSizesArrInit:[24,100,200,500,1e3]}},mounted:function(){var e=location.href.split("/")[2];"192.168.1.145:8080"===e&&(this.pageSizesArrInit=[2,24,100,200,500,1e3])},methods:{handleSizeChange:function(e){this.$emit("handleSizeChange",e)},handleCurrentChange:function(e){this.$emit("handleCurrentChange",e)}}}),o=r,l=a("2877"),s=Object(l["a"])(o,i,n,!1,null,"79dfe774",null);t["a"]=s.exports},"3f39":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-select",{style:"width:"+e.liWidth,attrs:{placeholder:"省级",clearable:""},on:{change:e.changePr},model:{value:e.provinceName,callback:function(t){e.provinceName=t},expression:"provinceName"}},e._l(e.provinceList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.namecode,value:e.id}})})),1),a("el-select",{style:"width:"+e.liWidth,attrs:{placeholder:"市级",clearable:""},on:{change:e.changeCi},model:{value:e.cityName,callback:function(t){e.cityName=t},expression:"cityName"}},e._l(e.cityList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.namecode,value:e.id}})})),1),a("el-select",{style:"width:"+e.liWidth,attrs:{placeholder:"区级",clearable:""},on:{change:e.changeRe},model:{value:e.regionName,callback:function(t){e.regionName=t},expression:"regionName"}},e._l(e.regionList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.namecode,value:e.id}})})),1)],1)},n=[],r=(a("a9e3"),a("d81d"),a("7db0"),a("d3b7"),a("da87")),o={props:{liWidth:{type:String,default:"160px"},areaId:{type:String,default:""},state:{type:Number,default:100},cleanAegion:{type:Number,default:100}},data:function(){return{provinceList:[],cityList:[],regionList:[],streetList:[],provinceName:"",cityName:"",regionName:"",id:"",setValueNullNum2:0,regionSelectedName:"",citySelectedName:"",provinceSelectedName:"",provinceId:"",cityId:"",regionId:"",streetId:""}},computed:{},created:function(){this.getRegion(),this.getList()},methods:{getId:function(e){this.provinceName="",this.cityName="",this.regionName="",e.length>=2&&(this.provinceName=1*e.substr(0,2),this.changePr(this.provinceName)),e.length>=4&&(this.cityName=1*e.substr(0,4),this.changeCi(this.cityName)),e.length>=6&&(this.regionName=1*e.substr(0,6))},getList:function(){},setValueNull1:function(){this.provinceName="",this.cityName="",this.regionName="",this.cityList=[],this.regionList=[],this.streetList=[]},setValueNull3:function(){this.regionName=""},setValueNull4:function(){},getRegion:function(){var e=this,t={parentId:1};Object(r["h"])(t).then((function(t){var a=t.data.map((function(e){return Object.assign(e,{index:1})}));e.getId(e.areaId),e.provinceList=a,e.loading=!1}))},changePr:function(e){var t=this;if(e){var a={};a=this.provinceList.find((function(t){return t.id===e})),this.provinceSelectedName=a;var i={parentId:e};this.id=e,this.cityName="",this.regionName="",Object(r["h"])(i).then((function(i){t.cityList=i.data;var n={};if(n=i.data[0].namecode,t.citySelectedName=n,t.provinceId=e,100===t.$props.state){t.cityName=i.data[0].id;var o=i.data[0].id,l={parentId:i.data[0].id};Object(r["h"])(l).then((function(i){t.regionName=i.data[0].id,t.regionList=i.data;var l={},s=i.data[0].id;l=i.data[0].namecode,t.regionSelectedName=l;var c={parentId:i.data[0].id};Object(r["h"])(c).then((function(i){var r={id:i.data[0].id,selectedName:a.namecode+n+l,provinceId:e,cityId:o,countyId:s,streetId:i.data[0].id};t.$emit("valueRegion",r),t.streetList=i.data}))}))}else{var s={id:e,selectedName:a.namecode,provinceId:e};t.$emit("valueRegion",s)}}))}else{this.cityName="",this.regionName="",this.provinceId="",this.cityId="",this.regionId="",this.streetId="";var n={provinceId:"",cityId:"",countyId:"",streetId:""};this.$emit("valueRegion",n)}},changeCi:function(e){var t=this;if(e){var a=this.provinceSelectedName,i={};i=this.cityList.find((function(t){return t.id===e})),this.citySelectedName=i;var n={parentId:e};this.id=e,Object(r["h"])(n).then((function(n){t.regionList=n.data,t.cityId=e;var o={};if(o=n.data[0].namecode,t.regionSelectedName=o,100===t.$props.state){t.regionName=n.data[0].id;var l=n.data[0].id,s={parentId:n.data[0].id};Object(r["h"])(s).then((function(n){t.streetList=n.data;var r={};r=n.data[0].namecode,t.streetSelectedName=r;var s={id:n.data[0].id,selectedName:a.namecode+i.namecode+o,provinceId:t.provinceId,cityId:e,countyId:l};t.$emit("valueRegion",s)}))}else{var c={id:e,selectedName:a.namecode+i.namecode,provinceId:t.provinceId,cityId:e};t.$emit("valueRegion",c)}}))}else{this.cityName="",this.regionName="",this.cityId="",this.regionId="";var o={provinceId:this.provinceId,cityId:"",countyId:""};this.$emit("valueRegion",o)}},changeRe:function(e){var t=this;if(e){var a=this.provinceSelectedName,i=this.citySelectedName,n="string"===typeof i?this.citySelectedName:this.citySelectedName.namecode,o={};this.regionId=e,o=this.regionList.find((function(t){return t.id===e})),this.regionSelectedName=o;var l={parentId:e};this.id=e,Object(r["h"])(l).then((function(i){t.streetList=i.data;var r={};if(r=i.data[0].namecode,t.streetSelectedName=r,100===t.$props.state){var l={id:i.data[0].id,selectedName:a.namecode+n+o.namecode,provinceId:t.provinceId,cityId:t.cityId,countyId:e};t.$emit("valueRegion",l)}else{var s={id:e,selectedName:a.namecode+n+o.namecode,provinceId:t.provinceId,cityId:t.cityId,countyId:e};t.$emit("valueRegion",s)}}))}else{this.regionName="",this.regionId="",this.streetId="";var s={provinceId:this.provinceId,cityId:this.cityId,countyId:""};this.$emit("valueRegion",s)}},changeSt:function(e){if(e){var t=this.provinceSelectedName,a=void 0===this.citySelectedName.namecode?this.citySelectedName:this.citySelectedName.namecode,i=void 0===this.regionSelectedName?this.regionSelectedName:this.regionSelectedName.namecode,n={id:e,selectedName:t.namecode+a+i,provinceId:this.provinceId,cityId:this.cityId,countyId:this.regionId};this.id=e,this.$emit("valueRegion",n)}else{var r={provinceId:this.provinceId,cityId:this.cityId,countyId:this.regionId};this.$emit("valueRegion",r)}},setValueNull2:function(e){this.setValueNullNum2=e}},mounted:function(){}},l=o,s=a("2877"),c=Object(s["a"])(l,i,n,!1,null,"414bbfbd",null);t["a"]=c.exports},"5c1a":function(e,t,a){},"7db0":function(e,t,a){"use strict";var i=a("23e7"),n=a("b727").find,r=a("44d2"),o="find",l=!0;o in[]&&Array(1)[o]((function(){l=!1})),i({target:"Array",proto:!0,forced:l},{find:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),r(o)},9004:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main-conent main-conent-minheight flex-main-conent",attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading"}},[a("div",{staticClass:"flex-box"},[a("div",{staticClass:"flex-top"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formQuery}},[a("el-form-item",{staticStyle:{"margin-right":"30px"},attrs:{label:"日期从："}},[a("div",{staticClass:"block"},[a("el-date-picker",{staticStyle:{width:"140px"},attrs:{type:"date",align:"right",placeholder:"开始日期","value-format":"yyyy-MM-dd","picker-options":{disabledDate:e.starDataMax}},model:{value:e.formQuery.startDate,callback:function(t){e.$set(e.formQuery,"startDate",t)},expression:"formQuery.startDate"}}),e._v(" - "),a("el-date-picker",{staticStyle:{width:"140px"},attrs:{type:"date",align:"right",placeholder:"结束时间","value-format":"yyyy-MM-dd","picker-options":{disabledDate:e.endDataMin}},model:{value:e.formQuery.endDate,callback:function(t){e.$set(e.formQuery,"endDate",t)},expression:"formQuery.endDate"}})],1)]),a("el-form-item",{staticStyle:{"margin-right":"30px"},attrs:{label:"状态："}},[a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"状态"},on:{change:function(t){return e.onSubmit()}},model:{value:e.formQuery.status,callback:function(t){e.$set(e.formQuery,"status",t)},expression:"formQuery.status"}},e._l(e.options,(function(e){return a("el-option",{key:e.id,attrs:{label:e.namecode,value:e.id}})})),1)],1),a("el-form-item",{staticStyle:{"margin-right":"30px"},attrs:{label:"原订单号"}},[a("el-input",{attrs:{clearable:""},model:{value:e.formQuery.orderNo,callback:function(t){e.$set(e.formQuery,"orderNo",t)},expression:"formQuery.orderNo"}})],1),e.userRoles_type?a("el-form-item",{staticStyle:{"margin-right":"30px"},attrs:{label:"收货区域筛选："}},[a("AppRegion",{ref:"child",attrs:{state:101,liWidth:"120px"},on:{valueRegion:e.chengRegion2}})],1):e.userRoles_type2?a("el-form-item",{staticStyle:{"margin-right":"30px"},attrs:{label:"负责收货区:"}},[a("el-select",{attrs:{clearable:""},on:{change:e.chengRegion3},model:{value:e.AreaId,callback:function(t){e.AreaId=t},expression:"AreaId"}},e._l(e.userAreaList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.namecode,value:e.areaid}})})),1)],1):e._e(),a("el-form-item",{staticClass:"overall",staticStyle:{"margin-right":"30px"}},[a("el-button",{attrs:{type:"primary",disabled:e.loadingQuery},on:{click:e.onSubmit}},[e._v("查询")])],1)],1)],1),a("div",{staticClass:"flex-cont"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTab,expression:"loadingTab"}],ref:"TableData",staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",height:"100%",stripe:"","tooltip-effect":"dark","highlight-current-row":""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{property:"id",label:"标识",width:"50",align:"center"}}),a("el-table-column",{attrs:{prop:"orderNo",label:"原订单号",width:"130",align:"center","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"optdate",label:"订单日期时间",width:"130",align:"center","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"namecode",label:"商品信息",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{key:t.row.id,attrs:{placement:"right",width:"600",trigger:"click"}},[a("el-table",{attrs:{data:t.row.productList,"max-height":"500px"}},[a("el-table-column",{attrs:{property:"namecode",label:"商品名称","min-width":"250"}}),a("el-table-column",{attrs:{width:"100",property:"specif",label:"规格"}}),a("el-table-column",{attrs:{width:"100",property:"salesNum",label:"销售数量"}}),a("el-table-column",{attrs:{width:"90",property:"salesUnit",label:"销售单位"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.salesUnit||""))]}}],null,!0)})],1),a("el-button",{key:t.row.id,attrs:{slot:"reference"},slot:"reference"},[e._v("查看信息")])],1)]}}])}),a("el-table-column",{attrs:{prop:"totel",label:"总金额(元)",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("num_tofixed")(t.row.totel)))])]}}])}),a("el-table-column",{attrs:{prop:"addressinfo.consignee",label:"收货人",align:"center",width:"100"}}),a("el-table-column",{attrs:{prop:"addressinfo.consigneeMobile",label:"收货人手机",width:"160",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.addressinfo.consigneeMobile?t.row.addressinfo.consigneeMobile.replace(/^(\d{3})\d+(\d{4})$/,"$1****$2"):""))])]}}])}),a("el-table-column",{attrs:{prop:"addressinfo.address",label:"收货地址",align:"center","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"status",label:"状态",align:"center"}}),a("el-table-column",{attrs:{prop:"lastdate",label:"最迟交货期",align:"center","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.lastdate?a("span",[e._v(" "+e._s(t.row.lastdate)+" "),[102501].indexOf(e.paramData.status)>=0?a("el-link",{staticClass:"el-icon-edit",attrs:{type:"primary"},on:{click:function(a){return e.clickNotation(t.row.id,t.row.lastdate)}}}):e._e()],1):[102501].indexOf(e.paramData.status)>=0?a("span",[a("el-link",{staticStyle:{cursor:"pointer",color:"dodgerblue"},on:{click:function(a){return e.clickNotation(t.row.id)}}},[e._v("设置")])],1):e._e()]}}])}),a("el-table-column",{attrs:{prop:"postil",label:"备注",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{attrs:{placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("div",[e._v(e._s(t.row.postil?t.row.postil:"(点击修改)"))])]),t.row.postil?a("span",[e._v(e._s(e._f("postil_substring")(t.row.postil))+" "),a("i",{staticClass:"el-icon-edit",staticStyle:{color:"dodgerblue","margin-left":"2px",cursor:"pointer"},on:{click:function(a){return e.clickPostil(t.row.id,t.row)}}})]):a("el-link",{staticStyle:{cursor:"pointer",color:"dodgerblue"},on:{click:function(a){return e.clickPostil(t.row.id,t.row)}}},[e._v("备注")])],1)]}}])})],1)],1),a("div",{staticClass:"flex-button"},[a("div",{staticClass:"margin-t16 text-right"},[a("AppPaging",{attrs:{total:e.allTate,pageSize:e.paramData.pageSize,currentPage:e.paramData.page,layout:"total,sizes,prev, pager, next"},on:{handleCurrentChange:e.clickCurrentChange,handleSizeChange:e.clickSizeChange}})],1)])]),a("el-dialog",{attrs:{title:e.stateName,visible:e.dialogVisibleDate,width:"30%"},on:{"update:visible":function(t){e.dialogVisibleDate=t}}},[1==e.statyNum?a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.latestDataTime,callback:function(t){e.latestDataTime=t},expression:"latestDataTime"}}):e._e(),2==e.statyNum?a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.stateInput,callback:function(t){e.stateInput=t},expression:"stateInput"}}):e._e(),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisibleDate=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.clickDates()}}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"订单明细",visible:e.outerVisible,width:"86%"},on:{"update:visible":function(t){e.outerVisible=t}}},[a("el-table",{attrs:{data:e.gridDataOder,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"index",width:"50",label:"序号"}}),a("el-table-column",{attrs:{property:"namecode",width:"200",label:"商品名称"}}),a("el-table-column",{attrs:{property:"optdate",label:"订单日期时间"}}),a("el-table-column",{attrs:{property:"outname",label:"原订单号"}}),a("el-table-column",{attrs:{property:"specif",label:"规格"}}),a("el-table-column",{attrs:{property:"unit1",label:"销售单位"}}),a("el-table-column",{attrs:{property:"scalnum",label:"销售数量"}}),a("el-table-column",{attrs:{property:"unit",label:"生产单位"}}),a("el-table-column",{attrs:{property:"num",label:"数量"}}),a("el-table-column",{attrs:{property:"price",label:"生产单价（元）"}}),a("el-table-column",{attrs:{property:"nodetype",label:"状态"}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.outerVisible=!1}}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{title:"材料采购记录",visible:e.DialogProcurement,width:"86%"},on:{"update:visible":function(t){e.DialogProcurement=t}}},[a("el-table",{attrs:{data:e.procurementList,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"index",width:"50",label:"序号",align:"center"}}),a("el-table-column",{attrs:{property:"namecode",label:"材料名称",align:"center"}}),a("el-table-column",{attrs:{property:"specif",label:"规格",align:"center"}}),a("el-table-column",{attrs:{property:"num",label:"数量",align:"center"}}),a("el-table-column",{attrs:{property:"price",label:"单价(元)",align:"center"}}),a("el-table-column",{attrs:{property:"unit",label:"单位",align:"center"}}),a("el-table-column",{attrs:{property:"unitbit",label:"单位配比",align:"center"}}),a("el-table-column",{attrs:{property:"nodetype",label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(102702==t.row.nodetype?"确认采购":102701==t.row.nodetype?"材料准备":102703==t.row.nodetype?"已入库":102704==t.row.nodetype?"已合并":102705==t.row.nodetype?"已作废":"暂无状态类型"))])]}}])}),a("el-table-column",{attrs:{property:"optdate",label:"计划时间",align:"center"}}),a("el-table-column",{attrs:{property:"lastdate",label:"完成时间",align:"center"}}),a("el-table-column",{attrs:{property:"lossRate",label:"预损耗率",align:"center"}}),a("el-table-column",{attrs:{property:"vdata",label:"其他属性",align:"center"}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.DialogProcurement=!1}}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{title:"生产记录单",visible:e.DialogProduction,width:"86%"},on:{"update:visible":function(t){e.DialogProduction=t}}},[a("el-table",{attrs:{data:e.productionList,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"index",width:"50",label:"序号",align:"center"}}),a("el-table-column",{attrs:{property:"namecode",label:"商品名称",align:"center"}}),a("el-table-column",{attrs:{property:"specif",label:"规格",align:"center"}}),a("el-table-column",{attrs:{property:"num",label:"数量",align:"center"}}),a("el-table-column",{attrs:{property:"price",label:"生产单价(元)",align:"center"}}),a("el-table-column",{attrs:{property:"unit",label:"单位",align:"center"}}),a("el-table-column",{attrs:{property:"unitbit",label:"单位配比",align:"center"}}),a("el-table-column",{attrs:{property:"nodetype",label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(100601==t.row.nodetype?"提交初审":100602==t.row.nodetype?"提交二审":100603==t.row.nodetype?"材料准备":100604==t.row.nodetype?"开始投产":100605==t.row.nodetype?"批次入库":100606==t.row.nodetype?"完成入库":100607==t.row.nodetype?"已作废":100608==t.row.nodetype?"完成支付":"暂无状态类型"))])]}}])}),a("el-table-column",{attrs:{property:"optdate",label:"计划时间",align:"center"}}),a("el-table-column",{attrs:{property:"lastdate",label:"完成时间",align:"center"}}),a("el-table-column",{attrs:{property:"lossRate",label:"预损耗率 ",align:"center"}}),a("el-table-column",{attrs:{property:"vdata",label:"其他属性",align:"center"}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.DialogProduction=!1}}},[e._v("取 消")])],1)],1),a("el-dialog",{staticStyle:{"margin-top":"15vh"},attrs:{title:"导出提示",visible:e.dialogExport,width:"30%"},on:{"update:visible":function(t){e.dialogExport=t}}},[a("span",[e._v(e._s(e.ExportHints))]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.dialogExportClick}},[e._v("确 定")])],1)])],1)},n=[],r=a("5530"),o=(a("d3b7"),a("159b"),a("b64b"),a("d81d"),a("eab5")),l=a("2f62"),s=a("2f88"),c=a("3f39"),d=a("0b42a"),u={components:{AppRegion:c["a"],AppPaging:s["a"]},data:function(){return{scrollTop:0,scrollLeft:0,AreaId:"",userAreaList:[],chengRegionObje:{},chengRegionObje2:{},noderegion:!1,loadingWeb:!1,batchList:[],outerVisible:!1,innerVisible:!1,loadingTab:!1,loadingQuery:!1,formQuery:{customerId:"",productName:"",status:102501,timeData:"",phone:""},options:[{namecode:"未审核",id:102501},{namecode:"已审核",id:102502},{namecode:"已完成",id:102508}],optionsName:[],gridData:[],notationId:"",latestDataTime:"",statyNum:1,gridDataOder:[],stateInput:"",staterow:{},stateName:"",dialogVisibleDate:!1,dialogVisibleDateId:"",tableData:[],allTate:24,currentPage:1,paramData:{page:1,pageSize:24},multipleSelection:[],DialogProcurement:!1,procurementList:[],DialogProduction:!1,productionList:[],ProductionPlanList:[],dialogExport:!1,ExportHints:""}},computed:Object(r["a"])({},Object(l["c"])({roles:"roles",userId:"user/userId",name:"user/name"})),created:function(){var e=this.roles[0].buttonPermissions;if(this.userRoles_type=!1,this.userRoles_type2=!1,e.indexOf(10035)>=0&&(this.userRoles_type=!0),e.indexOf(10042)>=0&&(this.userRoles_type2=!0),this.userRoles_type){var t={page:1,pageSize:this.paramData.pageSize,status:102501};this.getCustomerList(t)}else this.getTables_isuser();this.getCustomer()},methods:{starDataMax:function(e){if(this.formQuery.endDate)return e.getTime()>=Date.parse(this.formQuery.endDate)},endDataMin:function(e){if(this.formQuery.startDate)return e.getTime()<=Date.parse(this.formQuery.startDate)-864e5},chengRegion2:function(e){var t=e;this.chengRegionObje2=t},chengRegion3:function(e){this.chengRegionObje2.provinceId="",this.chengRegionObje2.cityId="",this.chengRegionObje2.countyId="",this.formQuery.areaId=e||"",this.onSubmit()},getTables_isuser:function(){var e=this,t={userId:this.userId,page:1,pageSize:100};this.formQuery.userId=this.userId,Object(d["c"])(t).then((function(t){200===t.code&&(e.userAreaList=t.data.list,e.onSubmit())}))},getCustomer:function(){var e=this;Object(o["g"])().then((function(t){200===t.code&&(e.optionsName=t.data)}))},getState:function(){},getCustomerList:function(e){var t=this;Object.keys(e).forEach((function(t){var a=e[t];""===a&&delete e[t]})),this.paramData=e,this.loadingQuery=!0,this.loadingTab=!0,Object(o["h"])(e).then((function(e){if(t.loadingQuery=!1,t.loadingWeb=!1,200===e.code){var a=e.data.list.map((function(e){return e.vdata=e.vdata||{},e.postil="",e.vdata&&(e.postil=e.vdata.postil||""),e}));t.loadingTab=!1,t.allTate=e.data.total,t.tableData=a,t.currentPage=e.data.pageNum}}))},onSubmit:function(){var e=this.formQuery,t=Object(r["a"])({page:1,pageSize:this.paramData.pageSize},e),a=this.chengRegionObje2;t.provinceId=a.provinceId||"",t.cityId=a.cityId||"",t.countyId=a.countyId||"",delete t.timeData,t.customerId||delete t.customerId,t.productName||delete t.productName,t.status||delete t.status,this.paramData=t,this.getCustomerList(t)},p:function(e){return e<10?"0"+e:e},clickSizeChange:function(e){this.paramData.pageSize=e,this.clickCurrentChange(1)},clickCurrentChange:function(e){this.paramData.page=e,this.getCustomerList(this.paramData)},handleSelectionChange:function(e){this.batchList=e,this.multipleSelection=e},clickBatch:function(){this.$message({message:"正在开发中",type:"warning"})},clickExport:function(){var e=this,t=this.formQuery;t.timeData?t.timeData.length&&(t.startDate=t.timeData[0],t.endDate=t.timeData[1]):(delete t.startDate,delete t.endDate);var a=Object(r["a"])({},t);delete a.timeData,Object(o["l"])(a).then((function(t){e.ExportHints=t.data})),t.timeData?this.dialogExport=!0:this.$message({type:"warning",message:"请选择导出的时间跨度 ^_^"})},dialogExportClick:function(){this.dialogExport=!1,this.$message({type:"success",message:"操作成功"})},clickDetail:function(e){this.outerVisible=!0;var t={rela:e};this.getCustomerOrder(t)},clickPurchasingRecords:function(e){this.DialogProcurement=!0;var t={orderId:e};this.getAssociatedPurchaseOrder(t)},getAssociatedPurchaseOrder:function(e){var t=this;Object(o["f"])(e).then((function(e){200!==e.code&&t.$message({type:"warning",message:e.message}),t.procurementList=e.data.list}))},clickProduction:function(e){this.DialogProduction=!0;var t={orderId:e};this.getAssociatedProductionOrder(t)},getAssociatedProductionOrder:function(e){var t=this;Object(o["e"])(e).then((function(e){200!==e.code&&t.$message({type:"warning",message:e.message}),t.productionList=e.data.list}))},clickPostil:function(e,t){this.dialogVisibleDate=!0,this.dialogVisibleDateId=e,this.statyNum=2;var a=t.vdata||{postil:""};this.stateInput=a.postil||"",this.staterow=t},clickDates:function(){var e=this,t=this.statyNum;if(1!==t){var a={remarks:this.stateInput,postscript:this.staterow.vdata||{},id:this.dialogVisibleDateId};a.postscript.postil=this.stateInput,Object(o["H"])(a).then((function(t){200===t.code&&(e.getCustomerList(e.paramData),e.dialogVisibleDate=!1,e.$message({type:"success",message:"添加备注成功"}))}))}else{var i={lastDeliveryDate:this.latestDataTime,targetId:this.notationId};Object(o["G"])(i).then((function(t){if(200===t.code){e.dialogVisibleDate=!1;for(var a=e.tableData,i=0;i<a.length;i++)a[i].id===e.notationId&&(a[i].lastdate=e.latestDataTime);e.$message({type:"success",message:"成功设置最迟交货时间"})}}))}},clickNotation:function(e,t){this.latestDataTime=t||"",this.statyNum=1,this.dialogVisibleDate=!0,this.notationId=e},getCustomerOrder:function(e){var t=this;Object(o["i"])(e).then((function(e){if(200===e.code){var a=e.data;a.forEach((function(e){e.optdate=t.$moment(e.optdate).format("YYYY-MM-DD hh:mm:ss")})),t.gridDataOder=a}else t.$message({message:e.message,type:"warning"})}))},automatic:function(){var e=this;this.$confirm("此操作将自动排产, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$message({type:"success",message:"自动排产成功!"})})).catch((function(){e.$message({type:"info",message:"已取消自动排产"})}))},clickGenerate:function(e){var t=this,a=e.productId,i=parseInt(e.num),n={id:a,num:i};Object(o["u"])({productInfoList:[n]}).then((function(e){200===e.code?(t.$message({type:"success",message:e.message}),t.outerVisible=!1):t.$message({type:"warning",message:e.message})}))},clickGoods:function(){this.innerVisible=!0},add:function(){this.$router.push({path:"BOMadd"})}},mounted:function(){},activated:function(){var e=this;setTimeout((function(){e.$refs.TableData.bodyWrapper.scrollTop=e.scrollTop,e.$refs.TableData.bodyWrapper.scrollLeft=e.scrollLeft}),60)},beforeRouteLeave:function(e,t,a){this.scrollTop=this.$refs.TableData.bodyWrapper.scrollTop,this.scrollLeft=this.$refs.TableData.bodyWrapper.scrollLeft,a()}},p=u,m=(a("c15a"),a("2877")),h=Object(m["a"])(p,i,n,!1,null,"6342b4a8",null);t["default"]=h.exports},c15a:function(e,t,a){"use strict";a("5c1a")},eab5:function(e,t,a){"use strict";a.d(t,"h",(function(){return n})),a.d(t,"i",(function(){return r})),a.d(t,"f",(function(){return o})),a.d(t,"e",(function(){return l})),a.d(t,"m",(function(){return s})),a.d(t,"w",(function(){return c})),a.d(t,"j",(function(){return d})),a.d(t,"r",(function(){return u})),a.d(t,"q",(function(){return p})),a.d(t,"s",(function(){return m})),a.d(t,"o",(function(){return h})),a.d(t,"t",(function(){return g})),a.d(t,"v",(function(){return f})),a.d(t,"u",(function(){return b})),a.d(t,"l",(function(){return y})),a.d(t,"k",(function(){return v})),a.d(t,"g",(function(){return I})),a.d(t,"H",(function(){return O})),a.d(t,"E",(function(){return N})),a.d(t,"G",(function(){return S})),a.d(t,"F",(function(){return D})),a.d(t,"z",(function(){return w})),a.d(t,"C",(function(){return k})),a.d(t,"B",(function(){return _})),a.d(t,"n",(function(){return j})),a.d(t,"p",(function(){return x})),a.d(t,"b",(function(){return P})),a.d(t,"a",(function(){return L})),a.d(t,"c",(function(){return C})),a.d(t,"y",(function(){return T})),a.d(t,"x",(function(){return $})),a.d(t,"D",(function(){return R})),a.d(t,"I",(function(){return A})),a.d(t,"d",(function(){return z})),a.d(t,"A",(function(){return Q}));var i=a("83c3");function n(e){return Object(i["a"])({url:"/admin/customer/order/list/page",method:"post",data:e})}function r(e){return Object(i["a"])({url:"/admin/data/selectByCond/I_customer_order_list/find?pageNo=0",method:"post",data:e})}function o(e){return Object(i["a"])({url:"/admin/customer/order/getPurchasePlanListByOrderId",method:"GET",params:e})}function l(e){return Object(i["a"])({url:"/admin/customer/order/getProductionPlanListByOrderId",method:"GET",params:e})}function s(e){return Object(i["a"])({url:"/admin/customer/detail/schedule/list/page",method:"post",data:e})}function c(e){return Object(i["a"])({url:"/admin/factory/getWarehouseListToOutbound",method:"get",params:e})}function d(e){return Object(i["a"])({url:"/admin/customer/detail/schedule/getCustomerOrderDetailStatusList",method:"get",data:e})}function u(e){return Object(i["a"])({url:"/admin/customer/detail/schedule/getProductStockByOrderDetailId",method:"get",params:e})}function p(e){return Object(i["a"])({url:"/admin/customer/detail/schedule/getPurchasePlanListByAssociateId",method:"get",params:e})}function m(e){return Object(i["a"])({url:"/admin/customer/detail/schedule/getProductionPlanListByAssociateId",method:"get",params:e})}function h(e){return Object(i["a"])({url:"/admin/customer/detail/schedule/getGoodsOutboundListByAssociateId",method:"get",params:e})}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(i["a"])({url:"/admin/data/execProcedure/co_list_batch?pageNo="+t,method:"post",data:e})}function f(e){return Object(i["a"])({url:"/productionPlan/merge",method:"POST",data:e})}function b(e){return Object(i["a"])({url:"/productionPlan/insert",method:"POST",data:e})}function y(e){return Object(i["a"])({url:"/admin/excel/operationCustomerOrders",method:"GET",params:e})}function v(e){return Object(i["a"])({url:"/admin/excel/operationCustomerOrderDetailSchedule",method:"GET",params:e})}function I(e){return Object(i["a"])({url:"/admin/customer/order/getCustomer",method:"get",data:e})}function O(e){return Object(i["a"])({url:"/admin/customer/order/updateRemarks",method:"post",data:e})}function N(e){return Object(i["a"])({url:"/admin/customer/detail/schedule/updateRemarks",method:"post",data:e})}function S(e){return Object(i["a"])({url:"/admin/customer/detail/schedule/updateOrderLastDeliveryDate",method:"post",data:e})}function D(e){return Object(i["a"])({url:"/admin/customer/detail/schedule/updateOrderDetailLastDeliveryDate",method:"post",data:e})}function w(e){return Object(i["a"])({url:"/admin/data/execProcedure/co_list_batchout?pageNo=0",method:"POST",data:e})}function k(e){return Object(i["a"])({url:"/admin/customer/detail/schedule/pendingOrderOutOfWarehouse",method:"POST",data:e})}function _(e){return Object(i["a"])({url:"/admin/data/execProcedure/co_list_batch?pageNo=0",method:"POST",data:e})}function j(e){return Object(i["a"])({url:"/admin/factory/getFactoryAndWarehouseList",method:"GET",params:e})}function x(e){return Object(i["a"])({url:"/admin/customer/detail/schedule/getOrderDetailsList",method:"POST",data:e})}function P(e){return Object(i["a"])({url:"/admin/customer/detail/schedule/dispatchStatistics",method:"POST",data:e})}function L(e){return Object(i["a"])({url:"/admin/customer/detail/schedule/assignedFactory",method:"POST",data:e})}function C(e){return Object(i["a"])({url:"/admin/data/execProcedure/find_prodout?pageNo=0",method:"POST",data:e})}function T(e){return Object(i["a"])({url:"/admin/customer/detail/schedule/orderBendingGoodsById",method:"POST",params:e})}function $(e){return Object(i["a"])({url:"/admin/customer/detail/schedule/orderBendingGoods",method:"POST",data:e})}function R(e){return Object(i["a"])({url:"/product/productBengingFactory",method:"POST",data:e})}function A(e){return Object(i["a"])({url:"/admin/data/execProcedure/waitprod_callin?pageNo=0",method:"POST",data:e})}function z(e){return Object(i["a"])({url:"/admin/factory/getAllFactoryInfo",method:"GET",params:e})}function Q(e){return Object(i["a"])({url:"/admin/data/execProcedure/客户订单发货前批量锁单?pageNo=0",method:"POST",data:e})}}}]);