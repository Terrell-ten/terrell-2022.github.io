(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-34f1cb8c"],{"062d":function(t,e,a){"use strict";a.d(e,"z",(function(){return o})),a.d(e,"b",(function(){return s})),a.d(e,"I",(function(){return l})),a.d(e,"F",(function(){return u})),a.d(e,"n",(function(){return c})),a.d(e,"m",(function(){return d})),a.d(e,"o",(function(){return m})),a.d(e,"u",(function(){return p})),a.d(e,"C",(function(){return f})),a.d(e,"x",(function(){return h})),a.d(e,"y",(function(){return g})),a.d(e,"E",(function(){return b})),a.d(e,"k",(function(){return y})),a.d(e,"g",(function(){return v})),a.d(e,"l",(function(){return P})),a.d(e,"j",(function(){return _})),a.d(e,"G",(function(){return O})),a.d(e,"w",(function(){return D})),a.d(e,"K",(function(){return w})),a.d(e,"s",(function(){return j})),a.d(e,"L",(function(){return I})),a.d(e,"J",(function(){return S})),a.d(e,"H",(function(){return x})),a.d(e,"B",(function(){return k})),a.d(e,"d",(function(){return T})),a.d(e,"f",(function(){return C})),a.d(e,"A",(function(){return L})),a.d(e,"e",(function(){return U})),a.d(e,"p",(function(){return E})),a.d(e,"D",(function(){return N})),a.d(e,"r",(function(){return $})),a.d(e,"q",(function(){return A})),a.d(e,"t",(function(){return G})),a.d(e,"v",(function(){return z})),a.d(e,"h",(function(){return F})),a.d(e,"i",(function(){return R})),a.d(e,"c",(function(){return M})),a.d(e,"a",(function(){return V}));var n=a("83c3"),r=a("4328"),i=a.n(r);function o(t){return Object(n["a"])({url:"/product/selectProductList",method:"get",params:t})}function s(t){return Object(n["a"])({url:"/admin/data/selectByCond/I_packmaterial?pageNo=0",method:"post",data:t})}function l(t){return Object(n["a"])({url:"/product/selectProductInventory",method:"get",params:t})}function u(t){return Object(n["a"])({url:"/product/getReturnConfiguration",method:"get",params:t})}function c(){return Object(n["a"])({url:"/admin/factory/getFactoryList",method:"get"})}function d(t){return Object(n["a"])({url:"/admin/factory/getFactoryIdAndName",method:"get",params:t})}function m(t){return Object(n["a"])({url:"/admin/factory/getFactoryByPrincipal",method:"get",params:t})}function p(t){return Object(n["a"])({url:"/admin/purchase/temp/getProductMaterial",method:"get",params:t})}function f(t){return Object(n["a"])({url:"/admin/purchase/temp/materialsOutbound",method:"post",data:t})}function h(t){return Object(n["a"])({url:"/product/saveProduct",method:"post",data:t})}function g(t){return Object(n["a"])({url:"/product/updateProduct",method:"post",data:t})}function b(t){return Object(n["a"])({url:"/product/saveReturnConfiguration",method:"POST",data:t})}function y(t){return Object(n["a"])({url:"/product/deleteProductUnit",method:"post",data:i.a.stringify(t)})}function v(t){return Object(n["a"])({url:"/admin/shopper/warehouse/getWarehouseIdAndname",method:"get",params:t})}function P(t){return Object(n["a"])({url:"/product/deleteProductWdata",method:"post",data:i.a.stringify(t)})}function _(t){return Object(n["a"])({url:"/product/copyProductToNewFactory",method:"post",data:t})}function O(t){return Object(n["a"])({url:"/product/selectProductInfo",method:"get",params:t})}function D(t){return Object(n["a"])({url:"/admin/data/execProcedure/getgood_inventory?pageNo=0",method:"post",data:t})}function w(t){return Object(n["a"])({url:"/admin/data/execProcedure/st_stock_procdct?pageNo=0",method:"post",data:t})}function j(t){return Object(n["a"])({url:"/product/isUpdate",method:"get",params:t})}function I(t){return Object(n["a"])({url:"/product/updeteProductInventory",method:"post",data:t})}function S(t){return Object(n["a"])({url:"/product/updateMaterialInventory",method:"post",data:t})}function x(t){return Object(n["a"])({url:"/admin/data/execProcedure/st_stock_packmaterial?pageNo=0",method:"post",data:t})}function k(t){return Object(n["a"])({url:"/product/isUpdateMaterialInventory",method:"get",params:t})}function T(t){return Object(n["a"])({url:"/admin/data/selectByCond/I_product_wdata?pageNo=0",method:"post",data:t})}function C(t,e){return Object(n["a"])({url:"/admin/data/updateById/I_product_wdata?dataId="+e,method:"post",data:t})}function L(t){return Object(n["a"])({url:"/product/isUpdateMaterialInventory",method:"GET",params:t})}function U(t){return Object(n["a"])({url:"/admin/data/insert/I_product_wdata",method:"post",data:t})}function E(t){return Object(n["a"])({url:"/productionPlan/getFactoryPurchasePlanDetailList",method:"get",params:t})}function N(t){return Object(n["a"])({url:"/admin/factory/purchase/plan/purchaseStatistics",method:"get",params:t})}function $(t){return Object(n["a"])({url:"/goodsWarehouse/getInventoryList",method:"get",params:t})}function A(t){return Object(n["a"])({url:"/goodsWarehouse/getInWarehouse",method:"get",params:t})}function G(t){return Object(n["a"])({url:"/goodsOutbound/getOntWarehouse",method:"get",params:t})}function z(t){return Object(n["a"])({url:"/admin/hxhouse/gethxhouseList",method:"get",params:t})}function F(t){return Object(n["a"])({url:"/goodsWarehouse/amendmentCurrentInventory",method:"post",data:t})}function R(t){return Object(n["a"])({url:"/admin/hxhouse/amendmentHxCurrentInventory",method:"post",data:t})}function M(t){var e={getColumns:[{nameCode:"id"},{nameCode:"data",vdata:{DISPNAME:"sku"}},{nameCode:"namecode"},{nameCode:"specification",vdata:{DISPNAME:"specif"}},{nameCode:"unit"}],Condition:[{nameCode:"nodetype",data:t.nodetype},{nameCode:"namecode",nodetype:"LIKE",data:"%"+t.namecode+"%"}]};return Object(n["a"])({url:"/admin/data/selectByCond/I_product?pageNo=0",method:"post",data:e})}function V(t){return Object(n["a"])({url:"/admin/data/execProcedure/Confirm_favtory_purchase?pageNo=0",method:"post",data:t})}},"2f88":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"","current-page":t.currentPage,"page-sizes":t.pageSizesArr||t.pageSizesArrInit,"page-size":t.pageSize,layout:t.layout,total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},r=[],i=(a("a9e3"),a("ac1f"),a("1276"),{props:{pageSize:{type:Number,default:10},pageSizesArr:{type:Array,default:null},layout:{type:String,default:"total,sizes,prev, pager, next"},total:Number,currentPage:Number},data:function(){return{pageSizesArrInit:[24,100,200,500,1e3]}},mounted:function(){var t=location.href.split("/")[2];"192.168.1.145:8080"===t&&(this.pageSizesArrInit=[2,24,100,200,500,1e3])},methods:{handleSizeChange:function(t){this.$emit("handleSizeChange",t)},handleCurrentChange:function(t){this.$emit("handleCurrentChange",t)}}}),o=i,s=a("2877"),l=Object(s["a"])(o,n,r,!1,null,"79dfe774",null);e["a"]=l.exports},4795:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"a",(function(){return r}));a("a434");function n(t){var e=new Date(t),a=e.getMonth()+1,n=e.getDate();a>=1&&a<=9&&(a="0"+a),n>=0&&n<=9&&(n="0"+n);var r=e.getFullYear()+"-"+a+"-"+n+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds();return r}function r(t,e){for(var a=t.length,n=0;n<a;n++)if(t[n].id===e)return 0===n?(t.shift(),t):n===a-1?(t.pop(),t):(t.splice(n,1),t)}},"7c58":function(t,e,a){"use strict";a.d(e,"C",(function(){return r})),a.d(e,"y",(function(){return i})),a.d(e,"R",(function(){return o})),a.d(e,"g",(function(){return s})),a.d(e,"gb",(function(){return l})),a.d(e,"D",(function(){return u})),a.d(e,"G",(function(){return c})),a.d(e,"F",(function(){return d})),a.d(e,"s",(function(){return m})),a.d(e,"N",(function(){return p})),a.d(e,"S",(function(){return f})),a.d(e,"m",(function(){return h})),a.d(e,"Z",(function(){return g})),a.d(e,"B",(function(){return b})),a.d(e,"H",(function(){return y})),a.d(e,"A",(function(){return v})),a.d(e,"L",(function(){return P})),a.d(e,"o",(function(){return _})),a.d(e,"u",(function(){return O})),a.d(e,"f",(function(){return D})),a.d(e,"n",(function(){return w})),a.d(e,"h",(function(){return j})),a.d(e,"bb",(function(){return I})),a.d(e,"z",(function(){return S})),a.d(e,"E",(function(){return x})),a.d(e,"k",(function(){return k})),a.d(e,"T",(function(){return T})),a.d(e,"I",(function(){return C})),a.d(e,"J",(function(){return L})),a.d(e,"j",(function(){return U})),a.d(e,"w",(function(){return E})),a.d(e,"v",(function(){return N})),a.d(e,"P",(function(){return $})),a.d(e,"x",(function(){return A})),a.d(e,"M",(function(){return G})),a.d(e,"l",(function(){return z})),a.d(e,"K",(function(){return F})),a.d(e,"X",(function(){return R})),a.d(e,"e",(function(){return M})),a.d(e,"cb",(function(){return V})),a.d(e,"O",(function(){return B})),a.d(e,"db",(function(){return Q})),a.d(e,"ib",(function(){return q})),a.d(e,"r",(function(){return W})),a.d(e,"Q",(function(){return H})),a.d(e,"U",(function(){return J})),a.d(e,"Y",(function(){return K})),a.d(e,"W",(function(){return Y})),a.d(e,"V",(function(){return Z})),a.d(e,"eb",(function(){return X})),a.d(e,"hb",(function(){return tt})),a.d(e,"b",(function(){return et})),a.d(e,"q",(function(){return at})),a.d(e,"fb",(function(){return nt})),a.d(e,"t",(function(){return rt})),a.d(e,"c",(function(){return it})),a.d(e,"d",(function(){return ot})),a.d(e,"i",(function(){return st})),a.d(e,"a",(function(){return lt})),a.d(e,"p",(function(){return ut})),a.d(e,"ab",(function(){return ct}));var n=a("83c3");function r(t){return Object(n["a"])({url:"/admin/purchase/plan/list/page",method:"post",data:t})}function i(t){return Object(n["a"])({url:"/admin/purchase/plan/detail/list/page",method:"post",data:t})}function o(t){return Object(n["a"])({url:"/admin/product/unit/getUnitsToPlan",method:"GET",params:t})}function s(t){return Object(n["a"])({url:"/admin/pack/material/conversionPrice",method:"post",data:t})}function l(t){return Object(n["a"])({url:"/admin/purchase/plan/updatePurchasePlanUnit",method:"POST",data:t})}function u(t){return Object(n["a"])({url:"/admin/purchase/plan/getPurchaseMaterialList",method:"post",data:t})}function c(t){return Object(n["a"])({url:"/admin/purchase/plan/merge",method:"post",data:t})}function d(t){return Object(n["a"])({url:"admin/purchase/plan/merge",method:"post",data:t})}function m(t){return Object(n["a"])({url:"/admin/excel/operationPurchasePlanDetail",method:"GET",params:t})}function p(t){return Object(n["a"])({url:"/admin/purchase/plan/status/list",method:"GET",data:t})}function f(t){return Object(n["a"])({url:"/admin/excel/operationPurchasePlanDetail",method:"GET",params:t})}function h(t){return Object(n["a"])({url:"/admin/factory/getFactoryList",method:"get",params:t})}function g(t){return Object(n["a"])({url:"/admin/purchase/plan/insert",method:"post",data:t})}function b(t){return Object(n["a"])({url:"/admin/purchase/plan/get",method:"GET",params:t})}function y(t){return Object(n["a"])({url:"/admin/purchase/plan/update",method:"POST",data:t})}function v(t){return Object(n["a"])({url:"/admin/purchase/plan/delete",method:"POST",data:t})}function P(t){return Object(n["a"])({url:"/admin/purchase/plan/purchaseGoodsWarehousing",method:"POST",data:t})}function _(t){return Object(n["a"])({url:"/admin/factory/purchase/plan/all/list",method:"POST",data:t})}function O(t){return Object(n["a"])({url:"/admin/factory/purchase/plan/status/list",method:"GET",params:t})}function D(t){return Object(n["a"])({url:"admin/data/execProcedure/cm_list_batchout?pageNo=0",method:"post",data:t})}function w(t){return Object(n["a"])({url:"/admin/factory/getFactoryList",method:"GET",params:t})}function j(t){return Object(n["a"])({url:"/admin/data/execProcedure/create_prodplan?pageNo=0",method:"POST",data:t})}function I(t){return Object(n["a"])({url:"/admin/customer/detail/schedule/selectCustomerOrderList",method:"GET",params:t})}function S(t){return Object(n["a"])({url:"/productionPlan/getProductPlanstockList",method:"GET",params:t})}function x(t){return Object(n["a"])({url:"/admin/factory/purchase/plan/get",method:"GET",params:t})}function k(t){return Object(n["a"])({url:"/admin/factory/purchase/plan/confirmPurchase",method:"POST",data:t})}function T(t){return Object(n["a"])({url:"/admin/excel/prePurchasePlan",method:"GET",params:t})}function C(t){return Object(n["a"])({url:"/admin/pre/purchase/plan/all/list",method:"POST",data:t})}function L(t){return Object(n["a"])({url:"/admin/pre/purchase/plan/get",method:"GET",params:t})}function U(t){return Object(n["a"])({url:"/admin/pre/purchase/plan/confirmPurchase",method:"POST",data:t})}function E(t){return Object(n["a"])({url:"/admin/purchase/plan/getPurchaseArrangementList",method:"POST",data:t})}function N(t){return Object(n["a"])({url:"/admin/purchase/plan/getPlantmpList",method:"POST",data:t})}function $(t){return Object(n["a"])({url:"/admin/material/supplier/list",method:"GET",data:t})}function A(t){return Object(n["a"])({url:"/payment/getProdorderPaymentList",method:"GET",params:t})}function G(t){return Object(n["a"])({url:"/payment/savePurchorderPayment",method:"POST",data:t})}function z(t){return Object(n["a"])({url:"/payment/deletePurchorderPayment",method:"POST",data:t})}function F(t){return Object(n["a"])({url:"/payment/getPurchorderPayment",method:"POST",params:t})}function R(t){return Object(n["a"])({url:"/admin/data/execProcedure/cm_list_batch?pageNo=1",method:"POST",data:t})}function M(t){return Object(n["a"])({url:"/admin/data/execProcedure/cm_list_batch?pageNo=0",method:"POST",data:t})}function V(t){return Object(n["a"])({url:"/product/selectProductList",method:"GET",params:t})}function B(t){return Object(n["a"])({url:"/admin/purchase/plan/getStatisticsList",method:"POST",data:t})}function Q(t){return Object(n["a"])({url:"/admin/material/supplier/supplierList",method:"get",params:t})}function q(t){return Object(n["a"])({url:"/admin/purchase/plan/updateSupplier",method:"post",data:t})}function W(t){return Object(n["a"])({url:"/admin/purchase/plan/getMaterialPurchstockList",method:"post",data:t})}function H(t){return Object(n["a"])({url:"/admin/material/supplier/getSupplierListByProductId",method:"get",params:t})}function J(t){return Object(n["a"])({url:"/admin/data/execProcedure/create_purchplan?pageNo=0",method:"POST",data:t})}function K(t){return Object(n["a"])({url:"/admin/purchase/plan/purchaseGoodsBatchWarehouse",method:"post",data:t})}function Y(t){return Object(n["a"])({url:"/admin/purch/detail/materialsAreStoredInBatchesTwo",method:"post",data:t})}function Z(t){return Object(n["a"])({url:"/admin/purch/detail/materialsAreStoredInBatches",method:"post",data:t})}function X(t){return Object(n["a"])({url:"/admin/purchase/plan/updateDetailRemarks",method:"post",data:t})}function tt(t){return Object(n["a"])({url:"/admin/purchase/plan/updateRemarks",method:"post",data:t})}function et(t){return Object(n["a"])({url:"/admin/purchase/plan/auditPurchPlan",method:"post",data:t})}function at(t){return Object(n["a"])({url:"/admin/purchase/plan/getMaterialPurchstock",method:"get",params:t})}function nt(t){return Object(n["a"])({url:"/admin/purchase/plan/updatePurchPlanDetail",method:"post",data:t})}function rt(t){return Object(n["a"])({url:"/admin/factory/getPayeeInformation",method:"get",params:t})}function it(t){return Object(n["a"])({url:"/admin/purchase/plan/cancelPurchasePlan",method:"post",data:t})}function ot(t){return Object(n["a"])({url:"/admin/purchase/plan/cancelPurchasePlanDetail",method:"post",data:t})}function st(t){return Object(n["a"])({url:"/admin/purchase/plan/confirmPurchase",method:"POST",data:t})}function lt(t){return Object(n["a"])({url:"/admin/data/execProcedure/采购批量操作?pageNo=0",method:"post",data:t})}function ut(t){return Object(n["a"])({url:"/admin/purch/detail/getMaterialInStockRecordList",method:"get",params:t})}function ct(t){return Object(n["a"])({url:"/admin/purch/detail/saveDeliveryVoucher",method:"post",data:t})}},a8e1:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ManyUploadUrl"},[a("div",{staticClass:"img-ul"},[t._l(t.imageurlArr,(function(e,n){return a("div",{key:n,staticClass:"img_li"},[a("el-image",{staticClass:"image_box",attrs:{src:e,"preview-src-list":t.imageurlArr,fit:"contain",lazy:!0}}),a("el-link",{staticClass:"pzImg_x",attrs:{type:"primary"},on:{click:function(e){return t.imgUrl_init(n)}}},[a("i",{staticClass:"el-icon-circle-close"})])],1)})),t.imageurlArr.length<t.NumMax?a("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.uploadUrl,multiple:!0,"list-type":t.list_type,name:"multipartFiles","file-list":t.fileList,limit:t.NumMax,"on-preview":t.handlePictureCardPreview,"on-remove":t.handleRemove,"on-exceed":t.limitExceed,"on-success":t.handleAvatarSuccess,"show-file-list":!1,"before-upload":t.beforeAvatarUpload}},["text"===t.list_type?a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})],1):t._e()],2),a("el-dialog",{attrs:{"append-to-body":"",visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)},r=[],i=(a("a9e3"),a("d3b7"),a("159b"),a("a434"),a("b0c0"),a("99af"),a("2cd9")),o={props:{imgIndex:{type:Number,default:0},NumMax:{type:Number,default:3},setfileList:{type:Array,default:[]},width_max:{type:String,default:"148"},list_type:{type:String,default:"picture-card"}},data:function(){return{dialogImageUrl:"",dialogVisible:!1,logourl:!1,imageUrl:"",uploadUrl:i["b"],fileList:[],fileList2:[],imageurlArr:[]}},created:function(){this.file_list_init(this.setfileList||[])},methods:{file_list_init:function(t){var e=this;this.fileList=[],this.imageurlArr=[],t&&t.forEach((function(t){e.fileList.push({name:t,url:t,response:{data:t}})}))},limitExceed:function(){this.$message.error("当前最多只能上传"+this.NumMax+"张图片")},imgUrl_init:function(t){this.imageurlArr.splice(t,1)},handleRemove:function(t,e){var a=this;this.imageurlArr=[],e.forEach((function(t){a.imageurlArr.push(t.response.data[0])})),this.$emit("change",this.imageurlArr,1,this.imgIndex)},handlePictureCardPreview:function(t,e){this.dialogImageUrl=t.url,this.dialogVisible=!0},beforeAvatarUpload:function(t){var e="image/jpeg"===t.type||"image/png"===t.type,a=t.size/1024/1024<2,n=t.name.indexOf(",");return n>=0?(this.$message.error("检查到文件名包含了，号"),!1):(e||this.$message.error("上传图片只能是 JPG 或 PNG格式!"),a||this.$message.error("上传图片大小不能超过 2MB!"),e&&a)},getCaption:function(t){var e=t.lastIndexOf(".");return t=t.substring(e+1,t.length),t},getName:function(){for(var t="",e=0;e<4;e++)t+=Math.floor(10*Math.random());return t=(new Date).getTime()+t,t},handleAvatarSuccess:function(t){this.imageurlArr=this.imageurlArr.concat(t.data),this.$emit("change",this.imageurlArr,1,this.imgIndex)}}},s=o,l=(a("b653"),a("2877")),u=Object(l["a"])(s,n,r,!1,null,null,null);e["a"]=u.exports},a92f:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingWeb,expression:"loadingWeb"}],staticClass:"warehouse main-conent flex-main-conent",attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading"}},[a("div",{staticClass:"flex-box"},[a("div",{staticClass:"flex-top"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0},model:{value:t.formQuery,callback:function(e){t.formQuery=e},expression:"formQuery"}},[a("el-form-item",{staticStyle:{"margin-right":"30px"},attrs:{label:"日期从："}},[a("div",{staticClass:"block"},[a("el-date-picker",{staticStyle:{width:"140px"},attrs:{type:"date",align:"right",placeholder:"开始日期","value-format":"yyyy-MM-dd","picker-options":{disabledDate:t.starDataMax}},model:{value:t.formQuery.startDate,callback:function(e){t.$set(t.formQuery,"startDate",e)},expression:"formQuery.startDate"}}),t._v(" - "),a("el-date-picker",{staticStyle:{width:"140px"},attrs:{type:"date",align:"right",placeholder:"结束时间","value-format":"yyyy-MM-dd","picker-options":{disabledDate:t.endDataMin}},model:{value:t.formQuery.endDate,callback:function(e){t.$set(t.formQuery,"endDate",e)},expression:"formQuery.endDate"}})],1)]),a("el-form-item",{staticStyle:{"margin-right":"30px"},attrs:{label:"工厂名称："}},[a("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.formQuery.factoryId,callback:function(e){t.$set(t.formQuery,"factoryId",e)},expression:"formQuery.factoryId"}},t._l(t.FactoryNameList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.factoryName,value:t.id}})})),1)],1),a("el-form-item",{staticStyle:{"margin-right":"30px"},attrs:{label:"类型："}},[a("el-select",{attrs:{clearable:"",placeholder:"采购类型"},on:{change:function(e){return t.onSubmit()}},model:{value:t.formQuery.type,callback:function(e){t.$set(t.formQuery,"type",e)},expression:"formQuery.type"}},[a("el-option",{attrs:{label:"公司采购",value:102302}}),a("el-option",{attrs:{label:"工厂采购",value:102301}})],1)],1),a("el-form-item",{staticStyle:{"margin-right":"30px"},attrs:{label:"状态："}},[a("el-select",{attrs:{placeholder:"状态"},on:{change:function(e){return t.onSubmit()}},model:{value:t.formQuery.nodetype,callback:function(e){t.$set(t.formQuery,"nodetype",e)},expression:"formQuery.nodetype"}},t._l(t.stateList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.namecode,value:t.id}})})),1)],1),a("el-form-item",{staticClass:"overall",staticStyle:{"margin-right":"30px"}},[a("el-button",{attrs:{type:"primary",loading:t.loadingQuery},on:{click:t.onSubmit}},[t._v("查询")])],1),t.buttonPermissions.indexOf(10059)>=0?[a("el-form-item",{staticClass:"overall",staticStyle:{"margin-right":"30px"}},[a("el-button",{attrs:{type:"primary",disabled:t.searchCleOderBool||101602!=t.paramData.nodetype,loading:t.loadingQuery},on:{click:function(e){return t.get_warehousing()}}},[t._v("批量确认收货入库")])],1)]:t._e()],2)],1),a("div",{staticClass:"flex-cont"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingTab,expression:"loadingTab"}],ref:"TableData",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"",height:"100%",stripe:"","tooltip-effect":"dark","highlight-current-row":""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"40",selectable:t.selectable,align:"center"}}),a("el-table-column",{attrs:{prop:"id",label:"标识",width:"50",align:"center"}}),a("el-table-column",{attrs:{prop:"orderNo",label:"订单编号",align:"center"}}),a("el-table-column",{attrs:{property:"optdate",label:"日期",align:"center"}}),a("el-table-column",{attrs:{property:"factoryName",label:"工厂名称",align:"center"}}),a("el-table-column",{attrs:{property:"amount",label:"费用总金额（元）",align:"center"}}),a("el-table-column",{attrs:{property:"planner",label:"计划人",align:"center"}}),a("el-table-column",{attrs:{property:"auditUser",label:"审核人",align:"center"}}),a("el-table-column",{attrs:{property:"lastdate",label:"最迟交货时间",align:"center"}}),a("el-table-column",{attrs:{property:"supplierName",label:"供应商名称",align:"center"}}),a("el-table-column",{attrs:{property:"postil",label:"备注",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tooltip",{attrs:{placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("div",[t._v(t._s(e.row.postil?e.row.postil:"(点击修改)"))])]),e.row.postil?a("span",[t._v(" "+t._s(t._f("postil_substring")(e.row.postil,6))+" ")]):t._e()])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-dropdown",{attrs:{size:"small"}},[a("el-button",{attrs:{type:"primary"}},[t._v(" 菜单"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{nativeOn:{click:function(a){return t.clickDetail(e.row)}}},[t._v("查看明细")]),a("el-dropdown-item",{nativeOn:{click:function(a){return t.clickPaymentRecords(e.row)}}},[t._v("支付记录")])],1)],1)]}}])})],1)],1),a("div",{staticClass:"flex-button"},[a("div",{staticClass:"margin-t16 text-right"},[a("AppPaging",{attrs:{total:t.allTate,pageSize:t.paramData.pageSize,currentPage:t.paramData.page},on:{handleCurrentChange:t.clickCurrentChange,handleSizeChange:t.clickSizeChange}})],1)])]),a("el-dialog",{attrs:{title:"采购计划单管理-查看明细",visible:t.outerVisible,width:"86%"},on:{"update:visible":function(e){t.outerVisible=e}}},[a("div",{staticClass:"detail_top"},[a("div",[t._v("订单编号："+t._s(t.purchaseDetali.namecode))]),a("div",[t._v("生成日期："+t._s(t.purchaseDetali.optdate))]),a("div",[t._v("工厂名称："+t._s(t.purchaseDetali.factoryName))]),a("div",[t._v("计划人："+t._s(t.purchaseDetali.planner))]),a("div",[t._v("审核人："+t._s(t.purchaseDetali.auditUser))]),a("div",[t._v("费用总金额："+t._s(t.purchaseDetali.amount)+"（元）")]),a("div",[t._v("最迟交货期："+t._s(t.purchaseDetali.lastdate))]),a("div",[t._v("供应商名称："+t._s(t.purchaseDetali.supplierName))]),a("div",[t._v("状态："+t._s(t.purchaseDetali.nodetypeName))])]),a("el-table",{key:t.purchaseDetali.nodetype,staticStyle:{width:"100%"},attrs:{data:t.purchasePlanDetailList,border:"",stripe:""},on:{"selection-change":t.TurnSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"40",align:"center",selectable:t.TurnSelectable}}),a("el-table-column",{attrs:{property:"namecode",label:"产品名称",align:"center"}}),a("el-table-column",{attrs:{property:"specif",label:"规格",align:"center"}}),a("el-table-column",{attrs:{property:"unit",label:"单位",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{},[t._v(t._s(e.row.unit))])]}}])}),a("el-table-column",{attrs:{property:"num",label:"采购数量",align:"center"}}),a("el-table-column",{attrs:{property:"amount",label:"金额（元）",align:"center"}}),a("el-table-column",{attrs:{property:"miniNum",label:"起订量",align:"center"}}),a("el-table-column",{attrs:{property:"price",label:"采购单价（元）",align:"center"}}),a("el-table-column",{attrs:{property:"stock",label:"库存",align:"center"}}),a("el-table-column",{attrs:{property:"inStock",label:"已入库数量",align:"center"}}),a("el-table-column",{attrs:{property:"noStock",label:"未入库数量",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[a("el-input-number",{staticStyle:{display:"none"},attrs:{min:0},model:{value:e.row.No_num,callback:function(a){t.$set(e.row,"No_num",a)},expression:"scope.row.No_num"}}),a("el-input",{attrs:{type:"number",disabled:e.row.isedit},model:{value:e.row.No_num,callback:function(a){t.$set(e.row,"No_num",a)},expression:"scope.row.No_num"}})],1)]}}])}),a("el-table-column",{attrs:{property:"noStock",label:"上传凭证",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.isedit?t._e():[e.row.imageUrl.length>0?[a("div",{staticClass:"pzImg",staticStyle:{position:"relative"}},[t._l(e.row.imageUrl,(function(t,n){return a("el-image",{key:n,staticClass:"image_box",staticStyle:{width:"60px",height:"60px"},attrs:{src:t,"preview-src-list":e.row.imageUrl,fit:"contain"}})})),a("el-link",{staticClass:"pzImg_x",staticStyle:{right:"5px",left:"5px","line-height":"1"},attrs:{type:"primary"},on:{click:function(a){return t.imgUrl_init(e.$index)}}},[a("i",{staticClass:"el-icon-circle-close"})])],2)]:t._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:e.row.imageUrl.length<=0,expression:"scope.row.imageUrl.length<=0"}]},[a("div",{staticClass:"manyUploadUrlId",staticStyle:{width:"100%",height:"35px",overflow:"hidden"}},[a("ImgUpload",{ref:"ImgUpload"+e.$index,staticStyle:{display:"inline-block"},attrs:{list_type:"text",NumMax:1,setfileList:e.row.imageUrl,imgIndex:e.$index+1},on:{change:t.getImgUrl}})],1)])]]}}])}),a("el-table-column",{attrs:{property:"nodetypeName",label:"状态",align:"center"}}),a("el-table-column",{attrs:{property:"postil",label:"备注",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tooltip",{attrs:{placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("div",[t._v(t._s(e.row.postil?e.row.postil:"(点击修改)"))])]),e.row.postil?a("span",[t._v(t._s(t._f("postil_substring")(e.row.postil,6))+" ")]):t._e()])]}}])}),a("el-table-column",{attrs:{property:"",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary"},on:{click:function(a){return t.see_details(e.row,t.purchaseDetali)}}},[t._v("入库明细")])]}}])})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{disabled:t.buttonPermissions.indexOf(10060)<0,size:"medium",type:"primary"},on:{click:function(e){return t.clickTurn(t.purchaseDetali.nodetype)}}},[t._v("分批入库")]),a("el-button",{attrs:{size:"medium"},on:{click:function(e){t.outerVisible=!1}}},[t._v("返 回")])],1)],1),a("el-dialog",{attrs:{title:"采购计划单-支付记录",visible:t.dialogPaymentRecords,width:"86%"},on:{"update:visible":function(e){t.dialogPaymentRecords=e}}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.formQueryInfo}}),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.PaymentRecordsList,stripe:"",border:""}},[a("el-table-column",{attrs:{prop:"id",label:"标识",align:"center",width:"60"}}),a("el-table-column",{attrs:{prop:"applyUser",label:"申请人",align:"center",width:"60"}}),a("el-table-column",{attrs:{prop:"requdate",label:"申请日期",align:"center",width:"98"}}),a("el-table-column",{attrs:{prop:"payableAmount",label:"应付金额",align:"center"}}),a("el-table-column",{attrs:{prop:"amount",label:"实付金额",align:"center"}}),a("el-table-column",{attrs:{prop:"inman",label:"付款人",align:"center",width:"100"}}),a("el-table-column",{attrs:{prop:"setType",label:"状态类型",align:"center",width:"100"}}),a("el-table-column",{attrs:{prop:"optdate",label:"付款时间",align:"center"}}),a("el-table-column",{attrs:{prop:"getname",label:"收款账号",align:"center"}}),a("el-table-column",{attrs:{prop:"payDocumentUrl",label:"付款凭证",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.payDocumentUrl?a("div",t._l(e.row.payDocumentUrl,(function(t,n){return a("el-image",{key:n,staticStyle:{width:"40px",height:"40px"},attrs:{src:t,"preview-src-list":e.row.payDocumentUrl,fit:"contain"}})})),1):a("p",[t._v("-")])]}}])}),a("el-table-column",{attrs:{prop:"remarks",label:"备注",align:"center",width:"60"}})],1),a("div",{staticClass:"margin-t16 text-right"},[a("pagination",{attrs:{"current-page":t.queryInfo.page,total:t.total_queryInfo,"page-size":t.queryInfo.pageSize},on:{handleSizeChange:t.PayhandleSizeChange,handleCurrentChange:t.PayhandleCurrentChange}})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogPaymentRecords=!1}}},[t._v("取 消")])],1)],1),a("el-dialog",{attrs:{title:"添加支付记录",visible:t.dialogPayAdd,width:"40%"},on:{"update:visible":function(e){t.dialogPayAdd=e},close:t.AddPayDialogClosed}},[a("div",{staticClass:"pay_add"},[a("div",[t._v("采购单ID： "+t._s(t.AddRelaId))]),a("div",[t._v("供应商： "+t._s(t.PayEditSupplierName))])]),a("el-form",{ref:"AddPayFormRef",staticClass:"demo-form-inline formInput",attrs:{inline:!0,model:t.formPayAdd,rules:t.AddPayFormRules}},[a("el-form-item",{attrs:{label:"收付款方账号信息：",prop:"namecode"}},[a("el-input",{attrs:{clearable:""},model:{value:t.formPayAdd.namecode,callback:function(e){t.$set(t.formPayAdd,"namecode",e)},expression:"formPayAdd.namecode"}})],1),a("el-form-item",{attrs:{label:"付款金额（元）：",prop:"amount"}},[a("el-input",{attrs:{clearable:""},model:{value:t.formPayAdd.amount,callback:function(e){t.$set(t.formPayAdd,"amount",e)},expression:"formPayAdd.amount"}})],1),a("el-form-item",{attrs:{label:"状态类型：",prop:"nodetype"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择类型"},model:{value:t.formPayAdd.nodetype,callback:function(e){t.$set(t.formPayAdd,"nodetype",e)},expression:"formPayAdd.nodetype"}},[a("el-option",{attrs:{label:"预付",value:"102101"}}),a("el-option",{attrs:{label:"续付",value:"102102"}}),a("el-option",{attrs:{label:"返还抵扣",value:"102103"}})],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"medium "},on:{click:function(e){t.dialogPayAdd=!1}}},[t._v("取 消")]),a("el-button",{attrs:{size:"medium ",type:"primary"},on:{click:t.PayAddClick}},[t._v("保 存")])],1)],1),a("el-dialog",{attrs:{title:"编辑支付记录",visible:t.dialogPayEdit,width:"40%"},on:{"update:visible":function(e){t.dialogPayEdit=e},close:t.editPayDialogClosed}},[a("div",{staticClass:"pay_add"},[a("div",[t._v("采购单ID："+t._s(t.AddRelaId))]),a("div",[t._v("工厂："+t._s(t.PayEditSupplierName))])]),a("el-form",{ref:"editPayFormRef",staticClass:"demo-form-inline formInput",attrs:{inline:!0,model:t.PayEditForm,rules:t.editPayFormRules}},[a("el-form-item",{attrs:{label:"收付款方账号信息：",prop:"namecode"}},[a("el-input",{model:{value:t.PayEditForm.namecode,callback:function(e){t.$set(t.PayEditForm,"namecode",e)},expression:"PayEditForm.namecode"}})],1),a("el-form-item",{attrs:{label:"付款金额（元）：",prop:"amount"}},[a("el-input",{model:{value:t.PayEditForm.amount,callback:function(e){t.$set(t.PayEditForm,"amount",e)},expression:"PayEditForm.amount"}})],1),a("el-form-item",{attrs:{label:"状态类型：",prop:"nodetype"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择类型"},model:{value:t.PayEditForm.nodetype,callback:function(e){t.$set(t.PayEditForm,"nodetype",e)},expression:"PayEditForm.nodetype"}},[a("el-option",{attrs:{label:"预付",value:"102101"}}),a("el-option",{attrs:{label:"续付",value:"102102"}}),a("el-option",{attrs:{label:"返还抵扣",value:"102103"}})],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"medium "},on:{click:function(e){t.dialogPayEdit=!1}}},[t._v("取 消")]),a("el-button",{attrs:{size:"medium ",type:"primary"},on:{click:t.dialogPayEditSave}},[t._v("保 存")])],1)],1),a("el-dialog",{attrs:{title:"添加采购计划单",visible:t.dialogFormVisibleAdd,width:"86%"},on:{"update:visible":function(e){t.dialogFormVisibleAdd=e}}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0},model:{value:t.formPurchase,callback:function(e){t.formPurchase=e},expression:"formPurchase"}},[a("el-form-item",{staticStyle:{"margin-right":"30px"},attrs:{label:"计划人:"}},[a("span",[t._v(t._s(t.name))])]),a("el-form-item",{staticStyle:{"margin-right":"30px"},attrs:{label:"审核人:"}},[a("span",[t._v(t._s(t.name))])]),a("el-form-item",{staticStyle:{"margin-right":"30px"},attrs:{label:"工厂名称:"}},[a("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.formPurchase.factoryId,callback:function(e){t.$set(t.formPurchase,"factoryId",e)},expression:"formPurchase.factoryId"}},t._l(t.factoryList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.factoryName,value:t.id}})})),1)],1),a("el-form-item",{staticStyle:{"margin-right":"30px"},attrs:{label:"计划日期: "}},[a("div",{staticClass:"block"},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:t.formPurchase.optdate,callback:function(e){t.$set(t.formPurchase,"optdate",e)},expression:"formPurchase.optdate"}})],1)]),a("el-form-item",{staticStyle:{"margin-right":"30px"},attrs:{label:"交货日期："}},[a("div",{staticClass:"block"},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:t.formPurchase.lastdate,callback:function(e){t.$set(t.formPurchase,"lastdate",e)},expression:"formPurchase.lastdate"}})],1)])],1),a("div",[t._v("添加采购计划单（添加包材）： "),a("el-button",{attrs:{type:"primary"},on:{click:t.clickPlanGoods}},[t._v("添加")])],1),a("el-table",{attrs:{data:t.dataNewPlanGoods,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"50",align:"center"}}),a("el-table-column",{attrs:{property:"namecode",label:"商品名称",align:"center"}}),a("el-table-column",{attrs:{property:"specif",label:"规格",align:"center"}}),a("el-table-column",{attrs:{property:"price",label:"单价(元)",align:"center"}}),a("el-table-column",{attrs:{property:"unit",label:"单位",align:"center"}}),a("el-table-column",{attrs:{property:"num",label:"计划数量",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{model:{value:e.row.num,callback:function(a){t.$set(e.row,"num",a)},expression:"scope.row.num"}})]}}])}),a("el-table-column",{attrs:{property:"miniNum",label:"起订量",align:"center"}}),a("el-table-column",{attrs:{property:"amount",label:"金额(元)",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s((e.row.num*e.row.price).toFixed(2)))])]}}])}),a("el-table-column",{attrs:{property:"name",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticStyle:{cursor:"pointer"},attrs:{type:"danger"},on:{click:function(a){return t.delePurchase(e.row.id)}}},[t._v("删除")])]}}])})],1),a("el-dialog",{attrs:{width:"80%",title:"添加采购计划单-添加包材",visible:t.innerVisiblePlanGoods,"append-to-body":""},on:{"update:visible":function(e){t.innerVisiblePlanGoods=e}}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0},model:{value:t.formPurchase,callback:function(e){t.formPurchase=e},expression:"formPurchase"}},[a("el-form-item",{staticStyle:{"margin-right":"30px"},attrs:{label:"供应商:"}},[a("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},on:{change:t.supplierList,clear:t.supplierListClear},model:{value:t.purchaseId,callback:function(e){t.purchaseId=e},expression:"purchaseId"}},t._l(t.options,(function(t){return a("el-option",{key:t.id,attrs:{label:t.namecode,value:t.id}})})),1)],1)],1),a("el-table",{attrs:{data:t.dataPlanGoods,border:"",stripe:""}},[a("el-table-column",{attrs:{property:"name",label:"操作",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticStyle:{cursor:"pointer"},attrs:{type:"primary",disabled:e.row.states},on:{click:function(a){return t.clicPlanGoods(e.row)}}},[t._v("添加")])]}}])}),a("el-table-column",{attrs:{type:"index",label:"序号",width:"50",align:"center"}}),a("el-table-column",{attrs:{property:"namecode",label:"包材名称",align:"center"}}),a("el-table-column",{attrs:{property:"specif",label:"规格",width:"200",align:"center"}}),a("el-table-column",{attrs:{property:"unit",label:"单位",align:"center"}}),a("el-table-column",{attrs:{property:"price",label:"采购单价(元)",align:"center"}}),a("el-table-column",{attrs:{property:"miniNum",label:"起订量",align:"center"}}),a("el-table-column",{attrs:{property:"stock",label:"库存数",align:"center"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisibleAdd=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.putPurchase}},[t._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"修改最迟交货期",visible:t.dialogVisibleDate,width:"30%"},on:{"update:visible":function(e){t.dialogVisibleDate=e}}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:t.latestDataTime,callback:function(e){t.latestDataTime=e},expression:"latestDataTime"}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisibleDate=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.clickDates()}}},[t._v("确 定")])],1)],1),a("el-dialog",{staticStyle:{"margin-top":"15vh"},attrs:{title:"导出提示",visible:t.dialogExport,width:"30%"},on:{"update:visible":function(e){t.dialogExport=e}}},[a("span",[t._v(t._s(t.ExportHints))]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.dialogExportClick}},[t._v("确 定")])],1)]),a("el-dialog",{attrs:{title:"修改单位",visible:t.isunitList,width:"30%"},on:{"update:visible":function(e){t.isunitList=e}}},[a("p",[t._v("当前单位："+t._s(t.NowUnit))]),t._v(" 修改至："),a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.editUnit,callback:function(e){t.editUnit=e},expression:"editUnit"}},t._l(t.unitList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.namecode,value:t.namecode}})})),1),a("p",[t._v("单位配比："+t._s(t.conversionRatio))]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.isunitList=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.saveUnit}},[t._v("保 存")])],1)],1),a("WarehousingDetails",{ref:"WarehousingDetails",on:{ToUpDate:t.ToUpDate}})],1)},r=[],i=a("1da1"),o=a("5530"),s=(a("96cf"),a("d3b7"),a("159b"),a("b64b"),a("d81d"),a("7c58")),l=a("ba10"),u=a("062d"),c=a("2f62"),d=a("4795"),m=a("faca"),p=a("2f88"),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"warehousingDetails"},[a("el-dialog",{attrs:{title:"",visible:t.dialogSync,width:"50%","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogSync=e}}},[a("el-form",[a("el-row",{attrs:{gutter:40}},[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"物品名称："}},[a("div",{staticClass:"goodName",attrs:{title:t.row.namecode}},[a("span",[t._v(t._s(t.row.namecode))])])])],1),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"工厂名称："}},[a("span",[t._v(t._s(t.row.factoryName))])])],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"规格："}},[a("span",[t._v(t._s(t.row.specif))])])],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"单位："}},[a("span",[t._v(t._s(t.row.unit))])])],1)],1),a("el-row",{attrs:{gutter:40}},[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"采购数量："}},[a("span",[t._v(t._s(t.row.num))])])],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"已入库数："}},[a("span",[t._v(t._s(t.row.inStock))])])],1),a("el-col",{attrs:{span:6}},[a("el-form-item",[a("el-button",{attrs:{type:"primary",disabled:0!=t.quantity},on:{click:t.addWarehousing}},[t._v("添加批次入库")])],1)],1)],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingTable,expression:"loadingTable"}],staticStyle:{width:"100%",margin:"0 0 0px 00px"},attrs:{data:t.batchData,stripe:"",border:""}},[a("el-table-column",{attrs:{label:"入库数量",prop:"num",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.isAdd?a("div",[a("el-input",{attrs:{type:"number",min:0},on:{input:function(a){return t.change_amount(e.row)}},model:{value:e.row.num,callback:function(a){t.$set(e.row,"num",a)},expression:"scope.row.num"}})],1):a("span",[t._v(t._s(e.row.num))])]}}])}),a("el-table-column",{attrs:{label:"单位",prop:"unit",align:"center",width:"60"}}),a("el-table-column",{attrs:{label:"仓库名称",prop:"unit",align:"center",width:"60"}}),a("el-table-column",{attrs:{label:"入库时间",prop:"optdate",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.optdate))]}}])}),a("el-table-column",{attrs:{label:"采购交付凭证",prop:"vdata",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[t._v(t._s(e.row.numb))]),e.row.isAdd?a("div",[t.imageUrl.length>0?[a("div",{staticClass:"pzImg"},[t._l(t.imageUrl,(function(e,n){return a("el-image",{key:n,staticClass:"image_box",staticStyle:{width:"60px",height:"60px"},attrs:{src:e,"preview-src-list":t.imageUrl,fit:"contain"}})})),a("el-link",{staticClass:"pzImg_x",attrs:{type:"primary"},on:{click:function(e){return t.imgUrl_init()}}},[a("i",{staticClass:"el-icon-circle-close"})])],2)]:[a("div",{staticClass:"manyUploadUrlId",staticStyle:{width:"100%",height:"35px",overflow:"hidden"}},[a("ImgUpload",{ref:"ManyUploadUrl",staticStyle:{display:"inline-block"},attrs:{list_type:"text",NumMax:1,setfileList:t.imageUrl},on:{change:t.getImgUrl}})],1)]],2):e.row.deliveryVoucher?a("div",t._l([e.row.deliveryVoucher],(function(t,n){return a("el-image",{key:n,staticClass:"image_box",staticStyle:{width:"50px",height:"50px"},attrs:{src:t,"preview-src-list":[e.row.deliveryVoucher],fit:"contain"}})})),1):a("div",[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(a){return t.addImg(1,e)}}},[t._v("添加凭证")])],1)]}}])})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{disabled:0===t.quantity,size:"medium",type:"primary"},on:{click:function(e){return t.clickTurn()}}},[t._v("新增分批入库")]),a("el-button",{attrs:{size:"medium"},on:{click:function(e){t.dialogSync=!1}}},[t._v("返 回")])],1)],1),a("el-dialog",{attrs:{visible:t.supplerData.sync,title:t.supplerData.title,width:"35%","destroy-on-close":"",center:""},on:{opened:t.addImg_opened,"update:visible":function(e){return t.$set(t.supplerData,"sync",e)}}},[a("el-form",{attrs:{"label-width":"140px"}},[a("el-form-item",{attrs:{label:"添加凭证："}},[a("ImgUpload",{key:"upload2",ref:"ManyUploadUrl2",attrs:{NumMax:1,setfileList:t.supplerData.imageUrl},on:{change:t.getImgUrl2}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.addImg(2)}}},[t._v("确认添加凭证")]),a("el-button",{on:{click:function(e){t.supplerData.sync=!1}}},[t._v("取消")])],1)],1)],1)},h=[],g=(a("99af"),a("a8e1")),b={components:{ImgUpload:g["a"]},data:function(){return{loadingTable:!1,dialogSync:!1,batchData:[],row:{},purchaseDetali:{},quantity:0,supplerData:{radio:0,sync:!1,title:"添加交付凭证",index:"",rwo:"",dataID:{},imageUrl:[],loading:!1,formQuery:{},paramData:{}}}},computed:Object(o["a"])({},Object(c["c"])({roles:"roles",userId:"user/userId",name:"user/name"})),methods:{init:function(t,e){this.row=t,this.purchaseDetali=e,this.dialogSync=!0,this.quantity=0,this.batchData=[],this.get_list(),this.imgUrl_init()},addWarehousing:function(){this.$refs["ManyUploadUrl"]&&this.$refs["ManyUploadUrl"].file_list_init([]),this.imageUrl=[];var t={num:this.row.No_num,unit:this.row.unit,optdate:this.get_dateTime(),isAdd:!0};this.quantity=1,this.batchData.push(t)},clickTurn:function(){var t=this.batchData[this.batchData.length-1];if(0!==this.quantity&&t.isAdd)if(t.num<=0)this.$message.warning("入库数量需要大于0");else{var e={list:[],optId:this.userId,planlId:this.purchaseDetali.id},a={deliveryVoucher:this.imageUrl[0]||"",num:t.num,planDetailId:this.row.id};e.list.push(a),this.set_materialsAreStoredInBatches(e)}else this.$message.warning("请先增加分批入库")},set_materialsAreStoredInBatches:function(t){var e=this;this.loadingTable=!0,Object(s["V"])(t).then((function(t){e.loadingTable=!1,200===t.code&&(e.dialogSync=!1,e.$message.success(t.message),e.$emit("ToUpDate",2),e.paramData.page=1,e.getPurchaseList(e.paramData),e.outerVisible=!1)}))},change_amount:function(){},addImg:function(t,e){if(1===t&&(this.supplerData.sync=!0,this.supplerData.index=e.$index,this.supplerData.row=e.row),2===t){if(this.supplerData.imageUrl.length<=0)return void this.$message({message:"请先上传图片",type:"warning"});var a={deliveryVoucher:this.supplerData.imageUrl[0],planPcId:this.supplerData.row.id};this.get_saveDeliveryVoucher(a)}},get_saveDeliveryVoucher:function(t){var e=this;Object(s["ab"])(t).then((function(t){200===t.code&&(e.supplerData.sync=!1,t.data&&(e.batchData[e.supplerData.index].deliveryVoucher=e.supplerData.imageUrl[0]))}))},addImg_opened:function(){this.$refs["ManyUploadUrl2"].file_list_init([])},imgUrl_init:function(){if(this.batchData[this.batchData.length-1]&&this.batchData[this.batchData.length-1].isAdd){var t=this.batchData[this.batchData.length-1].num;this.batchData[this.batchData.length-1].num+=1,this.batchData[this.batchData.length-1].num=t}this.imageUrl=[],this.$refs["ManyUploadUrl"]&&this.$refs["ManyUploadUrl"].file_list_init([]),this.$forceUpdate()},getImgUrl:function(t){if(this.imageUrl=this.imageUrl.concat(t),this.batchData[this.batchData.length-1]&&this.batchData[this.batchData.length-1].isAdd){var e=this.batchData[this.batchData.length-1].num;this.batchData[this.batchData.length-1].num+=1,this.batchData[this.batchData.length-1].num=e}this.$forceUpdate()},getImgUrl2:function(t){this.supplerData.imageUrl=t},get_list:function(){this.batchData=[],this.get_getMaterialInStockRecordList({planListId:this.row.id})},get_getMaterialInStockRecordList:function(t){var e=this;this.loadingTable=!0,Object(s["p"])(t).then((function(t){if(e.loadingTable=!1,200===t.code){var a=t.data;a.forEach((function(t){t.numb=0,t.unit=e.row.unit,t.isAdd=!1,t.imageUrl=t.deliveryVoucher||""})),e.batchData=a}}))}}},y=b,v=(a("c454"),a("2877")),P=Object(v["a"])(y,f,h,!1,null,null,null),_=P.exports,O={components:{ImgUpload:g["a"],WarehousingDetails:_,AppPaging:p["a"],pagination:m["a"]},data:function(){return{scrollTop:0,scrollLeft:0,conversionRatio:"",unitBitstr:"",Nowid:"",NowUnit:"",editUnit:"",isunitList:!1,unitList:[],loadingWeb:!0,batchList:[],gridData:[],outerVisible:!1,innerVisible:!1,loadingTab:!1,loadingQuery:!1,svalue1:"",svalue2:"",info:{isTrue:!1,isShow:!0},checked:!1,value1:"",value2:"",tableData:[],stateList:[],searchCleOderBool:!1,dateValue:"",formQuery:{supplierId:"",nodetype:101602,timeData:"",factoryId:"",orderNo:""},allTate:0,currentPage:1,paramData:{page:1,pageSize:24},multipleSelection:[],purchaseDetali:{},dialogFormVisibleAdd:!1,formPurchase:{lastdate:"",optdate:"",id:"",factoryId:"",packMaterialInfoList:[],supplierId:""},tableOptions:[],FactoryNameList:[],options:[],factoryList:[],factoryId:"",purchaseId:"",dataPlanGoods:[],dataNewPlanGoods:[],loadingPutPurchase:!1,updateId:"",innerVisiblePlanGoods:!1,idList:[],DetailId:[],ConfirmPurchaseId:[],dialogExport:!1,ExportHints:"",purchasePlanDetailList:[],turnSelectionList:[],DetailParameter:{optId:"",factoryId:"",planId:"",purchaseType:"",instantOutbound:!0},dialogPaymentRecords:!1,PaymentRecordsList:[],formQueryInfo:{supplierId:"",timeData:""},AddPayFormRules:{namecode:[{required:!0,message:"请输入收付款方账号信息",trigger:"blur"}],amount:[{required:!0,message:"请输入付款金额",trigger:"blur"}],nodetype:[{required:!0,message:"请选择类型",trigger:"blur"}]},dialogPayAdd:!1,AddRelaId:"",manufacturerId:"",formPayAdd:{namecode:"",amount:"",nodetype:""},queryInfo:{page:1,pageSize:24},total:0,dialogPayEdit:!1,PayEditForm:{},PayEditSupplierName:"",editPayFormRules:{namecode:[{required:!0,message:"请输入收付款方账号信息",trigger:"blur"}],amount:[{required:!0,message:"请输入付款金额",trigger:"blur"}],nodetype:[{required:!0,message:"请选择类型",trigger:"blur"}]},buttonPermissions:[],EditPayId:"",total_queryInfo:0,dialogVisibleDate:!1,latestDataTime:"",rela:""}},computed:Object(o["a"])({},Object(c["c"])({roles:"roles",userId:"user/userId",name:"user/name"})),created:function(){this.buttonPermissions=this.roles[0].buttonPermissions,this.provinceList=this.data;var t=this.changeData();this.provinceList=this.data;var e=Object(o["a"])(Object(o["a"])({},this.formQuery),this.paramData);this.getPurchaseList(e),this.getSupplierList(),this.getFactoryList(),this.getFactoryName(),this.formQueryInfo.timeData=t},methods:{get_getPurchorderPaymentList:function(t){var e=this;Object(l["F"])(t).then((function(t){if(200===t.code){var a=t.data||{};e.PaymentRecordsList=a.list||[],e.total_queryInfo=a.total||0,e.PaymentRecordsList.forEach((function(t){var e=t.vdata||{};t.payDocumentUrl=e.payDocumentUrl||"",t.remarks=e.remarks||""}))}}))},clickPaymentRecords:function(t){this.rela=t.id,this.dialogPaymentRecords=!0,this.queryInfo.rela=t.id,this.queryInfo.page=1,this.get_getPurchorderPaymentList(this.queryInfo),this.AddRelaId=t.id,this.PayEditSupplierName=t.supplierName,this.manufacturerId=t.supplierId},PayhandleSizeChange:function(t){this.queryInfo.pageSize=t,this.PayhandleCurrentChange(1)},PayhandleCurrentChange:function(t){this.queryInfo.page=t,this.get_getPurchorderPaymentList(this.queryInfo)},ToUpDate:function(t){if(2===t)return this.getPurchaseDetali(this.clickDetail_id),void this.ToUpDate(1);1!==t||this.getPurchaseList(this.paramData)},getImgUrl:function(t,e,a){this.purchasePlanDetailList[a-1].imageUrl=t},imgUrl_init:function(t){this.purchasePlanDetailList[t].imageUrl=[],this.$refs["ImgUpload"+t].file_list_init([])},see_details:function(t,e){this.$refs.WarehousingDetails.init(t,e)},starDataMax:function(t){if(this.formQuery.endDate)return t.getTime()>=Date.parse(this.formQuery.endDate)},endDataMin:function(t){if(this.formQuery.startDate)return t.getTime()<=Date.parse(this.formQuery.startDate)-864e5},onSubmit:function(){var t=this.formQuery,e=Object(o["a"])({page:1,pageSize:this.paramData.pageSize},t);Object.keys(e).forEach((function(t){var a=e[t];""===a&&delete e[t]})),this.paramData=e,this.getPurchaseList(e)},clickSizeChange:function(t){this.paramData.pageSize=t,this.clickCurrentChange(1)},clickCurrentChange:function(t){this.paramData.page=t,this.getPurchaseList(this.paramData)},get_warehousing:function(){var t=this;if(this.batchList.length<=0)this.$message({type:"warning",message:"请选择要操作的数据"});else{var e={list:[],optId:this.userId},a=[];this.batchList.forEach((function(t){var n={factoryId:t.factoryId,planId:t.id,purchaseType:t.settype};e.list.push(n),a.push(t.id)})),this.$confirm("你确定要对已选的"+this.batchList.length+"条数据进行入库操作吗？",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(){var e={optId:t.userId,planlIds:a};Object(s["W"])(e).then((function(e){200===e.code&&(t.$message({message:e.message,type:"success"}),t.paramData.page=1,t.getPurchaseList(t.paramData))}))})).catch((function(){}))}},selectable:function(t){return"101602"===t.nodetype},handleSelectionChange:function(t){var e=t.map((function(t){return t.id}));this.idList=e,this.batchList=t,this.multipleSelection=t},clickDetail:function(t){this.outerVisible=!0,this.clickDetail_id=t.id,this.DetailParameter={optId:this.userId,factoryId:t.factoryId,planId:t.id,purchaseType:t.settype,instantOutbound:!0,planner:t.planner},this.getPurchaseDetali(t.id),this.DetailId=t.id},TurnSelectable:function(t){return!(this.buttonPermissions.indexOf(10060)<0)},TurnSelectionChange:function(t){this.turnSelectionList=t,this.purchasePlanDetailList.forEach((function(t){t.isedit=!0})),this.turnSelectionList.forEach((function(t){t.isedit=!1}))},clickTurn:function(t){var e=this;if(this.turnSelectionList.length<=0)this.$message.error("请选择要入库的数据!");else{var a={list:[],optId:this.userId,planlId:this.purchaseDetali.id},n="";this.turnSelectionList.forEach((function(t){t.No_num<=0&&!0,n=t.imageUrl[0]||"",a.list.push({deliveryVoucher:n,num:t.No_num,planDetailId:t.id})}));var r="是否操作入库?";r="101603"===t?"已入库，是否继续入库":r,this.$confirm(r,"提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(){Object(s["V"])(a).then((function(t){200===t.code&&(e.$message.success(t.message),e.paramData.page=1,e.getPurchaseList(e.paramData),e.outerVisible=!1)}))}))}},PutInStorage:function(){var t=this,e=(Object(o["a"])({},this.DetailParameter),{list:[],optId:this.userId}),a={factoryId:this.DetailParameter.factoryId,planId:this.DetailParameter.planId,purchaseType:this.DetailParameter.purchaseType};e.list.push(a),this.$confirm("是否操作入库?","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(){Object(s["Y"])(e).then((function(e){200===e.code&&(t.$message({type:"success",message:e.message}),t.paramData.page=1,t.getPurchaseList(t.paramData),t.outerVisible=!1)}))})).catch((function(){}))},saveUnit:function(){var t=this;for(var e in this.unitList)this.unitList[e].namecode===this.editUnit&&(this.unitBitstr=this.unitList[e].data);Object(s["gb"])({detailId:this.Nowid,unit:this.editUnit,unitBit:this.unitBitstr}).then((function(e){if(200===e.code){t.$message({message:"修改单位成功！",type:"success"});var a=Object(o["a"])(Object(o["a"])({nodetype:101601},t.paramData),{},{begindate:t.formQuery.timeData[0],enddate:t.formQuery.timeData[1]});t.getPurchaseDetali(t.clickDetail_id),t.getPurchaseList(a),t.isunitList=!1}else t.$message({message:e.message,type:"warning"})}))},gotounit:function(t){var e=this;Object(s["R"])({productId:t.data,unit:t.unit}).then((function(a){200===a.code?(e.unitList=a.data,e.unitList.length>0?(e.editUnit=a.data[0].namecode,e.NowUnit=t.unit,e.Nowid=t.id,e.conversionRatio=a.data[0].conversionRatio,e.isunitList=!0):e.$message({message:"没有更多单位可以修改了",type:"warning"})):e.$message({message:a.message,type:"warning"})}))},getFactoryName:function(){var t=this;Object(u["o"])({}).then((function(e){if(200===e.code){var a=[];e.data.forEach((function(t){1!==t.data&&a.push(t)})),t.FactoryNameList=a}}))},getPurchaseDetali:function(t){var e=this,a={id:t,pageSize:100};Object(s["B"])(a).then((function(t){200===t.code?(t.data.purchasePlanDetailList.list.forEach((function(t){t.imageUrl=[],t.No_num=(1e4*t.num-1e4*t.inStock)/1e4,t.No_num=t.No_num<0?0:t.No_num,t.postil="",t.vdata&&(t.postil=t.vdata.postil||""),t.isedit=!0})),e.purchaseDetali=t.data,e.purchaseDetali.planner=e.purchaseDetali.planner||e.DetailParameter.planner||"",e.purchaseDetali.factoryId=e.purchaseDetali.factoryId||e.DetailParameter.factoryId,e.purchaseDetali.purchaseType=e.DetailParameter.purchaseType,e.purchasePlanDetailList=t.data.purchasePlanDetailList.list,e.turnSelectionList=[],e.formPurchase=t.data,e.purchaseId=t.data.supplerId+""):e.$message({message:t.message,type:"warning"})}))},getSupplierList:function(){var t=this;Object(s["P"])({}).then((function(e){200===e.code?(t.tableOptions=e.data,t.options=e.data):t.$message({message:e.message,type:"warning"})}))},getFactoryList:function(){var t=this;Object(s["m"])({}).then((function(e){200===e.code?t.factoryList=e.data:t.$message({type:"warning",message:e.message})}))},getTimeData:function(t){var e=new Date(t),a=e.getFullYear()+"-"+this.p(e.getMonth()+1)+"-"+this.p(e.getDate());return a},p:function(t){return t<10?"0"+t:t},clickPlan:function(){this.loadingPutPurchase=!1,this.dialogFormVisibleAdd=!0,this.updateId="",this.dataNewPlanGoods=[],this.formPurchase={lastdate:"",optdate:"",id:"",packMaterialInfoList:[],factoryId:""},this.purchaseId=""},clickPlanGoods:function(){var t=this.formPurchase.factoryId,e={factoryId:t};t?(this.innerVisiblePlanGoods=!0,this.getPurchaseList(e)):this.$notify({title:"友情提示",message:"请选择工厂！",type:"warning"})},getPurchaseMaterialList:function(t){var e=this;Object(s["D"])(t).then((function(t){200===t.code?e.dataPlanGoods=t.data.list:e.$message({type:"warning",message:t.message})}))},supplierList:function(){var t=this.purchaseId,e=this.formPurchase.factoryId,a={supplierId:t,factoryId:e};t&&this.getPurchaseMaterialList(a)},supplierListClear:function(){this.dataPlanGoods=[]},clicPlanGoods:function(t){this.$message({type:"success",message:"添加成功!"}),this.dataNewPlanGoods.push(t),t.states=!0},putPurchase:function(){var t=this.formPurchase;t.supplierId=parseInt(this.purchaseId);var e=!0;if(this.dataNewPlanGoods.length)for(var a=0;a<this.dataNewPlanGoods.length;a++)this.dataNewPlanGoods[a].num||(e=!1);else e=!1;!1!==e?(t.packMaterialInfoList=this.dataNewPlanGoods,this.loadingPutPurchase=!0,this.updateId?this.getPurchaseUpdate(t):this.putPurchaseInsert(t)):this.$message({message:"请添加供应商商品数量值",type:"warning"})},getPurchaseUpdate:function(t){var e=this;Object(s["H"])(t).then((function(t){if(e.dialogFormVisibleAdd=!1,e.loadingPutPurchase=!1,200===t.code){e.$message({type:"success",message:"修改成功!"});var a={page:1,pageSize:24};e.getPurchaseList(a)}else e.$message({message:t.message,type:"warning"})}))},putPurchaseInsert:function(t){var e=this;Object(s["Z"])(t).then((function(t){if(e.dialogFormVisibleAdd=!1,e.loadingPutPurchase=!1,200===t.code){var a={page:1,pageSize:24,nodetype:101601};e.getPurchaseList(a),e.$message({type:"success",message:"添加成功!"})}else e.$message({message:t.message,type:"warning"})}))},dialogExportClick:function(){this.dialogExport=!1,this.$message({type:"success",message:"操作成功"})},clickLatestDate:function(t){this.dialogVisibleDate=!0,this.latestDataTime=""},clickDates:function(){this.dialogVisibleDate=!1,this.latestDataTime},getPurchaseList:function(t){var e=this;this.paramData=t,this.loadingTab=!0,Object(s["C"])(t).then((function(t){if(e.loadingWeb=!1,e.loadingQuery=!1,200===t.code){var a=t.data.list;a.forEach((function(t){t.postil="",t.vdata&&(t.postil=t.vdata.postil||"")})),e.loadingTab=!1,e.allTate=t.data.total,e.currentPage=t.data.pageNum,e.tableData=a}else e.$message({message:t.message,type:"warning"})}))},clickBatch:function(){var t=this.batchList;0===t.length&&this.$message({message:"警告哦，请选择需要处理的数据",type:"warning"})},delePurchase:function(t){var e=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(d["a"])(e.dataNewPlanGoods,t),e.$message({type:"success",message:"删除成功!"})})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},inventory:function(){this.innerVisible=!0},detailAudit:function(){var t=this,e=[this.DetailId];Object(s["i"])({idList:e}).then((function(e){if(200===e.code){t.$message({type:"success",message:e.message});var a={page:1,pageSize:24,nodetype:101601};t.getPurchaseList(a)}else t.$message({type:"warning",message:e.message});t.outerVisible=!1}))},detailExport:function(){var t=this,e=this.formQuery;e.timeData?e.timeData.length&&(e.startDate=e.timeData[0],e.endDate=e.timeData[1],e.paramStr="开始时间："+e.startDate+",结束时间："+e.endDate):(delete e.startDate,delete e.endDate);var a={paramStr:e.paramStr,id:this.DetailId};delete a.timeData,e.timeData?Object(s["S"])(a).then((function(e){200===e.code&&(t.ExportHints=e.data,t.dialogExport=!0,setTimeout((function(){t.outerVisible=!1}),1e3))})):this.$message({type:"warning",message:"请选择导出的时间跨度 ^_^"})},onSubmitPay:function(){var t=this.formQueryInfo;if(t.timeData){if(t.timeData.length){var e=t.timeData[0],a=t.timeData[1];t.startTime=e,t.endTime=a}}else delete t.startTime,delete t.endTime;var n=Object(o["a"])({},t);delete n.timeData,n.supplierId||delete n.supplierId,this.paramData=n,n.rela=this.rela,this.get_getPurchorderPaymentList(n)},clickPayAdd:function(){this.dialogPayAdd=!0},AddPayDialogClosed:function(){this.$refs.AddPayFormRef.resetFields()},PayAddClick:function(){var t=this;this.$refs.AddPayFormRef.validate(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(a){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Object(o["a"])(Object(o["a"])({},t.formPayAdd),{},{rela:t.AddRelaId,data:t.manufacturerId,inman:t.userId}),e.next=4,Object(s["M"])(n).then((function(e){200===e.code?t.$message({type:"success",message:e.message}):t.$message({type:"warning",message:e.message})}));case 4:t.dialogPayAdd=!1,r={rela:t.AddRelaId},t.get_getPurchorderPaymentList(r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},PayhandleEdit:function(t){var e=this,a={id:t};Object(s["K"])(a).then((function(t){200===t.code?e.PayEditForm=t.data:e.$message({type:"warning",message:t.message})})),this.dialogPayEdit=!0,this.EditPayId=t},editPayDialogClosed:function(){this.$refs.editPayFormRef.resetFields()},dialogPayEditSave:function(){var t=this;this.$refs.editPayFormRef.validate(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(a){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Object(o["a"])(Object(o["a"])({},t.PayEditForm),{},{rela:t.AddRelaId,data:t.manufacturerId,inman:t.userId,id:t.EditPayId}),e.next=4,Object(s["M"])(n).then((function(e){200===e.code?t.$message({type:"success",message:e.message}):t.$message({type:"warning",message:e.message})}));case 4:t.dialogPayEdit=!1,r={rela:t.AddRelaId},t.get_getPurchorderPaymentList(r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},PayhandleDelete:function(t){var e=this;this.$confirm("是否删除该支付记录？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(i["a"])(regeneratorRuntime.mark((function a(){var n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={id:t},a.next=3,Object(s["l"])(n).then((function(t){200===t.code?e.$message({type:"success",message:t.message}):e.$message({type:"warning",message:t.message})}));case 3:r={rela:e.AddRelaId},e.get_getPurchorderPaymentList(r);case 5:case"end":return a.stop()}}),a)})))).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},getPurchaseDelete:function(t,e){var a=this;Object(s["A"])(t).then((function(t){if(a.loadingQuery=!1,a.dialogFormVisible=!1,200===t.code){var n=a.tableData;Object(d["a"])(n,e),a.$message({message:"删除成功",type:"success"})}else a.$message({message:t.message,type:"warning"})}))}},mounted:function(){this.stateList=[{id:101602,namecode:"待收货入库"},{id:101603,namecode:"已入库"}]},activated:function(){var t=this;setTimeout((function(){t.$refs.TableData.bodyWrapper.scrollTop=t.scrollTop,t.$refs.TableData.bodyWrapper.scrollLeft=t.scrollLeft}),60)},beforeRouteLeave:function(t,e,a){this.scrollTop=this.$refs.TableData.bodyWrapper.scrollTop,this.scrollLeft=this.$refs.TableData.bodyWrapper.scrollLeft,a()}},D=O,w=(a("c580"),Object(v["a"])(D,n,r,!1,null,"06c9c73e",null));e["default"]=w.exports},b653:function(t,e,a){"use strict";a("c163")},b8cf:function(t,e,a){},ba10:function(t,e,a){"use strict";a.d(e,"h",(function(){return i})),a.d(e,"M",(function(){return o})),a.d(e,"f",(function(){return s})),a.d(e,"g",(function(){return l})),a.d(e,"l",(function(){return u})),a.d(e,"D",(function(){return c})),a.d(e,"p",(function(){return d})),a.d(e,"E",(function(){return m})),a.d(e,"q",(function(){return p})),a.d(e,"z",(function(){return f})),a.d(e,"L",(function(){return h})),a.d(e,"r",(function(){return g})),a.d(e,"C",(function(){return b})),a.d(e,"N",(function(){return y})),a.d(e,"o",(function(){return v})),a.d(e,"y",(function(){return P})),a.d(e,"O",(function(){return _})),a.d(e,"v",(function(){return O})),a.d(e,"w",(function(){return D})),a.d(e,"m",(function(){return w})),a.d(e,"e",(function(){return j})),a.d(e,"H",(function(){return I})),a.d(e,"n",(function(){return S})),a.d(e,"t",(function(){return x})),a.d(e,"I",(function(){return k})),a.d(e,"s",(function(){return T})),a.d(e,"j",(function(){return C})),a.d(e,"k",(function(){return L})),a.d(e,"u",(function(){return U})),a.d(e,"K",(function(){return E})),a.d(e,"G",(function(){return N})),a.d(e,"c",(function(){return $})),a.d(e,"B",(function(){return A})),a.d(e,"J",(function(){return G})),a.d(e,"i",(function(){return z})),a.d(e,"A",(function(){return F})),a.d(e,"Z",(function(){return R})),a.d(e,"X",(function(){return M})),a.d(e,"P",(function(){return V})),a.d(e,"b",(function(){return B})),a.d(e,"U",(function(){return Q})),a.d(e,"S",(function(){return q})),a.d(e,"R",(function(){return W})),a.d(e,"T",(function(){return H})),a.d(e,"F",(function(){return J})),a.d(e,"d",(function(){return K})),a.d(e,"a",(function(){return Y})),a.d(e,"ab",(function(){return Z})),a.d(e,"Q",(function(){return X})),a.d(e,"Y",(function(){return tt})),a.d(e,"W",(function(){return et})),a.d(e,"x",(function(){return at})),a.d(e,"V",(function(){return nt}));var n=a("5530"),r=a("83c3");function i(t){return Object(r["a"])({url:"/admin/customer/detail/schedule/getCustomerOrdersStatisticList",method:"GET",params:t})}function o(t){return Object(r["a"])({url:"/admin/excel/financeCustomerOrdersStatistic",method:"GET",params:t})}function s(t){return Object(r["a"])({url:"/admin/customer/order/getCustomer",method:"GET",params:t})}function l(t){return Object(r["a"])({url:"/admin/customer/detail/schedule/getCustomerOrdersFinanceList",method:"GET",params:t})}function u(t){return Object(r["a"])({url:"/admin/excel/financeCustomerOrdersDetail",method:"GET",params:t})}function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(r["a"])({url:"/admin/data/selectByCond/I_purchase_plan_finance/find?pageNo="+e,method:"post",data:t})}function d(t){return Object(r["a"])({url:"/admin/excel/financeNormPurchase",method:"GET",params:t})}function m(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(r["a"])({url:"/admin/data/selectByCond/I_purchase_plan_details_list/find?pageNo="+e,method:"post",data:t})}function p(t){return Object(r["a"])({url:"/admin/excel/financePurchaseDetailTable",method:"GET",params:t})}function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(r["a"])({url:"/admin/data/selectByCond/I_purchase_warehouse/find?pageNo="+e,method:"post",data:t})}function h(t){return Object(r["a"])({url:"/admin/material/supplier/list/page",method:"post",data:Object(n["a"])(Object(n["a"])({},t),{},{pageSize:100})})}function g(t){return Object(r["a"])({url:"/admin/excel/financePurchaseWarehouseDetail",method:"GET",params:t})}function b(t){return Object(r["a"])({url:"/product/getAllProductInfo",method:"GET",params:t})}function y(t){return Object(r["a"])({url:"/admin/excel/financeDeliverOutboundDetail",method:"GET",params:t})}function v(t){return Object(r["a"])({url:"/admin/excel/financeProductionStatistical",method:"GET",params:t})}function P(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(r["a"])({url:"/admin/data/selectByCond/I_purchase_warehouse_details/findPurchaseWarehouseDetails?pageNo="+e,method:"post",data:t})}function _(t){return Object(r["a"])({url:"/admin/excel/financePurchaseStorage",method:"GET",params:t})}function O(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(r["a"])({url:"/admin/data/selectByCond/I_deliver_outbound/findDeliverOutboundList?pageNo="+e,method:"post",data:t})}function D(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(r["a"])({url:"/admin/data/selectByCond/I_deliver_outbound_details_list/findDeliverOutboundDetailsList?pageNo="+e,method:"post",data:t})}function w(t){return Object(r["a"])({url:"/admin/excel/financeDeliverOutbound",method:"GET",params:t})}function j(t){return Object(r["a"])({url:"/admin/customer/order/getCustomer",method:"GET",params:t})}function I(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(r["a"])({url:"/admin/data/selectByCond/I_outturn_plan_finance/findOutturnPlanList?pageNo="+e,method:"post",data:t})}function S(t){return Object(r["a"])({url:"/admin/excel/financeOutturnPlan",method:"GET",params:t})}function x(t){return Object(r["a"])({url:"/admin/excel/financeStandardLossOverflow",method:"GET",params:t})}function k(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(r["a"])({url:"/admin/data/selectByCond/I_outturn_plan_list_finance/findOutturnPlanDetailsList?pageNo="+e,method:"post",data:t})}function T(t){return Object(r["a"])({url:"/admin/excel/financeStandardLossOverflowDetail",method:"GET",params:t})}function C(){return Object(r["a"])({url:"/admin/factory/getFactoryList",method:"get"})}function L(t){return Object(r["a"])({url:"/admin/factory/getFactoryList",method:"GET",params:t})}function U(t){return Object(r["a"])({url:"/orderReturn/selectProdorderReturnList",method:"get",params:t})}function E(){return Object(r["a"])({url:"/admin/material/supplier/list",method:"get"})}function N(t){return Object(r["a"])({url:"/orderReturn/selectPurchorderReturnList",method:"get",params:t})}function $(t){return Object(r["a"])({url:"/admin/financial/breakageStatisticsAnalyse",method:"post",data:t})}function A(t){return Object(r["a"])({url:"/payment/getProdorderPaymentList",method:"GET",params:t})}function G(t){return Object(r["a"])({url:"/payment/saveProdorderPayment",method:"POST",data:t})}function z(t){return Object(r["a"])({url:"/payment/deleteProdorderPayment",method:"POST",data:t})}function F(t){return Object(r["a"])({url:"/payment/getProdorderPayment",method:"POST",data:t})}function R(t){return Object(r["a"])({url:"/payment/selectPlanPaymentList",method:"GET",params:t})}function M(t){return Object(r["a"])({url:"/payment/savePaymentInfo",method:"POST",data:t})}function V(t){return Object(r["a"])({url:"/payment/insertPlanPayment",method:"POST",data:t})}function B(t){return Object(r["a"])({url:"/payment/auditPlanPayment",method:"POST",data:t})}function Q(t){return Object(r["a"])({url:"/admin/purch/pay/selectPlanPaymentList",method:"GET",params:t})}function q(t){return Object(r["a"])({url:"/admin/purch/pay/insertPlanPayment",method:"POST",data:t})}function W(t){return Object(r["a"])({url:"/admin/purch/pay/auditPlanPayment",method:"POST",data:t})}function H(t){return Object(r["a"])({url:"/admin/purch/pay/savePaymentInfo",method:"POST",data:t})}function J(t){return Object(r["a"])({url:"/admin/purch/pay/getPurchorderPaymentList",method:"GET",params:t})}function K(t){return Object(r["a"])({url:"/admin/purch/pay/deletePurchorderPayment",method:"POST",data:t})}function Y(t){return Object(r["a"])({url:"/admin/purch/pay/updatePlanPayment",method:"POST",data:t})}function Z(t){return Object(r["a"])({url:"/payment/updatePlanPayment",method:"POST",data:t})}function X(t){return Object(r["a"])({url:"/admin/material/supplier/getPayeeInformation",method:"GET",params:t})}function tt(t){return Object(r["a"])({url:"/payment/savePlanPaymentOne",method:"post",data:t})}function et(t){return Object(r["a"])({url:"/admin/purch/pay/saveOnePlanPayment",method:"post",data:t})}function at(t){return Object(r["a"])({url:"/productionPlan/getPlanDetailPaymentList",method:"GET",params:t})}function nt(t){return Object(r["a"])({url:"/payment/rejectPlanPayment",method:"post",data:t})}},c163:function(t,e,a){},c454:function(t,e,a){"use strict";a("e816")},c580:function(t,e,a){"use strict";a("b8cf")},e816:function(t,e,a){},faca:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"","current-page":t.currentPage,"page-sizes":[24,100,200,500,1e3],"page-size":t.pageSize,layout:t.layout,total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},r=[],i=(a("a9e3"),{props:{pageSize:{type:Number,default:10},layout:{type:String,default:"sizes, prev, pager, next"},total:Number,currentPage:Number},data:function(){return{}},mounted:function(){},methods:{handleSizeChange:function(t){this.$emit("handleSizeChange",t)},handleCurrentChange:function(t){this.$emit("handleCurrentChange",t)}}}),o=i,s=a("2877"),l=Object(s["a"])(o,n,r,!1,null,"1021ea0e",null);e["a"]=l.exports}}]);