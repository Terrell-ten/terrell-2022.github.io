(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-77bc23ad"],{2860:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.state?a("div",[a("el-pagination",{attrs:{"page-sizes":[10,50,100,200],"page-size":24,"current-page":t.currentPage,layout:" prev, next",total:t.allTate},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}})],1):t._e(),t.state?t._e():a("div",[a("el-pagination",{attrs:{"page-sizes":[10,50,100,200],"current-page":t.currentPage,"page-size":t.pageSize,background:"",layout:" prev,pager, next",total:t.allTate},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}})],1)])},r=[],i=(a("a9e3"),{props:{allTate:{type:Number,default:10},state:{type:Number,default:1},pageSize:{type:Number,default:20},currentPage:{type:Number,default:1}},components:{},data:function(){return{}},computed:{},methods:{handleCurrentChange:function(t){this.$emit("handleCurrentChange",t)}},mounted:function(){}}),o=i,u=a("2877"),c=Object(u["a"])(o,n,r,!1,null,"0c3c6104",null);e["a"]=c.exports},"4fe4":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingWeb,expression:"loadingWeb"}],staticClass:"main-conent main-conent-minheight flex-main-conent",attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading"}},[a("div",{staticClass:"flex-box"},[a("div",{staticClass:"flex-top"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",{staticClass:"overall",staticStyle:{"margin-right":"30px"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.clickBack}},[t._v("返回上一页")])],1),a("el-form-item",{staticStyle:{"margin-right":"30px"},attrs:{label:"当前供应商名称："}},[a("div",[t._v(t._s(t.hiddMessage.namecode))])]),t.buttonPermissions.indexOf(106)>=0?a("el-form-item",{staticClass:"overall",staticStyle:{"margin-right":"30px"}},[a("el-button",{attrs:{type:"primary",loading:t.loadingMaterial},on:{click:t.clickMaterial}},[t._v("添加供应包材")])],1):t._e(),a("el-form-item",{staticStyle:{"margin-right":"30px"},attrs:{label:"包材名称"}},[a("el-input",{model:{value:t.searchstr,callback:function(e){t.searchstr=e},expression:"searchstr"}})],1),a("el-button",{staticStyle:{"margin-right":"30px"},attrs:{type:"primary",disabled:t.loadingTab},on:{click:t.onSubmit}},[t._v("查询")])],1)],1),a("div",{staticClass:"flex-cont"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingTab,expression:"loadingTab"}],staticStyle:{width:"100%"},attrs:{stripe:"",data:t.tableData,border:"",height:"100%"}},[a("el-table-column",{attrs:{prop:"id",label:"标识",width:"50",align:"center"}}),a("el-table-column",{attrs:{prop:"namecode",label:"包材名称",align:"center","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"specification",label:"规格",align:"center"}}),a("el-table-column",{attrs:{prop:"unit",label:"单位",align:"center"}}),a("el-table-column",{attrs:{prop:"minimun",label:"采购起订量",align:"center"}}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-dropdown",{attrs:{size:"small"}},[a("el-button",{attrs:{type:"primary"}},[t._v(" 菜单"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t.buttonPermissions.indexOf(110)>=0?a("el-dropdown-item",{nativeOn:{click:function(a){return t.disposition(e.row.id)}}},[t._v("配置财务参数")]):t._e(),t.buttonPermissions.indexOf(109)>=0?a("el-dropdown-item",{nativeOn:{click:function(a){return t.edit(e.row)}}},[t._v("修改")]):t._e(),a("el-dropdown-item",{nativeOn:{click:function(a){return t.returns2(e.row)}}},[t._v("返配置项信息")]),t.buttonPermissions.indexOf(10080)>=0?a("el-dropdown-item",{nativeOn:{click:function(a){return t.delete_aterial(e.row)}}},[t._v("删除")]):t._e()],1)],1)]}}])})],1)],1),a("div",{staticClass:"flex-button"},[a("div",{staticClass:"margin-t16 text-right"},[a("AppPaging",{attrs:{total:t.allTate,pageSize:t.paramData.pageSize,currentPage:t.paramData.page},on:{handleCurrentChange:t.handleCurrentChange,handleSizeChange:t.handleSizeChange}})],1)])]),a("el-dialog",{attrs:{title:"添加可采购包材",visible:t.dialogTableVisible,width:"55%"},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.formQuery}},[a("el-form-item",{staticClass:"overall",attrs:{label:"包材名称"}},[a("el-input",{attrs:{clearable:""},model:{value:t.formQuery.namecode,callback:function(e){t.$set(t.formQuery,"namecode",e)},expression:"formQuery.namecode"}})],1),a("el-form-item",{staticClass:"overall"},[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmitQuery}},[t._v("查询")])],1)],1),a("el-table",{ref:"multipleTable",attrs:{data:t.gridData,"max-height":"400px",border:"","row-key":t.getRowKeys,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",selectable:t.checkSelectable,"reserve-selection":!0,width:"55"}}),a("el-table-column",{attrs:{type:"index",label:"序号",width:"50",align:"center"}}),a("el-table-column",{attrs:{property:"optdate",label:"日期",width:"150"}}),a("el-table-column",{attrs:{property:"namecode",label:"包材名称",width:"200","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{property:"specification",label:"规格"}}),a("el-table-column",{attrs:{property:"price",label:"采购单价"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{disabled:e.row.isedit},model:{value:e.row.pricenew,callback:function(a){t.$set(e.row,"pricenew",a)},expression:"scope.row.pricenew"}})]}}])}),a("el-table-column",{attrs:{property:"unit",label:"标准单位"}}),a("el-table-column",{attrs:{property:"unit",label:"采购单位",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{attrs:{placeholder:"请选择采购单位",disabled:e.row.isedit},on:{"visible-change":function(a){return t.getunitnew(a,e.row.id)},change:function(a){return t.unitnewchange(a,e.row)}},model:{value:e.row.unitnew,callback:function(a){t.$set(e.row,"unitnew",a)},expression:"scope.row.unitnew"}},t._l(t.unitListnew,(function(t){return a("el-option",{key:t.namecode,attrs:{label:t.namecode,value:t.namecode}})})),1)]}}])})],1),a("div",{staticClass:"margin-t16 text-right"},[a("div",{staticClass:"pages"},[a("AppPage",{attrs:{allTate:t.allTateExis,state:0,pageSize:20,currentPage:t.currentPageExis},on:{handleCurrentChange:t.clickCurrentChangeExis}})],1)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.pushMaterialScience("ruleForm")}}},[t._v("添 加")])],1)],1),a("el-dialog",{attrs:{title:"修改包材",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.close2}},[a("el-form",{attrs:{model:t.formDetil}},[a("el-form-item",{attrs:{label:"包材名称：","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off",disabled:t.isDisabled},model:{value:t.formDetil.namecode,callback:function(e){t.$set(t.formDetil,"namecode",e)},expression:"formDetil.namecode"}})],1),a("div",{staticStyle:{display:"flex"}},[a("el-form-item",{attrs:{label:"采购单价(元)：","label-width":t.formLabelWidth}},[a("el-input",{attrs:{type:"number",autocomplete:"off"},model:{value:t.formDetil.price,callback:function(e){t.$set(t.formDetil,"price",e)},expression:"formDetil.price"}})],1),a("el-form-item",{staticStyle:{flex:"2","margin-left":"36px"}},[a("el-radio-group",{model:{value:t.TaxRateRadio,callback:function(e){t.TaxRateRadio=e},expression:"TaxRateRadio"}},[a("el-radio",{attrs:{label:1}},[t._v("不含税率")]),a("el-radio",{attrs:{label:2}},[t._v("含税率")])],1)],1),"1"==t.TaxRateRadio?a("el-form-item",{staticStyle:{flex:"4"},attrs:{label:"税率：","label-width":"90px"}},[a("el-input",{attrs:{clearable:""},on:{change:t.taxRateNmu},model:{value:t.packMaterialConfig.tax_rate,callback:function(e){t.$set(t.packMaterialConfig,"tax_rate",e)},expression:"packMaterialConfig.tax_rate"}}),a("span",{staticStyle:{color:"red"}},[t._v("提示：请输入0到1之内的值")])],1):t._e()],1),a("el-form-item",{attrs:{label:"规格：","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off",disabled:t.isDisabled},model:{value:t.formDetil.specification,callback:function(e){t.$set(t.formDetil,"specification",e)},expression:"formDetil.specification"}})],1),a("el-form-item",{attrs:{label:"单位：","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择活动区域："},on:{change:t.unitnewchange2},model:{value:t.formDetil.unit,callback:function(e){t.$set(t.formDetil,"unit",e)},expression:"formDetil.unit"}},t._l(t.unitList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.namecode,value:t.namecode}})})),1),a("span",{staticStyle:{"margin-left":"15px"}},[t._v(t._s(t.conversionRatio))])],1),"***"!==t.packMaterialConfig.minimum?a("el-form-item",{attrs:{label:"起订量：","label-width":t.formLabelWidth}},[a("el-input",{attrs:{type:"number",autocomplete:"off"},model:{value:t.packMaterialConfig.minimum,callback:function(e){t.$set(t.packMaterialConfig,"minimum",e)},expression:"packMaterialConfig.minimum"}})],1):t._e()],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.editClick}},[t._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"配置材料信息",visible:t.dialogFinancialFormVisible},on:{"update:visible":function(e){t.dialogFinancialFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"结算方式","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formFinancial.settlement_method,callback:function(e){t.$set(t.formFinancial,"settlement_method",e)},expression:"formFinancial.settlement_method"}},t._l(t.optionsRate,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFinancialFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.configMaterialInfoClick}},[t._v("确 定")])],1)],1),a("FhpzDemo",{ref:"FhpzDemo"})],1)},r=[],i=a("5530"),o=(a("d3b7"),a("159b"),a("b64b"),a("d81d"),a("a9e3"),a("2f62")),u=a("c30f"),c=a("ef7e"),l=a("a80d"),d=a("7c58"),s=a("82d2"),m=a("2860"),p=a("2f88"),f=a("11ae"),h={components:{FhpzDemo:f["a"],AppPaging:p["a"],AppPage:m["a"]},data:function(){return{edit_unit:"",searchstr:"",conversionRatio:"",num1:0,num2:0,num3:0,num4:0,pricenew2:"",rowdata1:[],unitListnew:[],threshold:s["b"],hiddMessage:{},loadingWeb:!1,svalue1:"",svalue2:"",loadingTab:!1,tableData:[{id:1,pidid:1,pidname:"一级",typename:["黄","38度"],status:1,img:"https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=1066879593,2077363655&fm=26&gp=0.jpg"}],loadingMaterial:!1,allTate:0,currentPage:1,dialogTableVisible:!1,loadingAdd:!1,allTateExis:20,currentPageExis:1,formQuery:{factoryId:""},paramData:{page:1,pageSize:24},form:{},dialogFormVisible:!1,formLabelWidth:"120px",formDetil:{namecode:"",price:"",specification:"",unit:""},packMaterialConfig:{thresholds:1,loss_rate:0,minimum:"",tax_rate:0},unitList:[],multipleSelection:[],loadingQuery:!1,options:[],optionsFactory:[],optionsGoods:[],gridData:[],formFinancial:{minimum:"",settlement_method:"",loss_rate:"",tax_rate:1},optionsMethod:[{value:1,label:"1%"},{value:2,label:"2%"},{value:3,label:"3%"},{value:4,label:"4%"},{value:5,label:"5%"},{value:6,label:"6%"},{value:7,label:"7%"},{value:8,label:"8%"},{value:9,label:"9%"},{value:10,label:"10%"}],optionsMethod1:[{value:0,label:"0%"},{value:1,label:"1%"},{value:2,label:"2%"},{value:3,label:"3%"},{value:4,label:"4%"},{value:5,label:"5%"},{value:6,label:"6%"},{value:7,label:"7%"},{value:8,label:"8%"},{value:9,label:"9%"},{value:10,label:"10%"},{value:11,label:"11%"},{value:12,label:"12%"},{value:13,label:"13%"},{value:14,label:"14%"},{value:15,label:"15%"},{value:16,label:"16%"},{value:17,label:"17%"},{value:18,label:"18%"},{value:19,label:"19%"},{value:20,label:"20%"}],buttonPermissions:[],optionsRate:[{value:101502,label:"一次性到付"},{value:101501,label:"预付（二次）"}],financialId:"",dialogFinancialFormVisible:!1,isDisabled:!0,TaxRateRadio:1}},computed:Object(i["a"])({},Object(o["c"])({roles:"roles",userId:"user/userId",name:"user/name"})),created:function(){var t=this;this.buttonPermissions=this.roles[0].buttonPermissions,Object(c["g"])().then((function(e){200===e.code?t.optionsFactory=e.data:t.$message.warning(e.message)})),this.hiddMessage=this.$route.query,this.formQuery.materialSupplierId=this.hiddMessage.id,this.onSubmit(),this.getSupplierList(),this.getAllProductInfo()},methods:{returns2:function(t){this.$refs.FhpzDemo.init(t,this.formQuery.materialSupplierId)},onSubmit:function(){var t=this.formQuery,e=Object(i["a"])(Object(i["a"])({},t),{},{page:1,pageSize:this.paramData.pageSize,materialName:this.searchstr});Object.keys(e).forEach((function(t){var a=e[t];""===a&&delete e[t]})),this.paramData=e,this.getMaterialList(e)},getMaterialList:function(t){var e=this;this.loadingTab=!0,Object(u["g"])(t).then((function(t){if(e.loadingWeb=!1,e.loading=!1,e.loadingTab=!1,200===t.code){if(!t.data.list.length)return e.tableData=t.data.list,e.allTate=t.data.total,void(e.currentPage=t.data.pageNum);var a=t.data.list.map((function(t){return t}));e.tableData=a,e.allTate=t.data.total,e.currentPage=t.data.pageNum}}))},handleSizeChange:function(t){this.paramData.pageSize=t,this.handleCurrentChange(1)},handleCurrentChange:function(t){this.paramData.page=t,this.getMaterialList(this.paramData)},delete_aterial:function(t){var e=this;this.$confirm("你将删除供应商的包材, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a={I_supplier:Number(e.$route.query.id),I_material:t.data};e.set_delete_supplier_optuser(a)})).catch((function(){}))},set_delete_supplier_optuser:function(t){var e=this;Object(u["e"])(t).then((function(t){200===t.code&&(t.data&&t.data[0].flag>0?(e.$message.success(t.data[0].result),e.onSubmit()):e.$message.warning(t.message))}))},close2:function(){this.num2=0},lossRateNmu:function(){this.packMaterialConfig.loss_rate>1&&(this.$message.warning("请输入请输入小于1之内的值"),this.packMaterialConfig.loss_rate=0)},taxRateNmu:function(){this.packMaterialConfig.tax_rate>1&&(this.$message.warning("请输入请输入小于1之内的值"),this.packMaterialConfig.tax_rate=0)},unitnewchange:function(t,e){var a={};0===this.num3?(a={currentPrice:e.pricenew,currentUnit:e.unit,productId:e.id,targetUnit:e.unitnew},this.num3++):a={currentPrice:e.pricenew,currentUnit:this.num4,productId:e.id,targetUnit:e.unitnew},this.num4=t,Object(u["d"])(a).then((function(t){e.pricenew=t.data}))},unitnewchange2:function(t){var e=this,a=this.rowdata1,n={};Object(u["j"])({productId:a.data,unit:t}).then((function(a){e.unitList=a.data,e.unitList.forEach((function(t){t.namecode===e.edit_unit&&(e.conversionRatio=t.conversionRatio)})),e.edit_unit=t})),0===this.num2?(n={currentPrice:this.formDetil.price,currentUnit:a.unit,productId:a.data,targetUnit:t},this.num2++):n={currentPrice:this.formDetil.price,currentUnit:this.num1,productId:a.data,targetUnit:t},this.num1=t,Object(u["d"])(n).then((function(t){e.formDetil.price=Math.round(100*t.data)/100,e.tableData.forEach((function(a){a.id===e.rowdata1.id&&(a.price=t.data)}))}));var r=n;r.currentPrice=this.packMaterialConfig.minimum,Object(u["c"])(n).then((function(t){e.packMaterialConfig.minimum=t.data}))},getunitnew:function(t,e){var a=this;t&&Object(u["i"])({productId:e}).then((function(t){a.unitListnew=t.data}))},getMaterialConfigInfoById:function(t){var e=this;Object(u["f"])({},t).then((function(t){200===t.code?e.formFinancial=t.data:e.$message({message:t.message,type:"warning"})}))},getAllProductInfo:function(){var t=this,e={};Object(l["d"])(e).then((function(e){200===e.code?t.optionsGoods=e.data:t.$message({message:e.message,type:"warning"})}))},clickBack:function(){this.$router.go(-1)},clickMaterial:function(){this.dialogTableVisible=!0;var t={page:1,pageSize:20};this.getMaterialeExistsList(t)},getSupplierList:function(){var t=this;Object(d["P"])().then((function(e){200===e.code?t.options=e.data:t.$message({message:e.message,type:"warning"})}))},pushMaterialScience:function(){var t=this;this.loadingMaterial=!0;var e=[];this.multipleSelection.map((function(t){e.push({price:parseFloat(t.pricenew),unit:t.unitnew,productId:t.id})}));var a={materialSupplierId:parseInt(this.hiddMessage.id),productIdAndPriceList:e};Object(u["k"])(a).then((function(e){if(t.loadingMaterial=!1,200===e.code){t.dialogTableVisible=!1,t.$message({message:"成功添加供应商品！",type:"success"});var a={page:1,pageSize:20,materialSupplierId:t.$route.query.id};t.getMaterialList(a)}else t.$message({message:e.message,type:"warning"})}))},onSubmitQuery:function(){this.loadingQuery=!0;var t=this.formQuery;t.namecode||delete t.namecode,t.productId||delete t.productId,t.factoryId||delete t.factoryId,this.getMaterialeExistsList(t)},handleSelectionChange:function(t){this.gridData.forEach((function(t){t.isedit=!0})),t.forEach((function(t){t.isedit=!1})),this.multipleSelection=t},getRowKeys:function(t){return t.id},getMaterialeExistsList:function(t){var e=this,a=Object(i["a"])({supplierId:this.$route.query.id},t);Object(u["h"])(a).then((function(t){if(200===t.code){e.loadingWeb=!1,e.loadingQuery=!1;for(var a=e.tableData,n=[],r=0;r<a.length;r++)n.push(a[r].data);var i=t.data.list.map((function(t){return t.stateNum=-1!==n.indexOf(t.id)?2:1,t.pricenew=t.price,t.unitnew=t.unit,t}));i.forEach((function(t){t.isedit=!0})),e.gridData=i,e.allTateExis=t.data.total,e.currentPageExis=t.data.pageNum}else e.$message({message:t.message,type:"warning"});e.loading=!1}))},checkSelectable:function(t){return 2!==t.stateNum},clickCurrentChangeExis:function(t){var e={page:t,pageSize:20};this.getMaterialeExistsList(e)},again:function(){},disposition:function(t){this.financialId=t,this.dialogFinancialFormVisible=!0,this.getMaterialConfigInfoById(t)},configMaterialInfoClick:function(){var t=this,e=Object(i["a"])(Object(i["a"])({},this.formFinancial),{},{id:this.financialId});Object(u["b"])(e).then((function(e){if(200===e.code){t.$message({message:"财务参数配置成功",type:"success"});var a={page:1,pageSize:20,materialSupplierId:t.$route.query.id};t.getMaterialList(a),t.dialogFinancialFormVisible=!1,t.formFinancial={cycle_dayNum:"",minimum:"",return_than:"",return_threshold:"",return_total:"",settlement_method:""}}else t.$message({message:e.message,type:"warning"})}))},edit:function(t){var e=this;this.edit_unit=t.unit,this.formDetil={namecode:"",price:"",specification:"",unit:""},this.rowdata1=t,this.dialogFormVisible=!0;var a={id:t.id};Object(u["l"])(a).then((function(a){200===a.code?(e.formDetil=a.data,e.packMaterialConfig=a.data.packMaterialConfig,null!==e.packMaterialConfig.minimum&&""!==e.packMaterialConfig.minimum||(e.packMaterialConfig.minimum=0),null!==e.packMaterialConfig.tax_rate&&""!==e.packMaterialConfig.tax_rate||(e.packMaterialConfig.tax_rate=0),e.packMaterialConfig.tax_rate>0?e.TaxRateRadio=1:e.TaxRateRadio=2,Object(u["j"])({productId:a.data.data,unit:t.unit}).then((function(t){e.unitList=t.data,t.data[0],e.conversionRatio=""}))):e.$message({message:a.message,type:"warning"}),e.loading=!1}))},editClick:function(){var t=this;delete this.formDetil.packMaterialConfig.settlement_method,2===this.TaxRateRadio&&(this.packMaterialConfig.tax_rate=0),Object(u["m"])(this.formDetil).then((function(e){if(200===e.code){t.$message({type:"success",message:"修改成功!"});for(var a=t.tableData,n=0;n<a.length;n++)a[n].id===t.formDetil.id&&(a[n].namecode=t.formDetil.namecode,a[n].specification=t.formDetil.specification,a[n].unit=t.formDetil.unit,a[n].price=t.formDetil.price);t.dialogFormVisible=!1;var r={page:1,pageSize:20,materialSupplierId:t.$route.query.id};t.getMaterialList(r)}else t.$message({message:e.message,type:"warning"})}))},dele:function(t){var e=this;this.$confirm("此操作将下架商品, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.configMaterialDown(t)})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},configMaterialDown:function(t){var e=this;Object(u["a"])({idList:[t]}).then((function(a){if(200===a.code){e.$message({type:"success",message:"下架成功!"});for(var n=e.tableData,r=0;r<n.length;r++)n[r].id===t&&(n[r].nodetype="8")}else e.$message({message:a.message,type:"warning"})}))},add:function(){this.$router.push({path:"MaterialScienceadd"})}},mounted:function(){}},g=h,b=(a("564f"),a("2877")),O=Object(b["a"])(g,n,r,!1,null,"53860ac5",null);e["default"]=O.exports},"564f":function(t,e,a){"use strict";a("c02a")},"7c58":function(t,e,a){"use strict";a.d(e,"C",(function(){return r})),a.d(e,"y",(function(){return i})),a.d(e,"R",(function(){return o})),a.d(e,"g",(function(){return u})),a.d(e,"gb",(function(){return c})),a.d(e,"D",(function(){return l})),a.d(e,"G",(function(){return d})),a.d(e,"F",(function(){return s})),a.d(e,"s",(function(){return m})),a.d(e,"N",(function(){return p})),a.d(e,"S",(function(){return f})),a.d(e,"m",(function(){return h})),a.d(e,"Z",(function(){return g})),a.d(e,"B",(function(){return b})),a.d(e,"H",(function(){return O})),a.d(e,"A",(function(){return P})),a.d(e,"L",(function(){return v})),a.d(e,"o",(function(){return j})),a.d(e,"u",(function(){return y})),a.d(e,"f",(function(){return w})),a.d(e,"n",(function(){return k})),a.d(e,"h",(function(){return x})),a.d(e,"bb",(function(){return _})),a.d(e,"z",(function(){return S})),a.d(e,"E",(function(){return T})),a.d(e,"k",(function(){return C})),a.d(e,"T",(function(){return D})),a.d(e,"I",(function(){return M})),a.d(e,"J",(function(){return I})),a.d(e,"j",(function(){return L})),a.d(e,"w",(function(){return $})),a.d(e,"v",(function(){return E})),a.d(e,"P",(function(){return F})),a.d(e,"x",(function(){return R})),a.d(e,"M",(function(){return N})),a.d(e,"l",(function(){return z})),a.d(e,"K",(function(){return B})),a.d(e,"X",(function(){return G})),a.d(e,"e",(function(){return A})),a.d(e,"cb",(function(){return V})),a.d(e,"O",(function(){return Q})),a.d(e,"db",(function(){return W})),a.d(e,"ib",(function(){return U})),a.d(e,"r",(function(){return q})),a.d(e,"Q",(function(){return K})),a.d(e,"U",(function(){return J})),a.d(e,"Y",(function(){return H})),a.d(e,"W",(function(){return Y})),a.d(e,"V",(function(){return X})),a.d(e,"eb",(function(){return Z})),a.d(e,"hb",(function(){return tt})),a.d(e,"b",(function(){return et})),a.d(e,"q",(function(){return at})),a.d(e,"fb",(function(){return nt})),a.d(e,"t",(function(){return rt})),a.d(e,"c",(function(){return it})),a.d(e,"d",(function(){return ot})),a.d(e,"i",(function(){return ut})),a.d(e,"a",(function(){return ct})),a.d(e,"p",(function(){return lt})),a.d(e,"ab",(function(){return dt}));var n=a("83c3");function r(t){return Object(n["a"])({url:"/admin/purchase/plan/list/page",method:"post",data:t})}function i(t){return Object(n["a"])({url:"/admin/purchase/plan/detail/list/page",method:"post",data:t})}function o(t){return Object(n["a"])({url:"/admin/product/unit/getUnitsToPlan",method:"GET",params:t})}function u(t){return Object(n["a"])({url:"/admin/pack/material/conversionPrice",method:"post",data:t})}function c(t){return Object(n["a"])({url:"/admin/purchase/plan/updatePurchasePlanUnit",method:"POST",data:t})}function l(t){return Object(n["a"])({url:"/admin/purchase/plan/getPurchaseMaterialList",method:"post",data:t})}function d(t){return Object(n["a"])({url:"/admin/purchase/plan/merge",method:"post",data:t})}function s(t){return Object(n["a"])({url:"admin/purchase/plan/merge",method:"post",data:t})}function m(t){return Object(n["a"])({url:"/admin/excel/operationPurchasePlanDetail",method:"GET",params:t})}function p(t){return Object(n["a"])({url:"/admin/purchase/plan/status/list",method:"GET",data:t})}function f(t){return Object(n["a"])({url:"/admin/excel/operationPurchasePlanDetail",method:"GET",params:t})}function h(t){return Object(n["a"])({url:"/admin/factory/getFactoryList",method:"get",params:t})}function g(t){return Object(n["a"])({url:"/admin/purchase/plan/insert",method:"post",data:t})}function b(t){return Object(n["a"])({url:"/admin/purchase/plan/get",method:"GET",params:t})}function O(t){return Object(n["a"])({url:"/admin/purchase/plan/update",method:"POST",data:t})}function P(t){return Object(n["a"])({url:"/admin/purchase/plan/delete",method:"POST",data:t})}function v(t){return Object(n["a"])({url:"/admin/purchase/plan/purchaseGoodsWarehousing",method:"POST",data:t})}function j(t){return Object(n["a"])({url:"/admin/factory/purchase/plan/all/list",method:"POST",data:t})}function y(t){return Object(n["a"])({url:"/admin/factory/purchase/plan/status/list",method:"GET",params:t})}function w(t){return Object(n["a"])({url:"admin/data/execProcedure/cm_list_batchout?pageNo=0",method:"post",data:t})}function k(t){return Object(n["a"])({url:"/admin/factory/getFactoryList",method:"GET",params:t})}function x(t){return Object(n["a"])({url:"/admin/data/execProcedure/create_prodplan?pageNo=0",method:"POST",data:t})}function _(t){return Object(n["a"])({url:"/admin/customer/detail/schedule/selectCustomerOrderList",method:"GET",params:t})}function S(t){return Object(n["a"])({url:"/productionPlan/getProductPlanstockList",method:"GET",params:t})}function T(t){return Object(n["a"])({url:"/admin/factory/purchase/plan/get",method:"GET",params:t})}function C(t){return Object(n["a"])({url:"/admin/factory/purchase/plan/confirmPurchase",method:"POST",data:t})}function D(t){return Object(n["a"])({url:"/admin/excel/prePurchasePlan",method:"GET",params:t})}function M(t){return Object(n["a"])({url:"/admin/pre/purchase/plan/all/list",method:"POST",data:t})}function I(t){return Object(n["a"])({url:"/admin/pre/purchase/plan/get",method:"GET",params:t})}function L(t){return Object(n["a"])({url:"/admin/pre/purchase/plan/confirmPurchase",method:"POST",data:t})}function $(t){return Object(n["a"])({url:"/admin/purchase/plan/getPurchaseArrangementList",method:"POST",data:t})}function E(t){return Object(n["a"])({url:"/admin/purchase/plan/getPlantmpList",method:"POST",data:t})}function F(t){return Object(n["a"])({url:"/admin/material/supplier/list",method:"GET",data:t})}function R(t){return Object(n["a"])({url:"/payment/getProdorderPaymentList",method:"GET",params:t})}function N(t){return Object(n["a"])({url:"/payment/savePurchorderPayment",method:"POST",data:t})}function z(t){return Object(n["a"])({url:"/payment/deletePurchorderPayment",method:"POST",data:t})}function B(t){return Object(n["a"])({url:"/payment/getPurchorderPayment",method:"POST",params:t})}function G(t){return Object(n["a"])({url:"/admin/data/execProcedure/cm_list_batch?pageNo=1",method:"POST",data:t})}function A(t){return Object(n["a"])({url:"/admin/data/execProcedure/cm_list_batch?pageNo=0",method:"POST",data:t})}function V(t){return Object(n["a"])({url:"/product/selectProductList",method:"GET",params:t})}function Q(t){return Object(n["a"])({url:"/admin/purchase/plan/getStatisticsList",method:"POST",data:t})}function W(t){return Object(n["a"])({url:"/admin/material/supplier/supplierList",method:"get",params:t})}function U(t){return Object(n["a"])({url:"/admin/purchase/plan/updateSupplier",method:"post",data:t})}function q(t){return Object(n["a"])({url:"/admin/purchase/plan/getMaterialPurchstockList",method:"post",data:t})}function K(t){return Object(n["a"])({url:"/admin/material/supplier/getSupplierListByProductId",method:"get",params:t})}function J(t){return Object(n["a"])({url:"/admin/data/execProcedure/create_purchplan?pageNo=0",method:"POST",data:t})}function H(t){return Object(n["a"])({url:"/admin/purchase/plan/purchaseGoodsBatchWarehouse",method:"post",data:t})}function Y(t){return Object(n["a"])({url:"/admin/purch/detail/materialsAreStoredInBatchesTwo",method:"post",data:t})}function X(t){return Object(n["a"])({url:"/admin/purch/detail/materialsAreStoredInBatches",method:"post",data:t})}function Z(t){return Object(n["a"])({url:"/admin/purchase/plan/updateDetailRemarks",method:"post",data:t})}function tt(t){return Object(n["a"])({url:"/admin/purchase/plan/updateRemarks",method:"post",data:t})}function et(t){return Object(n["a"])({url:"/admin/purchase/plan/auditPurchPlan",method:"post",data:t})}function at(t){return Object(n["a"])({url:"/admin/purchase/plan/getMaterialPurchstock",method:"get",params:t})}function nt(t){return Object(n["a"])({url:"/admin/purchase/plan/updatePurchPlanDetail",method:"post",data:t})}function rt(t){return Object(n["a"])({url:"/admin/factory/getPayeeInformation",method:"get",params:t})}function it(t){return Object(n["a"])({url:"/admin/purchase/plan/cancelPurchasePlan",method:"post",data:t})}function ot(t){return Object(n["a"])({url:"/admin/purchase/plan/cancelPurchasePlanDetail",method:"post",data:t})}function ut(t){return Object(n["a"])({url:"/admin/purchase/plan/confirmPurchase",method:"POST",data:t})}function ct(t){return Object(n["a"])({url:"/admin/data/execProcedure/采购批量操作?pageNo=0",method:"post",data:t})}function lt(t){return Object(n["a"])({url:"/admin/purch/detail/getMaterialInStockRecordList",method:"get",params:t})}function dt(t){return Object(n["a"])({url:"/admin/purch/detail/saveDeliveryVoucher",method:"post",data:t})}},a80d:function(t,e,a){"use strict";a.d(e,"e",(function(){return r})),a.d(e,"m",(function(){return i})),a.d(e,"j",(function(){return o})),a.d(e,"f",(function(){return u})),a.d(e,"n",(function(){return c})),a.d(e,"c",(function(){return l})),a.d(e,"l",(function(){return d})),a.d(e,"a",(function(){return s})),a.d(e,"d",(function(){return m})),a.d(e,"h",(function(){return p})),a.d(e,"i",(function(){return f})),a.d(e,"b",(function(){return h})),a.d(e,"k",(function(){return g})),a.d(e,"g",(function(){return b}));var n=a("83c3");function r(t){return Object(n["a"])({url:"/outturnPlan/selectOutturnPlanList",method:"get",params:t})}function i(t){return Object(n["a"])({url:"/outturnPlan/saveOutturnPlan",method:"post",data:t})}function o(t){return Object(n["a"])({url:"/admin/shopper/warehouse/list",method:"get",params:t})}function u(t){return Object(n["a"])({url:"/outturnPlan/getOutturnPlanListList",method:"get",params:t})}function c(t){return Object(n["a"])({url:"/outturnPlan/updateOutturnPlanList",method:"post",data:t})}function l(t,e){return Object(n["a"])({url:"/outturnPlan/deleteOutturnPlanList?id=".concat(e),method:"post",data:t})}function d(t){return Object(n["a"])({url:"/outturnPlan/auditOutturnPlan",method:"POST",data:t})}function s(t){return Object(n["a"])({url:"/admin/data/deleteById/I_outturn_plan_list?dataId="+t,method:"post",data:[]})}function m(t){return Object(n["a"])({url:"/product/getAllProductInfo",method:"get",params:t})}function p(t){return Object(n["a"])({url:"/product/getProductIdAndName",method:"get",params:t})}function f(t){return Object(n["a"])({url:"/product/getProductIdAndNameTwo",method:"get",params:t})}function h(t,e){return Object(n["a"])({url:"/outturnPlan/deleteOutturnPlan?id="+e,method:"post",data:t})}function g(t){return Object(n["a"])({url:"/admin/excel/operationCausticExcessive2",method:"get",params:t})}function b(t){return Object(n["a"])({url:"/product/getProduct",method:"get",params:t})}},c02a:function(t,e,a){},c30f:function(t,e,a){"use strict";a.d(e,"g",(function(){return r})),a.d(e,"k",(function(){return i})),a.d(e,"l",(function(){return o})),a.d(e,"i",(function(){return u})),a.d(e,"j",(function(){return c})),a.d(e,"d",(function(){return l})),a.d(e,"c",(function(){return d})),a.d(e,"m",(function(){return s})),a.d(e,"h",(function(){return m})),a.d(e,"b",(function(){return p})),a.d(e,"f",(function(){return f})),a.d(e,"a",(function(){return h})),a.d(e,"e",(function(){return g}));var n=a("83c3");function r(t){return Object(n["a"])({url:"/admin/pack/material/list/page",method:"post",data:t})}function i(t){return Object(n["a"])({url:"/admin/pack/material/insert",method:"post",data:t})}function o(t){return Object(n["a"])({url:"/admin/pack/material/get",method:"get",params:t})}function u(t){return Object(n["a"])({url:"/admin/product/unit/getUnitsByProductId",method:"get",params:t})}function c(t){return Object(n["a"])({url:"/admin/product/unit/getUnitsToPlan",method:"get",params:t})}function l(t){return Object(n["a"])({url:"/admin/pack/material/conversionPrice",method:"post",data:t})}function d(t){return Object(n["a"])({url:"/admin/product/unit/conversionNum",method:"get",params:t})}function s(t){return Object(n["a"])({url:"/admin/pack/material/update",method:"post",data:t})}function m(t){return Object(n["a"])({url:"/admin/pack/material/exists/list/page",method:"post",data:t})}function p(t){return Object(n["a"])({url:"/admin/pack/material/configMaterialInfo",method:"POST",data:t})}function f(t,e){return Object(n["a"])({url:"/admin/pack/material/getMaterialConfigInfoById?id="+e,method:"POST",data:t})}function h(t){return Object(n["a"])({url:"/admin/pack/material/down",method:"POST",data:t})}function g(t){return Object(n["a"])({url:"/admin/data/execProcedure/删除供应商包材供应?pageNo=0",method:"post",data:t})}},ef7e:function(t,e,a){"use strict";a.d(e,"r",(function(){return r})),a.d(e,"o",(function(){return i})),a.d(e,"a",(function(){return o})),a.d(e,"q",(function(){return u})),a.d(e,"g",(function(){return c})),a.d(e,"x",(function(){return l})),a.d(e,"e",(function(){return d})),a.d(e,"j",(function(){return s})),a.d(e,"n",(function(){return m})),a.d(e,"s",(function(){return p})),a.d(e,"p",(function(){return f})),a.d(e,"i",(function(){return h})),a.d(e,"l",(function(){return g})),a.d(e,"w",(function(){return b})),a.d(e,"f",(function(){return O})),a.d(e,"u",(function(){return P})),a.d(e,"A",(function(){return v})),a.d(e,"B",(function(){return j})),a.d(e,"t",(function(){return y})),a.d(e,"y",(function(){return w})),a.d(e,"z",(function(){return k})),a.d(e,"k",(function(){return x})),a.d(e,"D",(function(){return _})),a.d(e,"C",(function(){return S})),a.d(e,"h",(function(){return T})),a.d(e,"b",(function(){return C})),a.d(e,"m",(function(){return D})),a.d(e,"v",(function(){return M})),a.d(e,"c",(function(){return I})),a.d(e,"d",(function(){return L}));var n=a("83c3");function r(t){return Object(n["a"])({url:"/productionPlan/audit/list/page",method:"post",data:t})}function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(n["a"])({url:"/admin/data/execProcedure/co_approval_batchmain?pageNo="+e,method:"post",data:t})}function o(t,e){return Object(n["a"])({url:"/admin/data/updateById/I_production_plan?dataId="+e,method:"post",data:t})}function u(t){return Object(n["a"])({url:"/productionPlan/insert",method:"post",data:t})}function c(t){return Object(n["a"])({url:"/admin/factory/getFactoryList",method:"get",data:t})}function l(t){return Object(n["a"])({url:"/product/selectProductPartInfo",method:"get",params:t})}function d(t){return Object(n["a"])({url:"/productionPlan/getCustomerOrderListByAssociateId",method:"get",params:t})}function s(t){return Object(n["a"])({url:"/productionPlan/getPurchasePlanListByAssociateId",method:"get",params:t})}function m(t){return Object(n["a"])({url:"/productionPlan/getProductionPlanListByAssociateId",method:"get",params:t})}function p(t){return Object(n["a"])({url:"/productionPlan/status/list",method:"get",params:t})}function f(t){return Object(n["a"])({url:"/productionPlan/get",method:"GET",params:t})}function h(t){return Object(n["a"])({url:"/admin/excel/operationProductionPlanAudit",method:"get",params:t})}function g(t){return Object(n["a"])({url:"/payment/getProdorderPaymentList",method:"GET",params:t})}function b(t){return Object(n["a"])({url:"/payment/saveProdorderPayment",method:"POST",data:t})}function O(t){return Object(n["a"])({url:"/payment/deleteProdorderPayment",method:"POST",data:t})}function P(t){return Object(n["a"])({url:"/payment/getProdorderPayment",method:"POST",params:t})}function v(t){return Object(n["a"])({url:"/admin/customer/detail/schedule/updateOrderDetailLastDeliveryDate",method:"POST",data:t})}function j(t){return Object(n["a"])({url:"/productionPlan/updatePlanLastDeliveryDate",method:"POST",data:t})}function y(t){return Object(n["a"])({url:"/goodsOutbound/getPurchasePlantmpList",method:"GET",params:t})}function w(t){return Object(n["a"])({url:"/productionPlan/updateRemarks",method:"POST",data:t})}function k(t){return Object(n["a"])({url:"/productionPlan/updateDetailRemarks",method:"POST",data:t})}function x(t){return Object(n["a"])({url:"/productionPlan/getPlanApproveList",method:"GET",params:t})}function _(t){return Object(n["a"])({url:"/productionPlan/updateProductionPlanUnit",method:"POST",data:t})}function S(t){return Object(n["a"])({url:"/productionPlan/updateProductionPlan",method:"POST",data:t})}function T(t){return Object(n["a"])({url:"/productionPlan/getOneProductPlanstock",method:"get",params:t})}function C(t,e){return Object(n["a"])({url:"/admin/data/updateById/I_production_plan_list?dataId="+e,method:"post",data:t})}function D(t){return Object(n["a"])({url:"/productBom/getProductActualBomNumList",method:"get",params:t})}function M(t){return Object(n["a"])({url:"/admin/purchase/plan/getPurchstockListByPlanId",method:"post",data:t})}function I(t){return Object(n["a"])({url:"/productionPlan/cancelProductionPlan",method:"post",data:t})}function L(t){return Object(n["a"])({url:"/productionPlan/cancelProductionPlanDetail",method:"post",data:t})}}}]);