(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f93e86cc"],{"062d":function(t,e,r){"use strict";r.d(e,"z",(function(){return o})),r.d(e,"b",(function(){return i})),r.d(e,"I",(function(){return d})),r.d(e,"F",(function(){return s})),r.d(e,"n",(function(){return c})),r.d(e,"m",(function(){return l})),r.d(e,"o",(function(){return p})),r.d(e,"u",(function(){return m})),r.d(e,"C",(function(){return h})),r.d(e,"x",(function(){return f})),r.d(e,"y",(function(){return g})),r.d(e,"E",(function(){return b})),r.d(e,"k",(function(){return V})),r.d(e,"g",(function(){return y})),r.d(e,"l",(function(){return v})),r.d(e,"j",(function(){return L})),r.d(e,"G",(function(){return j})),r.d(e,"w",(function(){return O})),r.d(e,"K",(function(){return I})),r.d(e,"s",(function(){return w})),r.d(e,"L",(function(){return C})),r.d(e,"J",(function(){return F})),r.d(e,"H",(function(){return _})),r.d(e,"B",(function(){return P})),r.d(e,"d",(function(){return S})),r.d(e,"f",(function(){return N})),r.d(e,"A",(function(){return T})),r.d(e,"e",(function(){return x})),r.d(e,"p",(function(){return k})),r.d(e,"D",(function(){return M})),r.d(e,"r",(function(){return R})),r.d(e,"q",(function(){return B})),r.d(e,"t",(function(){return D})),r.d(e,"v",(function(){return A})),r.d(e,"h",(function(){return z})),r.d(e,"i",(function(){return E})),r.d(e,"c",(function(){return Y})),r.d(e,"a",(function(){return $}));var a=r("83c3"),n=r("4328"),u=r.n(n);function o(t){return Object(a["a"])({url:"/product/selectProductList",method:"get",params:t})}function i(t){return Object(a["a"])({url:"/admin/data/selectByCond/I_packmaterial?pageNo=0",method:"post",data:t})}function d(t){return Object(a["a"])({url:"/product/selectProductInventory",method:"get",params:t})}function s(t){return Object(a["a"])({url:"/product/getReturnConfiguration",method:"get",params:t})}function c(){return Object(a["a"])({url:"/admin/factory/getFactoryList",method:"get"})}function l(t){return Object(a["a"])({url:"/admin/factory/getFactoryIdAndName",method:"get",params:t})}function p(t){return Object(a["a"])({url:"/admin/factory/getFactoryByPrincipal",method:"get",params:t})}function m(t){return Object(a["a"])({url:"/admin/purchase/temp/getProductMaterial",method:"get",params:t})}function h(t){return Object(a["a"])({url:"/admin/purchase/temp/materialsOutbound",method:"post",data:t})}function f(t){return Object(a["a"])({url:"/product/saveProduct",method:"post",data:t})}function g(t){return Object(a["a"])({url:"/product/updateProduct",method:"post",data:t})}function b(t){return Object(a["a"])({url:"/product/saveReturnConfiguration",method:"POST",data:t})}function V(t){return Object(a["a"])({url:"/product/deleteProductUnit",method:"post",data:u.a.stringify(t)})}function y(t){return Object(a["a"])({url:"/admin/shopper/warehouse/getWarehouseIdAndname",method:"get",params:t})}function v(t){return Object(a["a"])({url:"/product/deleteProductWdata",method:"post",data:u.a.stringify(t)})}function L(t){return Object(a["a"])({url:"/product/copyProductToNewFactory",method:"post",data:t})}function j(t){return Object(a["a"])({url:"/product/selectProductInfo",method:"get",params:t})}function O(t){return Object(a["a"])({url:"/admin/data/execProcedure/getgood_inventory?pageNo=0",method:"post",data:t})}function I(t){return Object(a["a"])({url:"/admin/data/execProcedure/st_stock_procdct?pageNo=0",method:"post",data:t})}function w(t){return Object(a["a"])({url:"/product/isUpdate",method:"get",params:t})}function C(t){return Object(a["a"])({url:"/product/updeteProductInventory",method:"post",data:t})}function F(t){return Object(a["a"])({url:"/product/updateMaterialInventory",method:"post",data:t})}function _(t){return Object(a["a"])({url:"/admin/data/execProcedure/st_stock_packmaterial?pageNo=0",method:"post",data:t})}function P(t){return Object(a["a"])({url:"/product/isUpdateMaterialInventory",method:"get",params:t})}function S(t){return Object(a["a"])({url:"/admin/data/selectByCond/I_product_wdata?pageNo=0",method:"post",data:t})}function N(t,e){return Object(a["a"])({url:"/admin/data/updateById/I_product_wdata?dataId="+e,method:"post",data:t})}function T(t){return Object(a["a"])({url:"/product/isUpdateMaterialInventory",method:"GET",params:t})}function x(t){return Object(a["a"])({url:"/admin/data/insert/I_product_wdata",method:"post",data:t})}function k(t){return Object(a["a"])({url:"/productionPlan/getFactoryPurchasePlanDetailList",method:"get",params:t})}function M(t){return Object(a["a"])({url:"/admin/factory/purchase/plan/purchaseStatistics",method:"get",params:t})}function R(t){return Object(a["a"])({url:"/goodsWarehouse/getInventoryList",method:"get",params:t})}function B(t){return Object(a["a"])({url:"/goodsWarehouse/getInWarehouse",method:"get",params:t})}function D(t){return Object(a["a"])({url:"/goodsOutbound/getOntWarehouse",method:"get",params:t})}function A(t){return Object(a["a"])({url:"/admin/hxhouse/gethxhouseList",method:"get",params:t})}function z(t){return Object(a["a"])({url:"/goodsWarehouse/amendmentCurrentInventory",method:"post",data:t})}function E(t){return Object(a["a"])({url:"/admin/hxhouse/amendmentHxCurrentInventory",method:"post",data:t})}function Y(t){var e={getColumns:[{nameCode:"id"},{nameCode:"data",vdata:{DISPNAME:"sku"}},{nameCode:"namecode"},{nameCode:"specification",vdata:{DISPNAME:"specif"}},{nameCode:"unit"}],Condition:[{nameCode:"nodetype",data:t.nodetype},{nameCode:"namecode",nodetype:"LIKE",data:"%"+t.namecode+"%"}]};return Object(a["a"])({url:"/admin/data/selectByCond/I_product?pageNo=0",method:"post",data:e})}function $(t){return Object(a["a"])({url:"/admin/data/execProcedure/Confirm_favtory_purchase?pageNo=0",method:"post",data:t})}},"11ae":function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"Fhpz_demo"},[r("el-dialog",{attrs:{title:"返还配置项",visible:t.isReturns,width:"65%"},on:{"update:visible":function(e){t.isReturns=e},close:t.hideReturns}},[r("el-form",{attrs:{"label-width":"140px"}},[t.is_supplier?r("el-row",{attrs:{gutter:40}},[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"包材供应商："}},[r("el-select",{staticStyle:{width:"80%"},attrs:{disabled:t.isSupplier},on:{change:t.supplierChange},model:{value:t.supplierValue,callback:function(e){t.supplierValue=e},expression:"supplierValue"}},t._l(t.supplierData,(function(t){return r("el-option",{key:t.id,attrs:{label:t.namecode,value:t.id}})})),1)],1)],1)],1):t._e(),r("el-row",{attrs:{gutter:40}},[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"包材名称："}},[[r("span",[t._v(t._s(this.productNames))])]],2)],1)],1),r("el-row",{attrs:{gutter:40}},[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"返还类型："}},[r("el-select",{staticStyle:{width:"80%"},attrs:{disabled:t.isAble},model:{value:t.term,callback:function(e){t.term=e},expression:"term"}},[r("el-option",{attrs:{label:"期限内返还",value:"0"}}),r("el-option",{attrs:{label:"无期限累计返还",value:"1"}})],1)],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"开始时间："}},[r("div",{staticClass:"block"},[r("el-date-picker",{staticStyle:{width:"80%"},attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd",clearable:!1},on:{change:t.entryMonth},model:{value:t.startTime,callback:function(e){t.startTime=e},expression:"startTime"}})],1)])],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"0"===t.term,expression:"term==='0'"}],attrs:{label:"期限："}},[r("el-input",{staticStyle:{width:"80%"},attrs:{type:"number",placeholder:"请输入月"},on:{input:t.entryMonth},model:{value:t.YearValue,callback:function(e){t.YearValue=e},expression:"YearValue"}}),r("span",[t._v("月")])],1)],1)],1),r("el-row",{attrs:{gutter:40}},[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"需累计生产数："}},[r("el-input",{staticStyle:{width:"80%"},attrs:{type:"number"},model:{value:t.returnValue,callback:function(e){t.returnValue=e},expression:"returnValue"}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"当前累计："}},[t._v(t._s(t.Cumulative))])],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"0"===t.term,expression:"term==='0'"}],attrs:{label:"结束时间："}},[r("div",{staticClass:"block"},[r("el-date-picker",{staticStyle:{width:"80%"},attrs:{type:"date",placeholder:"选择日期",disabled:"","value-format":"yyyy-MM-dd"},model:{value:t.endTime,callback:function(e){t.endTime=e},expression:"endTime"}})],1)])],1)],1),r("el-row",{attrs:{gutter:40}},[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"版费："}},[r("el-input",{staticStyle:{width:"80%"},attrs:{type:"number"},model:{value:t.feeValue,callback:function(e){t.feeValue=e},expression:"feeValue"}})],1)],1)],1),r("el-row",{attrs:{gutter:40}},[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:""}},[[r("span",{staticStyle:{color:"red"}},[t._v(t._s(this.messages))])]],2)],1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[0==t.editShow?r("el-button",{attrs:{type:"primary"},on:{click:t.AddReturn}},[t._v("保 存")]):t._e(),r("el-button",{directives:[{name:"show",rawName:"v-show",value:1==t.editShow,expression:"editShow==true"}],attrs:{type:"primary"},on:{click:t.editReturn}},[t._v("修改保存")]),r("el-button",{attrs:{type:"primary"},on:{click:t.hideReturns}},[t._v("取 消")])],1)],1)],1)},n=[],u=r("5530"),o=(r("a9e3"),r("fb6a"),r("2f62")),i=r("062d"),d=r("e3a8"),s=r("8147"),c=r("373f"),l={data:function(){return{is_supplier:!0,isReturns:!1,startTime:"",endTime:"",YearValue:"",returnValue:0,feeValue:0,supplierValue:"",Cumulative:0,term:"0",returnForm:{data:0,num:0,objtype:1000116,optdate:"",rela:0,vdata:""},returnsForm:{data:0,num:0,objtype:1000117,optdate:"",rela:0,vdata:""},feeForm:{data:0,num:0,objtype:1000018,optdate:"",rela:0,vdata:""},specifform:{title:"",conent:"",iseditor:!1},supplierData:[],isSupplier:!1,editShow:!1,isAble:!1,messages:"",productId:"",productNames:""}},computed:Object(u["a"])({},Object(o["c"])({userId:"user/userId",name:"user/name"})),created:function(){},mounted:function(){},methods:{entryMonth:function(){if("0"===this.term){var t=Object(s["b"])(s["a"].getTimestamp(this.startTime)+Number(this.YearValue)*Number(2626560));this.endTime=t}},hideReturns:function(){this.isReturns=!1,this.startTime="",this.endTime="",this.YearValue="",this.returnValue=0,this.feeValue=0,this.supplierValue=""},supplierChange:function(t){var e={productId:this.productId,materialId:t};this.get_getReturnConfiguration(e)},get_getReturnConfiguration:function(t){var e=this;Object(i["F"])(t).then((function(t){200===t.code&&(e.isReturns=!0),t.data.length>1?(e.isAble=!0,e.editShow=!0):(e.isAble=!1,e.editShow=!1),e.returnValue=0,e.Cumulative=0,e.feeValue=0;var r=e.changeData();e.startTime=r[1],e.YearValue=0,e.returnForm={data:0,num:0,objtype:1000116,optdate:"",rela:0,vdata:""},e.returnsForm={data:0,num:0,objtype:1000117,optdate:"",rela:0,vdata:""},e.feeForm={data:0,num:0,objtype:1000018,optdate:"",rela:0,vdata:""},e.specifform={title:"",conent:"",iseditor:!1};for(var a=0;a<t.data.length;a++)"返还阀值"===t.data[a].returnParam.slice(0,4)?(e.returnForm.rela=t.data[a].id,e.returnValue=t.data[a].paramValue,e.endTime=t.data[a].optdate):"周期天数"===t.data[a].returnParam.slice(0,4)?(e.returnsForm.rela=t.data[a].id,e.YearValue=t.data[a].paramValue,"0"===e.YearValue&&(e.term="1"),e.startTime=t.data[a].optdate):"包装版费"===t.data[a].returnParam.slice(0,4)?(e.feeValue=t.data[a].paramValue,e.feeForm.rela=t.data[a].id):e.Cumulative=t.data[a].paramValue}))},returns:function(t,e){var r=this;this.productNames="",this.datanew1=e,this.messages="",this.productNames=e.productName,Object(d["l"])({materialId:t}).then((function(a){if(200===a.code)if(r.supplierData=a.data,0!==a.data.length){r.productId=t,r.supplierValue=r.supplierData[0].id;var n={productId:t,materialId:r.supplierData[0].id};r.get_getReturnConfiguration(n)}else r.$message({message:"提示：当前没有配置供应商，请去我包材供应商->供应材料管理中去添加："+e.productName,type:"warning"})}))},AddReturn:function(){var t=this;return"1"===this.term&&(this.returnForm.num=0,this.returnsForm.num=0,this.feeForm.num=0),this.returnForm.data=this.supplierValue,this.returnsForm.data=this.supplierValue,this.feeForm.data=this.supplierValue,this.returnForm.data&&this.returnsForm.data&&this.feeForm.data?(this.feeForm.optdate=this.startTime,this.feeForm.num=Number(this.feeValue),this.returnForm.num=Number(this.returnValue),this.returnForm.optdate=this.endTime,this.returnsForm.num=Number(this.YearValue),this.returnsForm.optdate=this.startTime,this.arr={productId:this.productId,productWdataList:[this.returnsForm,this.returnForm,this.feeForm]},void Object(i["E"])(this.arr).then((function(e){200===e.code?(Object(c["a"])(e.message),t.hideReturns()):Object(c["b"])(e.message)}))):this.$message.warning("请选择供应商")},editReturn:function(){var t=this,e={id:this.returnForm.rela,data:Number(this.returnValue),optdate:this.endTime,objType:"1000117",productId:this.productId,supplierId:this.supplierValue},r={id:this.returnsForm.rela,data:Number(this.YearValue),optdate:this.startTime,objType:"1000116",productId:this.productId,supplierId:this.supplierValue},a={id:this.feeForm.rela,data:Number(this.feeValue),optdate:this.startTime,objType:"1000018",productId:this.productId,supplierId:this.supplierValue};Object(d["g"])({returnConfigurationList:[e,r,a]}).then((function(e){200===e.code?(Object(c["a"])(e.message),t.hideReturns()):Object(c["b"])(e.message)}))},init:function(t,e){if(e){this.is_supplier=!1;var r={productId:t.data,materialId:e};this.supplierValue=e,this.productId=t.id,this.productNames=t.namecode,this.get_getReturnConfiguration(r)}else this.is_supplier=!0,this.returns(t.id,t)}}},p=l,m=r("2877"),h=Object(m["a"])(p,a,n,!1,null,null,null);e["a"]=h.exports},"2f88":function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"page"},[r("el-pagination",{attrs:{background:"","current-page":t.currentPage,"page-sizes":t.pageSizesArr||t.pageSizesArrInit,"page-size":t.pageSize,layout:t.layout,total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},n=[],u=(r("a9e3"),r("ac1f"),r("1276"),{props:{pageSize:{type:Number,default:10},pageSizesArr:{type:Array,default:null},layout:{type:String,default:"total,sizes,prev, pager, next"},total:Number,currentPage:Number},data:function(){return{pageSizesArrInit:[24,100,200,500,1e3]}},mounted:function(){var t=location.href.split("/")[2];"192.168.1.145:8080"===t&&(this.pageSizesArrInit=[2,24,100,200,500,1e3])},methods:{handleSizeChange:function(t){this.$emit("handleSizeChange",t)},handleCurrentChange:function(t){this.$emit("handleCurrentChange",t)}}}),o=u,i=r("2877"),d=Object(i["a"])(o,a,n,!1,null,"79dfe774",null);e["a"]=d.exports},8147:function(t,e,r){"use strict";r.d(e,"b",(function(){return n})),r.d(e,"a",(function(){return a}));var a={getTimestamp:function(t){return new Date(t).getTime()/1e3}};function n(t){var e=new Date(1e3*t),r=e.getFullYear()+"-",a=(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-",n=e.getDate()<10?"0"+e.getDate():e.getDate();return r+a+n}},"82d2":function(t,e,r){"use strict";r.d(e,"a",(function(){return a})),r.d(e,"b",(function(){return n}));r("ac1f"),r("00b4"),r("5319"),r("4d63"),r("c607"),r("2c3e"),r("25f0");Date.prototype.Format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"H+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var r in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),e)new RegExp("("+r+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?e[r]:("00"+e[r]).substr((""+e[r]).length)));return t};(new Date).Format("yyyy-MM-dd HH:mm:ss");var a=(new Date).Format("yyyy-MM-dd"),n=[{L:"30%",V:.3},{L:"31%",V:.31},{L:"32%",V:.32},{L:"33%",V:.33},{L:"34%",V:.34},{L:"35%",V:.35},{L:"36%",V:.36},{L:"37%",V:.37},{L:"38%",V:.38},{L:"39%",V:.39},{L:"40%",V:.4},{L:"41%",V:.41},{L:"42%",V:.42},{L:"43%",V:.43},{L:"44%",V:.44},{L:"45%",V:.45},{L:"46%",V:.46},{L:"47%",V:.47},{L:"48%",V:.48},{L:"49%",V:.49},{L:"50%",V:.5},{L:"51%",V:.51},{L:"52%",V:.52},{L:"53%",V:.53},{L:"54%",V:.54},{L:"55%",V:.55},{L:"56%",V:.56},{L:"57%",V:.57},{L:"58%",V:.58},{L:"59%",V:.59},{L:"60%",V:.6},{L:"61%",V:.61},{L:"62%",V:.62},{L:"63%",V:.63},{L:"64%",V:.64},{L:"65%",V:.65},{L:"66%",V:.66},{L:"67%",V:.67},{L:"68%",V:.68},{L:"69%",V:.69},{L:"70%",V:.7},{L:"71%",V:.71},{L:"72%",V:.72},{L:"73%",V:.73},{L:"74%",V:.74},{L:"75%",V:.75},{L:"76%",V:.76},{L:"77%",V:.77},{L:"78%",V:.78},{L:"79%",V:.79},{L:"80%",V:.8},{L:"81%",V:.81},{L:"82%",V:.82},{L:"83%",V:.83},{L:"84%",V:.84},{L:"85%",V:.85},{L:"86%",V:.86},{L:"87%",V:.87},{L:"88%",V:.88},{L:"89%",V:.89},{L:"90%",V:.9},{L:"91%",V:.91},{L:"92%",V:.92},{L:"93%",V:.93},{L:"94%",V:.94},{L:"95%",V:.95},{L:"96%",V:.96},{L:"97%",V:.97},{L:"98%",V:.98},{L:"99%",V:.99},{L:"100%",V:1}];n.reverse()},e3a8:function(t,e,r){"use strict";r.d(e,"f",(function(){return o})),r.d(e,"j",(function(){return i})),r.d(e,"d",(function(){return d})),r.d(e,"e",(function(){return s})),r.d(e,"a",(function(){return c})),r.d(e,"k",(function(){return l})),r.d(e,"l",(function(){return p})),r.d(e,"m",(function(){return m})),r.d(e,"b",(function(){return h})),r.d(e,"c",(function(){return f})),r.d(e,"h",(function(){return g})),r.d(e,"g",(function(){return b})),r.d(e,"i",(function(){return V}));var a=r("83c3"),n=r("4328"),u=r.n(n);function o(t){return Object(a["a"])({url:"/productBom/selectProductBomList",method:"get",params:t})}function i(t){return Object(a["a"])({url:"/product/getProductPermissions",method:"get",params:t})}function d(t){return Object(a["a"])({url:"/productBom/selectProductInfo",method:"get",params:t})}function s(t){return Object(a["a"])({url:"/product/getProductList",method:"get",params:t})}function c(t){return Object(a["a"])({url:"/productBom/saveProductBom",method:"post",data:t})}function l(t){return Object(a["a"])({url:"/productBom/saveProduct",method:"post",data:t})}function p(t){return Object(a["a"])({url:"/admin/material/supplier/supplierList",method:"get",params:t})}function m(t){return Object(a["a"])({url:"/admin/material/supplier/list",method:"get",params:t})}function h(t){return Object(a["a"])({url:"/productBom/deleteProductBomList",method:"post",data:u.a.stringify(t)})}function f(t){return Object(a["a"])({url:"/productBom/updateProductBomList",method:"post",data:t})}function g(t){return Object(a["a"])({url:"/productBom/updateProductBom",method:"post",data:t})}function b(t){return Object(a["a"])({url:"/product/updateReturnConfiguration",method:"post",data:t})}function V(t){return Object(a["a"])({url:"/productBom/deleteProductBom",method:"post",params:t})}}}]);