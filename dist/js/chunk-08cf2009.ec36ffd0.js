(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-08cf2009"],{1589:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main-conent main-conent-minheight flex-main-conent",attrs:{"element-loading-spinner":"el-icon-loading"}},[a("div",{staticClass:"flex-box"},[a("div",{staticClass:"flex-top"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formQuery}},[a("el-form-item",{staticClass:"overall",attrs:{label:"区域："}},[a("AppRegion",{ref:"child",attrs:{state:101},on:{valueRegion:e.chengRegion}})],1),a("el-form-item",{staticClass:"overall",attrs:{label:"供应商名称"}},[a("el-input",{attrs:{clearable:""},model:{value:e.formQuery.namecode,callback:function(t){e.$set(e.formQuery,"namecode",t)},expression:"formQuery.namecode"}})],1),a("el-form-item",{staticClass:"overall"},[a("el-button",{attrs:{type:"primary",disabled:e.loadingTab},on:{click:e.onSubmitQuery}},[e._v("查询")])],1),a("el-form-item",{staticClass:"overall"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addSupplier(!0)}}},[e._v("添加供应商")])],1)],1)],1),a("div",{staticClass:"flex-cont"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTab,expression:"loadingTab"}],ref:"TableData",staticStyle:{width:"100%"},attrs:{stripe:"",data:e.tableData,border:"",height:"100%"}},[a("el-table-column",{attrs:{prop:"id",label:"标识",width:"50",align:"center"}}),a("el-table-column",{attrs:{prop:"optdate",label:"添加日期",width:"150",align:"center"}}),a("el-table-column",{attrs:{prop:"namecode",label:"供应商名称",align:"center"}}),a("el-table-column",{attrs:{prop:"factoryName",label:"对应工厂",align:"center",width:"180"}}),a("el-table-column",{attrs:{prop:"dutyofficer",label:"负责人",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(" "+e._s(t.row.dutyofficer2)+" ")]),e.buttonPermissions.indexOf(10106)>=0?a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.clickLeadingCadre(t.row,1)}}},[e._v(" 管理")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"regionname",label:"所在区域",align:"center"}}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-dropdown",{attrs:{size:"small"}},[a("el-button",{attrs:{type:"primary"}},[e._v(" 菜单"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{nativeOn:{click:function(a){return e.purchase(t.row)}}},[e._v("供应材料管理")]),a("el-dropdown-item",{nativeOn:{click:function(a){return e.clickEdit(t.row)}}},[e._v("修改")]),a("el-dropdown-item",{nativeOn:{click:function(a){return e.click_taxrate_init(t.row)}}},[e._v("设置供应材料税率")])],1)],1)]}}])})],1)],1),a("div",{staticClass:"flex-button"},[a("div",{staticClass:"margin-t16 text-right"},[a("AppPaging",{attrs:{total:e.allTate,pageSize:e.paramData.pageSize,currentPage:e.paramData.page},on:{handleCurrentChange:e.handleCurrentChange,handleSizeChange:e.handleSizeChange}})],1)])]),a("el-dialog",{attrs:{title:e.edistr,visible:e.dialogSupplier},on:{"update:visible":function(t){e.dialogSupplier=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules}},[e.ruleForm.provinceName?a("el-form-item",{attrs:{label:"区域：","label-width":e.formLabelWidth}},[a("div",[a("div",[e._v("当前区域： "),a("span",[e._v(e._s(e.ruleForm.provinceName)+"- "+e._s(e.ruleForm.cityName)+" - "+e._s(e.ruleForm.countyName))])])]),e.flagBoll?a("AppRegion",{on:{valueRegion:e.chengRegion1}}):e._e()],1):e._e(),e.ruleForm.provinceName?e._e():a("el-form-item",{attrs:{label:"区域：","label-width":e.formLabelWidth,prop:"rela"}},[e.flagBoll?a("AppRegion",{on:{valueRegion:e.chengRegion1}}):e._e()],1),a("el-row",{staticStyle:{"margin-bottom":"0"}},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:"供应商名称:","label-width":e.formLabelWidth,prop:"namecode"}},[a("el-input",{staticStyle:{width:"190px"},attrs:{disabled:"***"==e.ruleForm.dutyofficer},model:{value:e.ruleForm.namecode,callback:function(t){e.$set(e.ruleForm,"namecode",t)},expression:"ruleForm.namecode"}})],1)],1),"添加供应商"!=e.edistr&&this.edit_data.factoryName?a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"对应工厂:","label-width":"130px"}},[a("span",[e._v(e._s(this.edit_data.factoryName))])])],1):e._e()],1),a("el-row",{staticStyle:{"margin-bottom":"0"}},[a("el-form-item",{attrs:{label:"预付款百分比:","label-width":e.formLabelWidth}},[a("el-input",{ref:"bfbA",staticStyle:{width:"180px"},attrs:{type:"Number",min:0,max:100},model:{value:e.ruleForm.paybit,callback:function(t){e.$set(e.ruleForm,"paybit",t)},expression:"ruleForm.paybit"}},[a("template",{slot:"append"},[e._v("%")])],2),a("el-input-number",{staticStyle:{display:"none"},attrs:{min:0,max:100,precision:0},model:{value:e.ruleForm.paybit,callback:function(t){e.$set(e.ruleForm,"paybit",t)},expression:"ruleForm.paybit"}})],1)],1),a("el-row",{staticStyle:{"margin-bottom":"0"}},[a("el-col",{attrs:{span:7}},["***"!==e.ruleForm.contact?a("el-form-item",{attrs:{label:"联系人姓名:","label-width":e.formLabelWidth}},[a("el-input",{staticStyle:{width:"180px"},model:{value:e.ruleForm.contact,callback:function(t){e.$set(e.ruleForm,"contact",t)},expression:"ruleForm.contact"}})],1):e._e()],1),a("el-col",{attrs:{span:10}},["***"!==e.ruleForm.contact?a("el-form-item",{attrs:{label:"电话:","label-width":e.formLabelWidth}},[a("el-input",{staticStyle:{width:"200px"},model:{value:e.ruleForm.phone,callback:function(t){e.$set(e.ruleForm,"phone",t)},expression:"ruleForm.phone"}})],1):e._e()],1)],1),"***"!==e.ruleForm.yearamount?a("el-form-item",{attrs:{label:"年总开票金额(元):","label-width":e.formLabelWidth}},[a("el-input",{staticStyle:{width:"180px"},attrs:{autocomplete:"off",type:"number"},model:{value:e.ruleForm.yearamount,callback:function(t){e.$set(e.ruleForm,"yearamount",t)},expression:"ruleForm.yearamount"}})],1):e._e(),a("el-row",{staticStyle:{"margin-bottom":"0"}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"收款人:","label-width":e.formLabelWidth}},[a("el-input",{staticStyle:{width:"180px"},attrs:{autocomplete:"off"},model:{value:e.formBrand_extraInfo.payee,callback:function(t){e.$set(e.formBrand_extraInfo,"payee",t)},expression:"formBrand_extraInfo.payee"}})],1)],1),a("el-col",{attrs:{span:16}},[a("el-form-item",{attrs:{label:"收款账号:","label-width":e.formLabelWidth}},[a("el-input",{staticStyle:{width:"280px"},attrs:{autocomplete:"off"},model:{value:e.formBrand_extraInfo.paymentAccount,callback:function(t){e.$set(e.formBrand_extraInfo,"paymentAccount",t)},expression:"formBrand_extraInfo.paymentAccount"}})],1)],1)],1),a("el-form-item",{attrs:{label:"开户行:","label-width":e.formLabelWidth}},[a("el-input",{staticStyle:{width:"400px"},attrs:{autocomplete:"off"},model:{value:e.formBrand_extraInfo.openingBank,callback:function(t){e.$set(e.formBrand_extraInfo,"openingBank",t)},expression:"formBrand_extraInfo.openingBank"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogSupplier=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",disabled:e.loadingAdd},on:{click:function(t){return e.pushSupplier("ruleForm")}}},[e._v(e._s(e.editBoole?"修 改":"添 加"))])],1)],1),a("el-dialog",{attrs:{title:"收货地址管理",width:"80%",visible:e.dialogAddress},on:{"update:visible":function(t){e.dialogAddress=t}}},[a("el-dialog",{attrs:{width:"60%",title:"新增收货地址管理",visible:e.dialogAddAddress,"append-to-body":""},on:{"update:visible":function(t){e.dialogAddAddress=t}}},[a("el-form",{ref:"ruleFormAddress",staticClass:"demo-ruleForm",attrs:{model:e.ruleFormAddress,rules:e.rulesAddress}},[e.ruleFormAddress.regname?a("el-form-item",{attrs:{label:"区域：",prop:"rela","label-width":e.formLabelWidth}},[a("div",[a("div",[e._v("当前区域： "),a("span",[e._v(e._s(e.ruleFormAddress.regname))])])]),e.flagBoll?a("AppRegion",{on:{valueRegion:e.chengRegionAddress}}):e._e()],1):e._e(),e.ruleFormAddress.regname?e._e():a("el-form-item",{attrs:{label:"区域：","label-width":e.formLabelWidth,prop:"rela"}},[e.flagBoll?a("AppRegion",{on:{valueRegion:e.chengRegionAddress}}):e._e()],1),a("el-form-item",{attrs:{label:"详细地址:","label-width":e.formLabelWidth,prop:"address"}},[a("el-input",{staticStyle:{width:"190px"},model:{value:e.ruleFormAddress.address,callback:function(t){e.$set(e.ruleFormAddress,"address",t)},expression:"ruleFormAddress.address"}})],1),a("el-form-item",{attrs:{label:"收货人姓名:","label-width":e.formLabelWidth,prop:"consignee"}},[a("el-input",{staticStyle:{width:"190px"},model:{value:e.ruleFormAddress.consignee,callback:function(t){e.$set(e.ruleFormAddress,"consignee",t)},expression:"ruleFormAddress.consignee"}})],1),a("el-form-item",{attrs:{label:"收货人电话:","label-width":e.formLabelWidth,prop:"namecode"}},[a("el-input",{staticStyle:{width:"190px"},model:{value:e.ruleFormAddress.namecode,callback:function(t){e.$set(e.ruleFormAddress,"namecode",t)},expression:"ruleFormAddress.namecode"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogAddAddress=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",loading:e.loadingAdd},on:{click:function(t){return e.clickPostAddress("ruleFormAddress")}}},[e._v(e._s(e.editBooleAdder?"修 改":"添 加"))])],1)],1),a("el-button",{attrs:{type:"primary"},on:{click:e.clickAddAddress}},[e._v("新增收货地址")]),a("el-table",{attrs:{data:e.gridDataAddress,border:""}},[a("el-table-column",{attrs:{property:"regname",label:"地址",width:"150"}}),a("el-table-column",{attrs:{property:"address",label:"收货人详情地址"}}),a("el-table-column",{attrs:{property:"consignee",label:"收货人姓名",width:"200"}}),a("el-table-column",{attrs:{property:"phone",label:"收货人电话",width:"200"}}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-dropdown",{attrs:{size:"small"}},[a("el-button",{attrs:{type:"primary"}},[e._v(" 菜单"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{nativeOn:{click:function(a){return e.clickEditAdder(t.row)}}},[e._v("修改")]),a("el-dropdown-item",{nativeOn:{click:function(a){return e.clickDeleAdder(t.row.id)}}},[e._v("删除")])],1)],1)]}}])})],1),a("div",{staticClass:"margin-t16 text-right"})],1),a("el-dialog",{attrs:{title:"批量设置供应商材料的税率",visible:e.taxrate_data.sync,width:"500px"},on:{"update:visible":function(t){return e.$set(e.taxrate_data,"sync",t)}}},[a("el-form",{staticStyle:{"padding-left":"30px"},attrs:{model:e.form}},[a("div",{staticStyle:{"margin-bottom":"30px"}},[a("el-radio-group",{model:{value:e.TaxRateRadio,callback:function(t){e.TaxRateRadio=t},expression:"TaxRateRadio"}},[a("el-radio",{attrs:{label:1}},[e._v("不含税")]),a("el-radio",{attrs:{label:2}},[e._v("含税")])],1)],1),a("el-form-item",{attrs:{label:"税率:","label-width":"50px"}},[a("el-select",{attrs:{placeholder:"请选择",disabled:"2"==e.TaxRateRadio},model:{value:e.taxrate_data.taxrate,callback:function(t){e.$set(e.taxrate_data,"taxrate",t)},expression:"taxrate_data.taxrate"}},e._l(e.optionsMethod1,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),a("div",{staticStyle:{color:"red","margin-left":"10px"}},[e._v("注：批量设置供应商材料的税率")])],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.taxrate_data.sync=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.get_taxrate}},[e._v("确 定")])],1)],1),a("LeadingCadre",{ref:"LeadingCadre",attrs:{htmltype:2},on:{ToUpDate:e.ToUpDate,getDutyofficer:e.getDutyofficer}})],1)},n=[],r=a("5530"),o=(a("d3b7"),a("159b"),a("25f0"),a("d81d"),a("ac1f"),a("1276"),a("b64b"),a("5ac1")),d=a("4795"),l=a("234d"),s=a("2a02"),c=a("da87"),u=a("5a27"),m=a("2f62"),p=a("775f"),f=a("2f88"),h={components:{LeadingCadre:o["a"],AppPaging:f["a"],AppRegion:p["a"]},data:function(){return{scrollTop:0,scrollLeft:0,dutyofficer_name:"",dutyofficer_arr:[],factoryData2:[],formBrand_extraInfo:{payee:"",paymentAccount:"",openingBank:""},taxrate_data:{sync:!1,taxrate:0,namecode:""},TaxRateRadio:2,edit_data:{},edistr:"添加供应商",flagBoll:!0,loadingAdd:!1,datasState:{},ruleForm:{rela:"",namecode:"",contact:"",phone:"",yearamount:"",nodetype:"6"},rules:{rela:u["a"],contact:u["c"],namecode:u["c"],phone:u["d"]},dialogSupplier:!1,formLabelWidth:"130px",loadingWeb:!0,loadingQuery:!1,form:{province:"",city:"",region:"",street:""},formQuery:{code:"",id:"",phone:"",namecode:""},tableData:[{id:1,pidid:1,pidname:"一级",typename:["黄","38度"],status:1,img:"https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=1066879593,2077363655&fm=26&gp=0.jpg"}],loadingTab:!1,allTate:20,currentPage:1,pageNum:1,editBoole:0,putDataId:"",regionName:"",datas:{},dialogAddress:!1,dialogAddAddress:!1,gridDataAddress:[],ruleFormAddress:{rela:"",consignee:"",address:"",namecode:""},rulesAddress:{rela:u["a"],address:u["c"],consignee:u["c"],namecode:u["d"]},regionNameAddress:"",addressId:"",allTateAdder:20,pageNumAdder:1,editBooleAdder:0,putDataAdderId:"",regnameAdder:"",chengRegionObje:{},optionsMethod1:[{value:0,label:"0%"},{value:1,label:"1%"},{value:2,label:"2%"},{value:3,label:"3%"},{value:4,label:"4%"},{value:5,label:"5%"},{value:6,label:"6%"},{value:7,label:"7%"},{value:8,label:"8%"},{value:9,label:"9%"},{value:10,label:"10%"},{value:11,label:"11%"},{value:12,label:"12%"},{value:13,label:"13%"},{value:14,label:"14%"},{value:15,label:"15%"},{value:16,label:"16%"},{value:17,label:"17%"},{value:18,label:"18%"},{value:19,label:"19%"},{value:20,label:"20%"}],paramData:{page:1,pageSize:24},findUserList:[],buttonPermissions:[],isShowDutyofficer:!1}},computed:Object(r["a"])({},Object(m["c"])({roles:"roles",userId:"user/userId",name:"user/name"})),created:function(){this.buttonPermissions=this.roles[0].buttonPermissions;var e={page:1,pageSize:20};this.getSupplier(e)},methods:{input_focus:function(e){this.$refs[e].focus()},getDutyofficer:function(e){var t=this;this.dutyofficer_arr=e,this.dutyofficer_name=[],this.dutyofficer_arr.forEach((function(e){t.dutyofficer_name.push(e.username)})),this.dutyofficer_name=this.dutyofficer_name.toString()},add_dutyofficer:function(){this.$refs["LeadingCadre"].init2(this.dutyofficer_arr)},clickLeadingCadre:function(e){this.$refs["LeadingCadre"].init(e)},ToUpDate:function(){this.getSupplier(this.paramData)},getSupplier:function(e){var t=this;this.loadingWeb=!0,this.loadingTab=!0,Object(l["g"])(e).then((function(e){if(t.loadingWeb=!1,t.loadingTab=!1,200===e.code){var a=e.data.list.map((function(e){e.optdate=Object(d["b"])(e.optdate).split(" ")[0],e.optdates=Object(d["b"])(e.optdate);var t=[];return e.officerList&&e.officerList.forEach((function(e){t.push(e.principalUser)})),e.regionname=e.vdata&&e.vdata.regionname||"",e.dutyofficer2=t.toString(),e}));t.tableData=a,t.allTate=e.data.total,t.currentPage=e.data.pageNum}else t.$message({message:e.message,type:"warning"});t.loading=!1}))},onSubmitQuery:function(){var e=this.chengRegionObje;delete e.id,delete e.selectedName;var t=Object.keys(e).length,a="";a=t<=2?Object(r["a"])(Object(r["a"])({page:1,pageSize:this.paramData.pageSize},this.formQuery),{},{provinceId:e.provinceId,cityId:e.cityId,countyId:e.regionId,streetId:e.streetId}):Object(r["a"])(Object(r["a"])({page:1,pageSize:this.paramData.pageSize},this.formQuery),{},{provinceId:e.provinceId,cityId:e.countyId,countyId:e.regionId?e.regionId:e.countyId,streetId:e.streetId}),this.paramData=a,this.getSupplier(a)},set_getSupplierDetail:function(e){var t=this;Object(l["f"])(e).then((function(e){200===e.code?(t.ruleForm=e.data,0===t.ruleForm.dutyofficer||873===t.userId?t.isShowDutyofficer=!1:t.isShowDutyofficer=!0,t.ruleForm.nodetype="有效"===t.ruleForm.nodetype?"6":"8",t.get_extrainfo(e.data.vdata)):406===e.code||408===e.code?t.dialogSupplier=!1:t.loadingAdd=!1}))},get_taxrate:function(){var e=this;2===this.TaxRateRadio&&(this.taxrate_data.taxrate=0),this.edit_data.taxrate=this.taxrate_data.taxrate/100,Object(l["k"])({taxrate:this.taxrate_data.taxrate/100,namecode:this.taxrate_data.namecode,id:this.taxrate_data.factoryId}).then((function(t){200===t.code&&(e.$message({message:"修改成功",type:"success"}),e.taxrate_data.sync=!1)}))},click_taxrate_dialog:function(){this.taxrate_data.factoryId=this.edit_data.id,this.taxrate_data.namecode=this.edit_data.namecode,this.TaxRateRadio=2,this.taxrate_data.taxrate=0,this.taxrate_data.sync=!0},click_taxrate_init:function(e){this.taxrate_data.factoryId=e.id,this.taxrate_data.namecode=e.namecode,this.TaxRateRadio=2,this.taxrate_data.taxrate=0,this.taxrate_data.sync=!0},get_factoryId:function(e){var t=this,a=[];Object(l["a"])().then((function(e){200===e.code&&(e.flag?a=e.data||[]:t.$message.error(e.message),t.factoryData2=a)}))},factoryChange:function(e){var t={};for(var a in this.factoryData2){var i=this.factoryData2[a];if(i.id===e){t=i;break}}t.namecode&&"添加供应商"===this.edistr&&(this.ruleForm.namecode=t.namecode)},addSupplier:function(e){var t=this;this.dutyofficer_name="",this.dutyofficer_arr=[],this.edistr="添加供应商",e&&(this.isShowDutyofficer=!1),this.dialogSupplier=!0;var a=this;this.formBrand_extraInfo={payee:"",paymentAccount:"",openingBank:""},this.flagBoll=!1,a.$nextTick((function(){t.flagBoll=!0})),this.ruleForm={rela:"",namecode:"",contact:"",phone:"",nodetype:"6"},this.editBoole=0},chengRegion1:function(e){this.ruleForm.rela=e,this.ruleForm.extraInforegionname=e.selectedName,this.regionName=e.selectedName},pushSupplier:function(e){var t=this,a=this;this.$refs[e].validate((function(e){if(!e)return a.loadingAdd=!1,!1;var i=t.editBoole,n=t.ruleForm;if(i){n.id=t.putDataId,n.rela=""===n.rela?n.regid:n.rela;for(var o=t.putDataId,d=t.tableData,l=0;l<d.length;l++)d[l].id===o&&(d[l].vdata.regionname=t.regionName?t.regionName:d[l].vdata.regionname,d[l].namecode=n.namecode,d[l].contact=n.contact,d[l].phone=n.phone,d[l].nodetype=n.nodetype+"",d[l].typename="6"===n.nodetype?"有效":"禁止");if(""!==n.rela){var s=Object(r["a"])(Object(r["a"])(Object(r["a"])({},n),n.rela),{},{extraInfo:{regionname:n.extraInforegionname},id:t.putDataId}),c=Object(r["a"])(Object(r["a"])({},t.formBrand_extraInfo),{},{regionname:n.extraInforegionname||""});s.extraInfo=c,delete s.cityName,delete s.countyName,delete s.provinceName,delete s.streetName,delete s.extraInforegionname,delete s.selectedName,delete s.rela,"***"===s.contact?delete s.contact:s.contact,"***"===s.linkman?delete s.linkman:s.linkman,"***"===s.phone?delete s.phone:s.phone,"***"===s.yearamount?delete s.yearamount:s.yearamount,t.putSupplier(s)}else{var u=Object(r["a"])(Object(r["a"])({},n),{},{extraInfo:{regionname:n.extraInforegionname},id:t.putDataId}),m=Object(r["a"])(Object(r["a"])({},t.formBrand_extraInfo),{},{regionname:n.extraInforegionname||""});u.extraInfo=m,delete u.cityName,delete u.countyName,delete u.provinceName,delete u.streetName,delete u.extraInforegionname,delete u.selectedName,delete u.rela,"***"===u.contact?delete u.contact:u.contact,"***"===u.linkman?delete u.linkman:u.linkman,"***"===u.phone?delete u.phone:u.phone,"***"===u.yearamount?delete u.yearamount:u.yearamount,t.putSupplier(u)}}if(!i){n.provinceId=n.rela.provinceId,n.cityId=n.rela.cityId,n.countyId=n.rela.countyId,n.streetId=n.rela.streetId;var p=Object(r["a"])(Object(r["a"])({},t.formBrand_extraInfo),{},{regionname:n.extraInforegionname||""});n.extraInfo=p,delete n.rela,delete n.extraInforegionname,t.postSupplier(n)}}))},get_extrainfo:function(e){var t={openingBank:e.openingBank||"",payee:e.payee||"",paymentAccount:e.paymentAccount||""};"null"===t.openingBank&&(t.openingBank=""),"null"===t.payee&&(t.payee=""),"null"===t.paymentAccount&&(t.paymentAccount=""),this.formBrand_extraInfo=t},putSupplier:function(e){var t=this,a=this;a.loadingAdd=!0,Object(l["j"])(e).then((function(e){a.loadingAdd=!1,200===e.code&&(t.flagBoll=!1,a.$nextTick((function(){t.flagBoll=!0})),a.dialogSupplier=!1,t.$message({message:"成功修改供应商！",type:"success"}))}))},postSupplier:function(e){var t=this,a=this;a.loadingAdd=!0,Object(l["h"])(e).then((function(e){a.loadingAdd=!1,200===e.code&&(a.dialogSupplier=!1,t.flagBoll=!1,a.$nextTick((function(){t.flagBoll=!0})),t.ruleForm={rela:"",namecode:"",contact:"",phone:"",nodetype:"6"},t.$message({message:"成功添加供应商！",type:"success"}),t.ToUpDate())}))},chengRegion:function(e){var t=e;this.chengRegionObje=t},handleSizeChange:function(e){this.paramData.pageSize=e,this.handleCurrentChange(1)},handleCurrentChange:function(e){this.pageNum=e,this.paramData.page=e,this.ToUpDate()},onSubmitQuery1:function(){this.formQuery={code:"",id:"",phone:"",namecode:""};var e={page:1,pageSize:20};this.$refs.child.setValueNull1(),this.getSupplier(e)},deleSupplier:function(e){var t=this,a={idList:[e]},i=this.tableData;Object(l["e"])(a).then((function(a){200===a.code?(Object(d["a"])(i,e),t.$message({type:"success",message:"删除成功!"})):t.$message({type:"error",message:a.message})}))},clickDele:function(e){var t=this,a=e;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleSupplier(a)})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},clickEdit:function(e){this.edit_data=e,this.edistr="修改供应商",this.cleanAegion=101,this.editBoole=1,this.dialogSupplier=!0;var t={rela:"",namecode:"",contact:"",phone:"",nodetype:"6"};t.namecode=e.namecode,t.nodetype=e.nodetype,t.contact=e.contact,t.phone=e.phone,t.regid=e.regid,t.regname=e.regname,this.putDataId=e.id;var a={id:e.id};this.set_getSupplierDetail(a),this.getRegion(t.regid)},getRegion:function(e){var t=this,a={parentId:e};Object(c["h"])(a).then((function(e){t.provinceList=e,t.loading=!1}))},purchase:function(e){var t=e;this.$router.push({name:"Ucmanagement-Packingmaterial-MaterialScience",query:t})},clickAddress:function(e){this.dialogAddress=!0,this.addressId=e,this.addressSupplier(e)},addressSupplier:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i={},n={nameCode:"rela",data:e};i.Condition.push(n),Object(l["c"])(i,a).then((function(e){200===e.code?(t.gridDataAddress=e.data,t.loadingTab=!1,24===e.data.length?t.allTateAdder=25:t.allTateAdder=24):t.$message({type:"error",message:e.message})}))},clickAddAddress:function(){this.ruleFormAddress={rela:"",consignee:"",address:"",namecode:""},this.editBooleAdder=0,this.dialogAddAddress=!0},chengRegionAddress:function(e){this.ruleFormAddress.rela=e.id,this.regionNameAddress=e.selectedName},clickPostAddress:function(e){var t=this,a=this;a.loadingAdd=!0,this.$refs[e].validate((function(e){if(!e)return a.loadingAdd=!1,!1;var i=t.addressId,n=t.ruleFormAddress,r=t.editBooleAdder;if(r){var o=t.putDataAdderId;n.data=n.rela,n.rela=i;var d=n;delete d.regname,t.putAddressSupplier(d,o)}if(!r){n.data=n.rela,n.rela=i;var l=n;t.addAddressSupplier(l)}}))},clickEditAdder:function(e){this.putDataAdderId=e.id;var t=this.ruleFormAddress;t.rela=e.rela,t.address=e.address,t.regname=e.regname,this.regnameAdder=e.regname,t.consignee=e.consignee,t.namecode=e.phone,this.dialogAddAddress=!0,this.editBooleAdder=1},putAddressSupplier:function(e,t){var a=this;Object(l["i"])(e,t).then((function(t){var i=a.putDataAdderId;if(200===t.code){for(var n=a.gridDataAddress,r=0;r<n.length;r++)n[r].id===i&&(n[r].regname=a.regionNameAddress?a.regionNameAddress:a.regnameAdder,n[r].address=e.address,n[r].consignee=e.consignee,n[r].phone=e.namecode);a.loadingAdd=!1,a.dialogAddAddress=!1,a.$message({type:"success",message:"收货地址修改成功"}),a.ruleFormAddress={rela:"",consignee:"",address:"",namecode:""}}else a.loadingAdd=!1,a.$message({type:"error",message:t.message})}))},addAddressSupplier:function(e){var t=this;Object(l["b"])(e).then((function(e){if(200===e.code){t.loadingAdd=!1;var a=t.addressId;t.dialogAddAddress=!1,t.addressSupplier(a,1),t.$message({type:"success",message:"收货地址添加成功"}),t.ruleFormAddress={rela:"",consignee:"",address:"",namecode:""}}else t.loadingAdd=!1,t.$message({type:"error",message:e.message})}))},clickDeleAdder:function(e){var t=this,a=e;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleSupplier(a)})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},deleSupplierAdder:function(e){var t=this,a=[],i=this.gridDataAddress;Object(l["d"])(a,e).then((function(a){200===a.code?(Object(d["a"])(i,e),t.$message({type:"success",message:"删除成功!"})):t.$message({type:"error",message:a.message})}))},clickCurrentChangeAdder:function(e){var t=this.addressId;this.addressSupplier(t,e),this.pageNumAdder=e,this.loadingTab=!0}},mounted:function(){var e=this;Object(s["c"])().then((function(t){200===t.code&&(e.findUserList=t.data)}))},name:"Ucmanagement-Packingmaterial-homepage",activated:function(){var e=this;setTimeout((function(){e.$refs.TableData.bodyWrapper.scrollTop=e.scrollTop,e.$refs.TableData.bodyWrapper.scrollLeft=e.scrollLeft}),60)},beforeRouteLeave:function(e,t,a){this.scrollTop=this.$refs.TableData.bodyWrapper.scrollTop,this.scrollLeft=this.$refs.TableData.bodyWrapper.scrollLeft,a()}},g=h,b=(a("8f0d"),a("2877")),y=Object(b["a"])(g,i,n,!1,null,"db056c8e",null);t["default"]=y.exports},"234d":function(e,t,a){"use strict";a.d(t,"g",(function(){return r})),a.d(t,"f",(function(){return o})),a.d(t,"h",(function(){return d})),a.d(t,"j",(function(){return l})),a.d(t,"e",(function(){return s})),a.d(t,"c",(function(){return c})),a.d(t,"b",(function(){return u})),a.d(t,"i",(function(){return m})),a.d(t,"d",(function(){return p})),a.d(t,"k",(function(){return f})),a.d(t,"a",(function(){return h}));var i=a("83c3"),n="/base/data/";function r(e){return Object(i["a"])({url:"/admin/material/supplier/list/page",method:"post",data:e})}function o(e){return Object(i["a"])({url:"/admin/material/supplier/get?id=".concat(e.id),method:"get",data:e})}function d(e){return Object(i["a"])({url:"/admin/material/supplier/insert",method:"post",data:e})}function l(e){return Object(i["a"])({url:"/admin/material/supplier/update",method:"post",data:e})}function s(e){return Object(i["a"])({url:"/admin/material/supplier/delete",method:"post",data:e})}function c(e,t){return Object(i["a"])({url:"".concat(n,"selectByCond/m2_material_supplier_address?pageNo=").concat(t),method:"POST",data:e})}function u(e){return Object(i["a"])({url:"".concat(n,"insert/m2_material_supplier_address"),method:"post",data:e})}function m(e,t){return Object(i["a"])({url:"".concat(n,"updateById/m2_material_supplier_address?dataId=").concat(t),method:"post",data:e})}function p(e,t){return Object(i["a"])({url:"".concat(n,"deleteById/m2_material_supplier_address?dataId=").concat(t),method:"post",data:e})}function f(e){return Object(i["a"])({url:"/admin/material/supplier/updatePackmaterialTaxRate",method:"post",data:e})}function h(){var e={getColumns:[{nameCode:"id"},{nameCode:"namecode"}],Condition:[{nameCode:"id",nodetype:">",data:"0"}]};return Object(i["a"])({url:"/admin/data/selectByCond/非指定为供应商的工厂?pageNo=0",method:"post",data:e})}},"2a02":function(e,t,a){"use strict";a.d(t,"j",(function(){return n})),a.d(t,"p",(function(){return r})),a.d(t,"i",(function(){return o})),a.d(t,"b",(function(){return d})),a.d(t,"f",(function(){return l})),a.d(t,"g",(function(){return s})),a.d(t,"h",(function(){return c})),a.d(t,"e",(function(){return u})),a.d(t,"n",(function(){return m})),a.d(t,"k",(function(){return p})),a.d(t,"a",(function(){return f})),a.d(t,"q",(function(){return h})),a.d(t,"c",(function(){return g})),a.d(t,"d",(function(){return b})),a.d(t,"o",(function(){return y})),a.d(t,"l",(function(){return v})),a.d(t,"m",(function(){return _}));var i=a("83c3");function n(e){return Object(i["a"])({url:"/admin/shopper/warehouse/list/page",method:"post",data:e})}function r(e){return Object(i["a"])({url:"/admin/shopper/warehouse/update",method:"post",data:e})}function o(e){return Object(i["a"])({url:"/admin/shopper/warehouse/get",method:"get",params:e})}function d(e){return Object(i["a"])({url:"/admin/shopper/warehouse/delete",method:"POST",data:e})}function l(e){return Object(i["a"])({url:"/admin/factory/list/page",method:"POST",data:e})}function s(e){return Object(i["a"])({url:"/admin/factory/getFactoryList",method:"get",data:e})}function c(e){return Object(i["a"])({url:"/admin/shopper/warehouse/list",method:"GET",data:e})}function u(e){return Object(i["a"])({url:"/admin/factory/get",method:"get",params:e})}function m(e){return Object(i["a"])({url:"/admin/factory/update",method:"post",data:e})}function p(e){return Object(i["a"])({url:"/admin/factory/insert",method:"post",data:e})}function f(e){return Object(i["a"])({url:"/admin/factory/delete",method:"post",data:e})}function h(e){return Object(i["a"])({url:"/admin/customer/detail/schedule/factory/update",method:"post",data:e})}function g(e){return Object(i["a"])({url:"/admin/user/findUserList",method:"get",params:e})}function b(e){return Object(i["a"])({url:"/admin/factory/list/sku",method:"get",params:e})}function y(e){return Object(i["a"])({url:"/admin/factory/updateProductTaxRate",method:"post",data:e})}function v(e){return Object(i["a"])({url:"/admin/officer/saveDutyOfficer",method:"post",data:e})}function _(e){return Object(i["a"])({url:"/admin/officer/updateDutyOfficerStatus",method:"post",data:e})}},"2f88":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":e.pageSizesArr||e.pageSizesArrInit,"page-size":e.pageSize,layout:e.layout,total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},n=[],r=(a("a9e3"),a("ac1f"),a("1276"),{props:{pageSize:{type:Number,default:10},pageSizesArr:{type:Array,default:null},layout:{type:String,default:"total,sizes,prev, pager, next"},total:Number,currentPage:Number},data:function(){return{pageSizesArrInit:[24,100,200,500,1e3]}},mounted:function(){var e=location.href.split("/")[2];"192.168.1.145:8080"===e&&(this.pageSizesArrInit=[2,24,100,200,500,1e3])},methods:{handleSizeChange:function(e){this.$emit("handleSizeChange",e)},handleCurrentChange:function(e){this.$emit("handleCurrentChange",e)}}}),o=r,d=a("2877"),l=Object(d["a"])(o,i,n,!1,null,"79dfe774",null);t["a"]=l.exports},4795:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return n}));a("a434");function i(e){var t=new Date(e),a=t.getMonth()+1,i=t.getDate();a>=1&&a<=9&&(a="0"+a),i>=0&&i<=9&&(i="0"+i);var n=t.getFullYear()+"-"+a+"-"+i+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds();return n}function n(e,t){for(var a=e.length,i=0;i<a;i++)if(e[i].id===t)return 0===i?(e.shift(),e):i===a-1?(e.pop(),e):(e.splice(i,1),e)}},"5ac1":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"LeadingCadre"},[a("el-dialog",{attrs:{title:2===e.htmltype?"供应商负责人管理":"工厂负责人管理",visible:e.sync,width:"45%"},on:{"update:visible":function(t){e.sync=t},close:e.close}},[a("div",{staticClass:"delivery_top",staticStyle:{color:"#999",display:"flex"}},[a("div",[e._v(e._s(2===e.htmltype?"供应商名称":"工厂名称")+"："+e._s(2===e.htmltype?e.rowData.namecode:e.rowData.factoryName))]),a("div",[e._v("所在区域："+e._s((e.htmltype,e.rowData.regionname)))])]),a("div",{staticClass:"form-box",staticStyle:{"margin-bottom":"15px"}},[a("el-form",{staticStyle:{display:"flex","justify-content":"flex-end"},attrs:{"label-position":"left",inline:!0}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addsubmit(1)}}},[e._v(" 添加负责人 ")])],1)],1),a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTab,expression:"loadingTab"}],ref:"supplerTable",staticStyle:{},attrs:{data:e.tableData,stripe:"",border:"","max-height":"360"}},[a("el-table-column",{attrs:{property:"username",label:"负责人名称"}}),a("el-table-column",{attrs:{property:"nodetype",label:"状态"}}),a("el-table-column",{attrs:{property:"",label:"操作",align:"center",width:"350"},scopedSlots:e._u([{key:"default",fn:function(t){return["有效"===t.row.nodetype?a("el-button",{attrs:{type:"danger"},on:{click:function(a){return e.clickStarUp(1,t.row,8)}}},[e._v("禁用")]):e._e(),"禁用"===t.row.nodetype?a("el-button",{attrs:{type:"primary"},on:{click:function(a){return e.clickStarUp(2,t.row,6)}}},[e._v("启用")]):e._e()]}}])})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.sync=!1}}},[e._v("关 闭")])],1)]),a("el-dialog",{attrs:{title:2===e.htmltype?"供应商添加负责人":"工厂添加负责人",visible:e.sync2,width:"30%"},on:{"update:visible":function(t){e.sync2=t}}},[a("div",{staticClass:"form-box"}),a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTab,expression:"loadingTab"}],ref:"multipleTable",staticStyle:{},attrs:{data:e.addTableData,stripe:"",border:"","max-height":"360"},on:{"selection-change":e.shipmentSelec}},[a("el-table-column",{attrs:{selectable:e.addSelec,type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{property:"username",label:"负责人名称"}}),a("el-table-column",{attrs:{property:"namecode",label:"负责人账号"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addsubmit(2)}}},[e._v("确 定 添 加")]),a("el-button",{on:{click:function(t){e.sync2=!1}}},[e._v("关 闭")])],1)])],1)},n=[],r=a("5530"),o=(a("a9e3"),a("c740"),a("d3b7"),a("159b"),a("2a02")),d=a("234d"),l=a("2f62"),s={components:{},props:{htmltype:{type:Number,default:1}},data:function(){return{addtype:1,chencke_arr:[],chencke_arr_ids:[],sync2:!1,sync:!1,loadingTab:!1,tableData:[],addTableData:[],rowData:{},formQuery:{username:""},paramData:{pageSize:24,page:1}}},created:function(){},computed:Object(r["a"])({},Object(l["c"])({roles:"roles",userId:"user/userId",name:"user/name"})),methods:{init2:function(e){this.addtype=2,this.tableData=e,this.openAdd()},close:function(){this.$emit("ToUpDate")},addSelec:function(e){return!(this.tableData.findIndex((function(t){return t.dutyofficer===e.userId}))>=0)},onseles:function(){var e=this;2===this.addtype&&this.tableData.forEach((function(t){var a=e.addTableData.findIndex((function(e){return e.userId===t.userId}));e.$refs.multipleTable.toggleRowSelection(e.addTableData[a])}))},set_updateDutyOfficerStatus:function(e){var t=this;Object(o["m"])(e).then((function(e){200===e.code&&e.data&&(t.$message.success(e.message),t.getTable(),t.sync2=!1)}))},set_saveDutyOfficer:function(e){var t=this;Object(o["l"])(e).then((function(e){200===e.code&&e.data&&(t.$message.success(e.message),t.getTable(),t.$emit("ToUpDate"),t.sync2=!1)}))},addsubmit:function(e){if(1!==e)return 2===e?2===this.addtype?(this.$emit("getDutyofficer",this.chencke_arr),void(this.sync2=!1)):void this.openaddSubmit():void 0;this.openAdd()},openaddSubmit:function(){if(this.chencke_arr.length){var e=[],t=this.rowData.id,a=2===this.htmltype?"1000178":"1000177";this.chencke_arr.forEach((function(i){var n={targetId:t,type:a,userId:i.userId};e.push(n)}));var i={dutyofficers:e};this.set_saveDutyOfficer(i)}else this.$message.error("请选择要添加的负责人")},openAdd:function(){var e=this;this.sync2=!0,Object(o["c"])().then((function(t){if(200===t.code){e.addTableData=t.data;var a=e;setTimeout((function(){a.onseles()}),60)}}))},init:function(e){this.rowData=e,this.tableData=[],this.sync=!0,this.addtype=1,this.onSubmit()},clickStarUp:function(e,t,a){if([1,2].indexOf(e)>=0){var i={id:t.id,nodeType:a};this.set_updateDutyOfficerStatus(i)}else this.$confirm("更多功能，待开发中...","提示",{confirmButtonText:"确定"}).then((function(){}))},shipmentSelec:function(e){var t=this;this.chencke_arr=[],this.chencke_arr_ids=[],e&&e.forEach((function(e){t.chencke_arr_ids.push(e.id),t.chencke_arr.push({namecode:e.namecode,userId:e.userId,username:e.username})}))},getTable:function(){var e=this;2===this.htmltype?Object(d["g"])({supplierId:this.rowData.id}).then((function(t){200===t.code&&(e.rowData.officerList=t.data.list[0].officerList,e.getTableUser(t.data.list[0].officerList||[]))})):1===this.htmltype&&Object(o["f"])({factoryId:this.rowData.id}).then((function(t){200===t.code&&(e.rowData.officerList=t.data.list[0].officerList,e.getTableUser(t.data.list[0].officerList||[]))}))},getTableUser:function(e){var t=e;this.tableData=[],t.length&&(t.forEach((function(e){e.username=e.principalUser})),this.tableData=t)},onSubmit:function(){var e={pageSize:this.paramData.pageSize,page:1};this.getTable(e)}}},c=s,u=(a("e848"),a("2877")),m=Object(u["a"])(c,i,n,!1,null,"13874bbe",null);t["a"]=m.exports},"775f":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.typeNO>=1?a("el-select",{style:{width:e.boxWidth+"px"},attrs:{placeholder:"省级",clearable:""},on:{change:e.changePr},model:{value:e.provinceName,callback:function(t){e.provinceName=t},expression:"provinceName"}},e._l(e.provinceList,(function(e){return a("el-option",{key:e.namecode,attrs:{label:e.namecode,value:e.id}})})),1):e._e(),e.typeNO>=2?a("el-select",{style:{width:e.boxWidth+"px"},attrs:{placeholder:"市级",clearable:""},on:{change:e.changeCi},model:{value:e.cityName,callback:function(t){e.cityName=t},expression:"cityName"}},e._l(e.cityList,(function(e){return a("el-option",{key:e.namecode,attrs:{label:e.namecode,value:e.id}})})),1):e._e(),e.typeNO>=3?a("el-select",{style:{width:e.boxWidth+"px"},attrs:{placeholder:"区级",clearable:""},on:{change:e.changeRe},model:{value:e.regionName,callback:function(t){e.regionName=t},expression:"regionName"}},e._l(e.regionList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.namecode,value:e.id}})})),1):e._e(),e.typeNO>=4?a("el-select",{style:{width:e.boxWidth+"px"},attrs:{placeholder:"街道",clearable:""},on:{change:e.changeSt},model:{value:e.streetName,callback:function(t){e.streetName=t},expression:"streetName"}},e._l(e.streetList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.namecode,value:e.id}})})),1):e._e()],1)},n=[],r=(a("a9e3"),a("d81d"),a("7db0"),a("d3b7"),a("da87")),o={props:{state:{type:Number,default:100},cleanAegion:{type:Number,default:100},boxWidth:{type:Number,default:180},typeNO:{type:Number,default:4}},data:function(){return{provinceList:[],cityList:[],regionList:[],streetList:[],provinceName:"",cityName:"",regionName:"",streetName:"",id:"",setValueNullNum2:0,regionSelectedName:"",streetSelectedName:"",citySelectedName:"",provinceSelectedName:"",provinceId:"",cityId:"",regionId:"",streetId:""}},computed:{},created:function(){this.getRegion(),this.getList()},methods:{getList:function(){},setValueNull1:function(){this.provinceName="",this.cityName="",this.regionName="",this.streetName="",this.cityList=[],this.regionList=[],this.streetList=[]},setValueNull3:function(){this.regionName="",this.streetName=""},setValueNull4:function(){},getRegion:function(){var e=this,t={parentId:1};Object(r["h"])(t).then((function(t){var a=t.data.map((function(e){return Object.assign(e,{index:1})}));e.provinceList=a,e.loading=!1}))},changePr:function(e){var t=this;if(e){var a={};a=this.provinceList.find((function(t){return t.id===e})),this.provinceSelectedName=a;var i={parentId:e};this.id=e,this.cityName="",this.regionName="",this.streetName="",Object(r["h"])(i).then((function(i){t.cityList=i.data;var n={};if(i.data.length&&(n=i.data[0].namecode,t.citySelectedName=n),t.provinceId=e,100===t.$props.state&&i.data.length){t.cityName=i.data[0].id;var o=i.data[0].id,d={parentId:i.data[0].id};Object(r["h"])(d).then((function(i){t.regionName=i.data[0].id,t.regionList=i.data;var d={},l=i.data[0].id;d=i.data[0].namecode,t.regionSelectedName=d;var s={parentId:i.data[0].id};Object(r["h"])(s).then((function(i){var r={};r=i.data[0].namecode,t.streetSelectedName=r,t.streetName=i.data[0].id;var s={id:i.data[0].id,selectedName:a.namecode+n+d+r,provinceId:e,cityId:o,countyId:l,streetId:i.data[0].id};t.$emit("valueRegion",s),t.streetList=i.data}))}))}else{var l={id:e,selectedName:a.namecode,provinceId:e};t.$emit("valueRegion",l)}}))}else{this.cityName="",this.regionName="",this.streetName="",this.provinceId="",this.cityId="",this.regionId="",this.streetId="";var n={id:"",provinceId:"",cityId:"",countyId:"",streetId:""};this.$emit("valueRegion",n)}},changeCi:function(e){var t=this;if(e){var a=this.provinceSelectedName,i={};i=this.cityList.find((function(t){return t.id===e})),this.citySelectedName=i;var n={parentId:e};this.id=e,Object(r["h"])(n).then((function(n){t.regionList=n.data,t.cityId=e;var o={};if(n.data.length&&(o=n.data[0].namecode,t.regionSelectedName=o),100===t.$props.state&&n.data.length){t.regionName=n.data[0].id;var d=n.data[0].id,l={parentId:n.data[0].id};Object(r["h"])(l).then((function(n){t.streetName=n.data[0].id,t.streetList=n.data;var r={};r=n.data[0].namecode,t.streetSelectedName=r;var l={id:n.data[0].id,selectedName:a.namecode+i.namecode+o+r,provinceId:t.provinceId,cityId:e,countyId:d,streetId:n.data[0].id};t.$emit("valueRegion",l)}))}else{var s={id:e,selectedName:a.namecode+i.namecode,provinceId:t.provinceId,cityId:e};t.$emit("valueRegion",s)}}))}else{this.cityName="",this.regionName="",this.streetName="",this.cityId="",this.regionId="",this.streetId="";var o={id:this.provinceSelectedName.id,selectedName:this.provinceSelectedName.namecode,provinceId:this.provinceSelectedName.id};this.$emit("valueRegion",o)}},changeRe:function(e){var t=this;if(e){var a=this.provinceSelectedName,i=this.citySelectedName,n="string"===typeof i?this.citySelectedName:this.citySelectedName.namecode,o={};this.regionId=e,o=this.regionList.find((function(t){return t.id===e})),this.regionSelectedName=o;var d={parentId:e};this.id=e,Object(r["h"])(d).then((function(r){t.streetList=r.data;var d={};if(r.data.length&&(d=r.data[0].namecode,t.streetSelectedName=d),100===t.$props.state&&r.data.length){var l={id:r.data[0].id,selectedName:a.namecode+n+o.namecode+d,provinceId:t.provinceId,cityId:t.cityId,countyId:e,streetId:r.data[0].id};t.streetName=r.data[0].id,t.$emit("valueRegion",l)}else{var s={id:e,selectedName:a.namecode+i.namecode+o.namecode,provinceId:t.provinceId,countyId:t.cityId,regionId:e};t.$emit("valueRegion",s)}}))}else{this.regionName="",this.streetName="",this.regionId="",this.streetId="";var l={id:this.citySelectedName.id,selectedName:this.provinceSelectedName.namecode+this.citySelectedName.namecode,provinceId:this.provinceSelectedName.id,countyId:this.citySelectedName.id};this.$emit("valueRegion",l)}},changeSt:function(e){if(e){var t=this.provinceSelectedName,a=void 0===this.citySelectedName.namecode?this.citySelectedName:this.citySelectedName.namecode,i=void 0===this.regionSelectedName?this.regionSelectedName:this.regionSelectedName.namecode,n={};n=this.streetList.find((function(t){return t.id===e})),this.streetId=e;var r={id:e,selectedName:t.namecode+a+i+n.namecode,provinceId:this.provinceId,cityId:this.cityId,countyId:this.regionId,streetId:e};this.id=e,this.$emit("valueRegion",r)}else{this.streetId="";var o={id:"",provinceId:this.provinceId,cityId:this.cityId,countyId:this.regionId,streetId:""};this.$emit("valueRegion",o)}},setValueNull2:function(e){this.setValueNullNum2=e}},mounted:function(){}},d=o,l=a("2877"),s=Object(l["a"])(d,i,n,!1,null,"11d0b099",null);t["a"]=s.exports},"7db0":function(e,t,a){"use strict";var i=a("23e7"),n=a("b727").find,r=a("44d2"),o="find",d=!0;o in[]&&Array(1)[o]((function(){d=!1})),i({target:"Array",proto:!0,forced:d},{find:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),r(o)},"8f0d":function(e,t,a){"use strict";a("c29d")},c29d:function(e,t,a){},cd02:function(e,t,a){},e848:function(e,t,a){"use strict";a("cd02")}}]);