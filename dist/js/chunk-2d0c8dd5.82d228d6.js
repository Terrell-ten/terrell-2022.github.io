(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c8dd5"],{5763:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main-conent main-conent-minheight flex-main-conent"},[n("div",{staticClass:"flex-box"},[n("div",{staticClass:"flex-top"},[n("div",{attrs:{slot:"header"},slot:"header"},[n("el-form",{attrs:{"label-width":"100px"}},[n("el-row",{staticClass:"flex-wrap-wrap",attrs:{type:"flex",justify:"end"}},[n("el-col",{attrs:{xs:24,sm:24,md:12,lg:6,xl:6}},[n("el-form-item",{attrs:{label:"任务名称"}},[n("el-input",{model:{value:t.namecode,callback:function(e){t.namecode=e},expression:"namecode"}})],1)],1),n("el-col",{attrs:{xs:24,sm:24,md:12,lg:10,xl:8}},[n("el-form-item",{attrs:{label:"完成时间："}},[n("div",{staticClass:"block"},[n("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},model:{value:t.enddate,callback:function(e){t.enddate=e},expression:"enddate"}})],1)])],1),n("el-col",{attrs:{xs:24,sm:24,md:12,lg:8,xl:4}},[n("el-form-item",{attrs:{label:"数据类型："}},[n("el-select",{staticStyle:{width:"100%"},attrs:{clearable:""},model:{value:t.nodetype,callback:function(e){t.nodetype=e},expression:"nodetype"}},[n("el-option",{attrs:{label:"全部",value:""}}),n("el-option",{attrs:{label:"添加",value:"1"}}),n("el-option",{attrs:{label:"更新",value:"2"}}),n("el-option",{attrs:{label:"删除",value:"8"}})],1)],1)],1),n("el-col",{staticClass:"text-right",attrs:{xs:24,sm:24,md:12,lg:8,xl:6}},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.findList(0)}}},[t._v("查询")])],1)],1)],1),n("el-row")],1)]),n("div",{staticClass:"flex-cont"},[n("v-list",{staticStyle:{height:"100%"},attrs:{lists:t.lists,info:t.info},on:{edit:t.edit}})],1),n("div",{staticClass:"flex-button"},[n("div",{staticClass:"margin-t16 text-right"},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.findList(0)}}},[t._v("第一页")]),t.pageNo>1?n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.findList(-1)}}},[t._v("上一页")]):t._e(),t.lists.length>=24?n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.findList(1)}}},[t._v("下一页")]):t._e(),t.lists.length<24?n("el-button",{attrs:{type:"primary"}},[t._v("已经是最后一页")]):t._e()],1)])])])},l=[],i=(n("bf19"),n("ac1f"),n("5319"),n("d3b7"),n("159b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.lists,border:"",height:"100%"}},[n("el-table-column",{attrs:{prop:"id",label:"标识",width:"100",align:"center"}}),n("el-table-column",{attrs:{prop:"tablename",label:"同步表名",width:"200",align:"center"}}),n("el-table-column",{attrs:{prop:"namecode",label:"任务名称",align:"center","min-width":"200"}}),n("el-table-column",{attrs:{prop:"data",label:"正确记录",align:"center",width:"150"}}),n("el-table-column",{attrs:{prop:"errrecord",label:"错误记录",align:"center","min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.errrArr.length?n("el-popover",{attrs:{placement:"bottom",title:"",width:"60%",trigger:"click"}},[n("div",t._l(e.row.errrArr,(function(e,a){return n("span",{key:a,staticStyle:{display:"block"}},[t._v(t._s(e))])})),0),n("el-button",{attrs:{slot:"reference"},slot:"reference"},[t._v("查看错误记录")])],1):n("span",[t._v("-")])]}}])}),n("el-table-column",{attrs:{prop:"nodetype",label:"数据类型",align:"center",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",[1==e.row.nodetype?n("span",[t._v("添加")]):t._e(),2==e.row.nodetype?n("span",[t._v("更新")]):t._e(),8==e.row.nodetype?n("span",[t._v("删除")]):t._e()])]}}])}),n("el-table-column",{attrs:{prop:"optdate",label:"开始时间",align:"center"}}),n("el-table-column",{attrs:{prop:"enddate",label:"完成时间",align:"center"}})],1)],1)}),r=[],s=n("b418"),o=n("373f"),c={props:["lists","info"],components:{},data:function(){return{}},computed:{},methods:{edit:function(t){this.$emit("edit",t)},del:function(t){var e=this;this.$confirm("确认要删除用户吗!","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(s["D"])(t).then((function(t){200===t.code&&Object(o["a"])(t.message)}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))}},mounted:function(){}},d=c,p=n("2877"),u=Object(p["a"])(d,i,r,!1,null,"f3ec2de4",null),f=u.exports,h={components:{vList:f},data:function(){return{namecode:"",enddate:"",nodetype:"",pageNo:1,lists:[],info:{isTrue:!1,isShow:!0}}},computed:{},methods:{add:function(){this.info.isTrue=!0,this.info.isShow=!0},edit:function(t){this.info.isShow=!1,this.info.isTrue=!0,this.$refs.aaa.getId(t)},dateFunction:function(t){var e=new Date(t).toJSON(),n=new Date(+new Date(e)+288e5).toISOString().replace(/T/g," ").replace(/\.[\d]{3}Z/,"");return n},findList:function(t){var e=this;0===t?this.pageNo=1:t>0?this.pageNo++:t<0&&this.pageNo--;var n={largeId:0};""!==this.enddate&&null!==this.enddate&&(this.$set(n,"beginDate",this.enddate[0]),this.$set(n,"endDate",this.enddate[1]+" 23:59:59")),""!==this.namecode&&this.$set(n,"namecode","%"+this.namecode+"%"),""!==this.nodetype&&this.$set(n,"nodetype",this.nodetype),Object(s["A"])(n,this.pageNo).then((function(t){t.data.forEach((function(t){t.errrArr=[],t.errrecord.indexOf("[")>=0&&t.errrecord.indexOf("]")>=0&&(t.errrArr=JSON.parse(t.errrecord)),t.optdate=e.dateFunction(t.optdate),t.enddate=e.dateFunction(t.enddate)})),e.lists=t.data}))}},created:function(){var t=this.changeData();this.enddate=t},mounted:function(){this.findList(0)}},m=h,b=Object(p["a"])(m,a,l,!1,null,null,null);e["default"]=b.exports}}]);